[{"issue_number":1,"repository":"angular\/angular","title":"Certain `@let` values can mimic internal data structure, breaking basic runtime logic","description":"### Which @angular\/* package(s) are the source of the bug?\n\ncore\n\n### Is this a regression?\n\nYes\n\n### Description\n\nBefore hydration and using signals my code worked. I refactored it to use signals and incremental hydration and it broke. The error message was not really meaningful: `Cannot add property i18nNodes, object is not extensible`\n\nI use [apollo-angular](https:\/\/www.npmjs.com\/package\/apollo-angular) which freezes every object in its state and results. The state cannot be modified.\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n```true\nCannot add property i18nNodes, object is not extensible\n\nThe line where the error has happened is https:\/\/github.com\/angular\/angular\/blob\/4491704fbaec02db8eec5845ffbb200dbf2a0bf6\/packages\/core\/src\/hydration\/i18n.ts#L660\n```\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nNX 20.3.0\nAngular 19.0.5\nAngular SSR 19.0.6\n```\n\n### Anything else?\n\nWorkaround:\n\nUnfreeze the object using some hacky js code: `const unfrozenObj = JSON.parse(JSON.stringify(obj));`\n\nPossible solutions:\nCheck before trying to set the values if the object is frozen using: `Object.isExtensible(object)`.\n1. Throw an error that the state is not extensible and provide some information on the current component which has the error.\n2. Show a warning during development and provide some information on the current component which has the error. In production mode ignore it.\n3. Ignore setting the values without any warning.\n\nI am very happy to code and make a PR on any of the solutions if the Angular team has decided.","labels":["area: core","state: has PR","P2","bug"],"created_at":"2025-01-13T16:40:46Z","comments":11,"reactions":1,"url":"https:\/\/github.com\/angular\/angular\/issues\/59504"},{"issue_number":2,"repository":"angular\/angular","title":"JavaScript heap out of memory after using signal inputs","description":"### Command\n\nbuild\n\n### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nHi,\n\nI have a lib with about 5000 components, all are similar and svg like this:\n\n```\n@Component({\n  selector: 'svg[si-alarm-icon]',\n  standalone: true,\n  imports: [],\n  template: `\n    <svg:path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" \/>\n    <svg:path\n      d=\"M16 6.072a8 8 0 1 1 -11.995 7.213l-.005 -.285l.005 -.285a8 8 0 0 1 11.995 -6.643zm-4 2.928a1 1 0 0 0 -1 1v3l.007 .117a1 1 0 0 0 .993 .883h2l.117 -.007a1 1 0 0 0 .883 -.993l-.007 -.117a1 1 0 0 0 -.993 -.883h-1v-2l-.007 -.117a1 1 0 0 0 -.993 -.883z\"\n    \/>\n    <svg:path\n      d=\"M6.412 3.191a1 1 0 0 1 1.273 1.539l-.097 .08l-2.75 2a1 1 0 0 1 -1.273 -1.54l.097 -.08l2.75 -2z\"\n    \/>\n    <svg:path\n      d=\"M16.191 3.412a1 1 0 0 1 1.291 -.288l.106 .067l2.75 2a1 1 0 0 1 -1.07 1.685l-.106 -.067l-2.75 -2a1 1 0 0 1 -.22 -1.397z\"\n    \/>\n  `,\n  styles: ``,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SiAlarmIcon implements OnInit {\n  private readonly elementRef = inject(ElementRef);\n  private readonly render = inject(Renderer2);\n\n  ngOnInit(): void {\n    const svg = this.elementRef.nativeElement;\n    this.render.setAttribute(svg, 'xmlns', 'http:\/\/www.w3.org\/2000\/svg');\n    this.render.setAttribute(svg, 'width', '24');\n    this.render.setAttribute(svg, 'height', '24');\n    this.render.setAttribute(svg, 'viewBox', '0 0 24 24');\n    this.render.setAttribute(svg, 'fill', 'currentColor');\n  }\n}\n```\n\nThe build for this lib is working fine, You can check this GitHub action: https:\/\/github.com\/khalilou88\/semantic-icons\/actions\/runs\/12750337283\/job\/35534834902\n\n\nI decided to use signal inputs to allow users to change inputs and I changed the implementation to be like this:\n\n```\n@Component({\n  selector: 'svg[si-alarm-icon]',\n  standalone: true,\n  imports: [],\n  template: `\n    <svg:path stroke=\"none\" d=\"M0 0h24v24H0z\" fill=\"none\" \/>\n    <svg:path\n      d=\"M16 6.072a8 8 0 1 1 -11.995 7.213l-.005 -.285l.005 -.285a8 8 0 0 1 11.995 -6.643zm-4 2.928a1 1 0 0 0 -1 1v3l.007 .117a1 1 0 0 0 .993 .883h2l.117 -.007a1 1 0 0 0 .883 -.993l-.007 -.117a1 1 0 0 0 -.993 -.883h-1v-2l-.007 -.117a1 1 0 0 0 -.993 -.883z\"\n    \/>\n    <svg:path\n      d=\"M6.412 3.191a1 1 0 0 1 1.273 1.539l-.097 .08l-2.75 2a1 1 0 0 1 -1.273 -1.54l.097 -.08l2.75 -2z\"\n    \/>\n    <svg:path\n      d=\"M16.191 3.412a1 1 0 0 1 1.291 -.288l.106 .067l2.75 2a1 1 0 0 1 -1.07 1.685l-.106 -.067l-2.75 -2a1 1 0 0 1 -.22 -1.397z\"\n    \/>\n  `,\n  host: {\n    '[attr.xmlns]': 'xmlns()',\n    '[attr.width]': 'width()',\n    '[attr.height]': 'height()',\n    '[attr.viewBox]': 'viewBox()',\n    '[attr.fill]': 'fill()',\n  },\n  styles: ``,\n  encapsulation: ViewEncapsulation.None,\n  changeDetection: ChangeDetectionStrategy.OnPush,\n})\nexport class SiAlarmIcon {\n  readonly xmlns = input<string>('http:\/\/www.w3.org\/2000\/svg');\n\n  readonly width = input<string | number>('24');\n\n  readonly height = input<string | number>('24');\n\n  readonly viewBox = input<string>('0 0 24 24');\n\n  readonly fill = input<string>('currentColor');\n}\n```\n\nNow the build don't work and I have JavaScript heap out of memory.\n\n```\n------------------------------------------------------------------------------\nBuilding entry point '@semantic-icons\/tabler-icons\/outline'\n------------------------------------------------------------------------------\n- Compiling with Angular sources in Ivy partial compilation mode.\n\u2714 Compiling with Angular sources in Ivy partial compilation mode.\n<--- Last few GCs --->\n[2192:0x6c895d0]   14[37](https:\/\/github.com\/khalilou88\/semantic-icons\/actions\/runs\/12750704442\/job\/35536032390#step:5:38)03 ms: Mark-Compact (reduce) 4045.6 (4143.9) -> 4044.8 (4143.7) MB, 3194.72 \/ 0.00 ms  (average mu = 0.324, current mu = 0.229) allocation failure; GC in old space requested\n[2192:0x6c895d0]   146870 ms: Mark-Compact (reduce) 4045.6 (4144.0) -> 4045.2 (4144.2) MB, 3164.06 \/ 0.00 ms  (average mu = 0.180, current mu = 0.001) allocation failure; GC in old space requested\n<--- JS stacktrace --->\nFATAL ERROR: Reached heap limit Allocation failed - JavaScript heap out of memory\n----- Native stack trace -----\n 1: 0xb8d0a3 node::OOMErrorHandler(char const*, v8::OOMDetails const&) [\/opt\/hostedtoolcache\/node\/20.18.1\/x64\/bin\/node]\n 2: 0xf06250 v8::Utils::ReportOOMFailure(v8::internal::Isolate*, char const*, v8::OOMDetails const&) [\/opt\/hostedtoolcache\/node\/20.18.1\/x64\/bin\/node]\n 3: 0xf06537 v8::internal::V8::FatalProcessOutOfMemory(v8::internal::Isolate*, char const*, v8::OOMDetails const&) [\/opt\/hostedtoolcache\/node\/20.18.1\/x64\/bin\/node]\n 4: 0x11180d5  [\/opt\/hostedtoolcache\/node\/20.18.1\/x64\/bin\/node]\n 5: 0x112ff58 v8::internal::Heap::CollectGarbage(v8::internal::AllocationSpace, v8::internal::GarbageCollectionReason, v8::GCCallbackFlags) [\/opt\/hostedtoolcache\/node\/20.18.1\/x64\/bin\/node]\n 6: 0x1106071 v8::internal::HeapAllocator::AllocateRawWithLightRetrySlowPath(int, v8::internal::AllocationType, v8::internal::AllocationOrigin, v8::internal::AllocationAlignment) [\/opt\/hostedtoolcache\/node\/20.18.1\/x64\/bin\/node]\n 7: 0x1107205 v8::internal::HeapAllocator::AllocateRawWithRetryOrFailSlowPath(int, v8::internal::AllocationType, v8::internal::AllocationOrigin, v8::internal::AllocationAlignment) [\/opt\/hostedtoolcache\/node\/20.18.1\/x64\/bin\/node]\n 8: 0x10e4856 v8::internal::Factory::NewFillerObject(int, v8::internal::AllocationAlignment, v8::internal::AllocationType, v8::internal::AllocationOrigin) [\/opt\/hostedtoolcache\/node\/20.18.1\/x64\/bin\/node]\n 9: 0x15[40](https:\/\/github.com\/khalilou88\/semantic-icons\/actions\/runs\/12750704442\/job\/35536032390#step:5:41)831 v8::internal::Runtime_AllocateInOldGeneration(int, unsigned long*, v8::internal::Isolate*) [\/opt\/hostedtoolcache\/node\/20.18.1\/x64\/bin\/node]\n10: 0x7fd5df4d9ef6\n```\n\nMore info here: https:\/\/github.com\/khalilou88\/semantic-icons\/actions\/runs\/12750704442\/job\/35536032390\n\n\n\n\n\n\n\n### Minimal Reproduction\n\nThe code is public here: https:\/\/github.com\/khalilou88\/semantic-icons\nThe brunch that have the problem is `inputs`\n\nThe command to run is : `npx nx run tabler-icons:build:production --skip-nx-cache`\n\nYou can also run `Build tabler-icons` workflow\n\nI understand if it's out of scope, since I am using NX, just want to share this. \n\n### Exception or Error\n\n```text\n\n```\n\n### Your Environment\n\n```text\nPS D:\\Workspace\\Projects\\semantic-icons> ng version\n\n     _                      _                 ____ _     ___\n    \/ \\   _ __   __ _ _   _| | __ _ _ __     \/ ___| |   |_ _|\n   \/ \u25b3 \\ | '_ \\ \/ _` | | | | |\/ _` | '__|   | |   | |    | |\n  \/ ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\n \/_\/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\n                |___\/\n\n\nAngular CLI: 19.0.7\nNode: 20.18.0\nPackage Manager: npm 10.0.0\nOS: win32 x64\n\nAngular: 19.0.6\n... animations, common, compiler, compiler-cli, core, forms\n... language-service, platform-browser, platform-browser-dynamic\n... router\n\nPackage                         Version\n---------------------------------------------------------\n@angular-devkit\/architect       0.1900.7\n@angular-devkit\/build-angular   19.0.7\n@angular-devkit\/core            19.0.7\n@angular-devkit\/schematics      19.0.7\n@angular\/cli                    19.0.7\n@schematics\/angular             19.0.7\nng-packagr                      19.0.1\nrxjs                            7.8.1\ntypescript                      5.6.3\nzone.js                         0.15.0\n\nPS D:\\Workspace\\Projects\\semantic-icons>\n```\n\n### Anything else relevant?\n\n_No response_","labels":["area: compiler","state: needs more investigation","bug"],"created_at":"2025-01-13T15:56:28Z","comments":4,"reactions":3,"url":"https:\/\/github.com\/angular\/angular\/issues\/59502"},{"issue_number":3,"repository":"angular\/angular","title":"No lint warnings for signals used within  control flow.","description":"### Which @angular\/* package(s) are relevant\/related to the feature request?\n\n_No response_\n\n### Description\n\n```\n@for (breadcrumb of breadcrumbs(); track breadcrumb.name; let i = $index) {\n          <div class=\"breadcrumb\">\n            @if (breadcrumb.linkPath) {\n              <a class=\"breadcrumb--link\" [routerLink]=\"[breadcrumb.linkPath]\"> {{ breadcrumb.name }}<\/a>\n            } @else {\n              <div class=\"breadcrumb--disabled\">\n                {{ breadcrumb.name }}\n              <\/div>\n            }\n\n            @if **(i < breadcrumbs.length - 1)** {\n              <inm-icon [name]=\"'ChevronRight'\" [size]=\"'x-small'\"><\/inm-icon>\n            }\n          <\/div>\n        }\n```\nThere currently are no lint warnings for `i < breadcrumbs.length - 1`, my workaround ended up being:\n\n```\n@if (breadcrumbs()?.length; as breadCrumbsLength) {\n      @if (breadcrumbs(); as breadcrumbs) {\n        <div class=\"breadcrumb-ct\">\n          @for (breadcrumb of breadcrumbs; track breadcrumb.name; let i = $index) {\n            <div class=\"breadcrumb\">\n              @if (breadcrumb.linkPath) {\n                <a class=\"breadcrumb--link\" [routerLink]=\"[breadcrumb.linkPath]\"> {{ breadcrumb.name }}<\/a>\n              } @else {\n                <div class=\"breadcrumb--disabled\">\n                  {{ breadcrumb.name }}\n                <\/div>\n              }\n\n              @if (i < breadCrumbsLength - 1) {\n                <inm-icon [name]=\"'ChevronRight'\" [size]=\"'x-small'\"><\/inm-icon>\n              }\n            <\/div>\n          }\n        <\/div>\n      }\n    }\n```\n\nAs directly using `i < breadcrumbs()?.length - 1` receives a linting error of object undefined, even if it's nested within an if statement here:\n\n```\n@if (breadcrumbs() && breadcrumbs()?.length) {\n      <div class=\"breadcrumb-ct\">\n        @for (breadcrumb of breadcrumbs(); track breadcrumb.name; let i = $index) {\n          <div class=\"breadcrumb\">\n            @if (breadcrumb.linkPath) {\n              <a class=\"breadcrumb--link\" [routerLink]=\"[breadcrumb.linkPath]\"> {{ breadcrumb.name }}<\/a>\n            } @else {\n              <div class=\"breadcrumb--disabled\">\n                {{ breadcrumb.name }}\n              <\/div>\n            }\n\n            @if (i < breadcrumbs()?.length - 1) {\n              <inm-icon [name]=\"'ChevronRight'\" [size]=\"'x-small'\"><\/inm-icon>\n            }\n          <\/div>\n        }\n      <\/div>\n    }\n```\n\n### Proposed solution\n\nTo still have linting errors if invoking signals within nested @if and @for statenents.\n\n### Alternatives considered\n\nn\/a","labels":["area: core","P4","bug","core: reactivity","cross-cutting: signals"],"created_at":"2025-01-07T10:42:04Z","comments":3,"reactions":0,"url":"https:\/\/github.com\/angular\/angular\/issues\/59394"},{"issue_number":4,"repository":"angular\/angular","title":"Inputs on Component decorator do not support signal signals.","description":"### Which @angular\/* package(s) are the source of the bug?\n\ncore\n\n### Is this a regression?\n\nNo\n\n### Description\n\nHi Team,\n\nWe are trying to migrate to signal inputs on a number of our base components. \n\nWe have encountered an issue using the inputs array in the component decorator to expose the inputs in the base class. \n\nWe are able to get the data to flow the component to the base class using attribute binding and the inputs array. However, the mechanism by which Angular does this does not seem to be able to detect that the base class is using signal inputs and the raw value is set in the base class.\n\nFor example if we do something like this - <component [context]=\"{ entity: 'job }\" \/>. We expect that in the base class this will be set into the input signal. However, we find this that context property is now just an object. { context: { entity: 'job' }} \n\nIt appears that the mechanism used to set the exposed inputs on components is not aware of signal inputs whilst the mechanism used for host directives is.\n\nIn my example I have included an simple inherited component and a component exposing inputs via host directives.\n\nKind Regards,\nTarek\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps:\/\/stackblitz.com\/edit\/stackblitz-starters-rrxvfhpf?file=src%2Fmain.ts\n\n### Please provide the exception or error you saw\n\n```true\nThe error is form the example above. More specifically from the InheritComponent example.\n\nERROR TypeError: this.context is not a function at Object.fn (inherit.component.ts:25:44)\n\nWhilst in the HostDirectiveComponent I created I do not get an error and calling context() returns the value passed to the component because it is correctly set into the input signal.\n```\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 19.0.5\nNode: 20.18.1\nPackage Manager: bun 1.1.38\nOS: darwin arm64\n\nAngular: 19.0.4\n... animations, common, compiler, compiler-cli, core, forms\n... localize, platform-browser, platform-browser-dynamic\n... platform-server, router\n\nPackage                         Version\n---------------------------------------------------------\n@angular-devkit\/architect       0.1900.2\n@angular-devkit\/build-angular   19.0.5\n@angular-devkit\/core            19.0.5\n@angular-devkit\/schematics      19.0.5\n@angular\/build                  19.0.2\n@angular\/cdk                    19.0.3\n@angular\/cdk-experimental       19.0.3\n@angular\/cli                    19.0.5\n@angular\/ssr                    19.0.5\n@schematics\/angular             19.0.5\nrxjs                            7.8.1\ntypescript                      5.5.3\nzone.js                         0.15.0\n```\n\n### Anything else?\n\n_No response_","labels":["hotlist: error messages","area: core","core: inputs \/ outputs","P4","bug"],"created_at":"2024-12-17T07:04:38Z","comments":3,"reactions":1,"url":"https:\/\/github.com\/angular\/angular\/issues\/59214"},{"issue_number":5,"repository":"angular\/angular","title":"The `provideAnimations()` return type is `Provider` instead of `EnvironmentProviders`","description":"### Which @angular\/* package(s) are the source of the bug?\n\nplatform-browser\n\n### Is this a regression?\n\nNo\n\n### Description\n\nThe `provideAnimations()` return type is `Provider` which makes it possible to add it to the `providers: []` of standalone component which is never correct as the multiple provisions could lead to multiple instances of created injectables which leads to random errors at runtime.\n\nFor example we had case where `@if` was adding but never removing the created elements...\n\nThe `provideAnimationsAsync()` already returns correct `EnvironmentProviders` type which prevents this misuse\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n```true\n\n```\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\n_                      _                 ____ _     ___\n    \/ \\   _ __   __ _ _   _| | __ _ _ __     \/ ___| |   |_ _|\n   \/ \u25b3 \\ | '_ \\ \/ _` | | | | |\/ _` | '__|   | |   | |    | |\n  \/ ___ \\| | | | (_| | |_| | | (_| | |      | |___| |___ | |\n \/_\/   \\_\\_| |_|\\__, |\\__,_|_|\\__,_|_|       \\____|_____|___|\n                |___\/\n\n\nAngular CLI: 19.0.2\nNode: 22.11.0\nPackage Manager: npm 10.9.0\nOS: linux x64\n\nAngular: 19.0.1\n... animations, cdk, common, compiler, compiler-cli, core, forms\n... material, platform-browser, platform-browser-dynamic, router\n\nPackage                      Version\n------------------------------------------------------\n@angular-devkit\/architect    0.1900.2\n@angular-devkit\/core         19.0.2\n@angular-devkit\/schematics   19.0.2\n@angular\/build               19.0.2\n@angular\/cli                 19.0.2\n@schematics\/angular          19.0.2\nrxjs                         7.8.1\ntypescript                   5.6.3\nzone.js                      0.15.0\n```\n\n### Anything else?\n\n_No response_","labels":["area: animations","state: has PR","P3","bug"],"created_at":"2024-12-04T15:25:07Z","comments":0,"reactions":3,"url":"https:\/\/github.com\/angular\/angular\/issues\/59044"},{"issue_number":6,"repository":"angular\/angular","title":"Two-way binding ignores output type since angular 17.2+","description":"### Which @angular\/* package(s) are the source of the bug?\n\ncore\n\n### Is this a regression?\n\nYes\n\n### Description\n\nWhen using two-way binding (aka banana-in-a-box), the output type is ignored or treated as `any`, after some testing it seems it started happening after v17.2.0.\nThis error stills happening in the current version (v19.0.1) and happens either with `@Output`, `output` or `model`, also happens when you bind a `WritableSignal`.\n\nExample:\n```tsx\n@Compotnent({\n    selector: 'foo',\n    ...\n})\nexport class FooComponent {\n    @Input() value: string | number | undefined;\n    @Output() valueChange = new EventEmitter<number>();\n}\n\n@Component({\n    template: `\n        <foo [(value)]=\"str\"\/> <!-- ERROR: doesn't complain with 'number' is not assignable to 'string' -->\n        <foo [value]=\"str\" (valueChange)=\"str = $event\"\/> <!-- OK: complains with 'number' is not assignable to 'string' -->\n    `\n})\nexport class AppComponent {\n    str: string = \"\";\n}\n```\n\nReproduction with ng17.0: https:\/\/stackblitz.com\/edit\/stackblitz-starters-krwib7?file=src%2Fmain.ts\nReproduction with ng17.2: https:\/\/stackblitz.com\/edit\/stackblitz-starters-tky4w1?file=src%2Fmain.ts\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps:\/\/stackblitz.com\/edit\/stackblitz-starters-tky4w1?file=src%2Fmain.ts\n\n### Please provide the exception or error you saw\n\n```true\n\n```\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 17.2.3\nNode: 18.20.3\nPackage Manager: npm 10.2.3\nOS: linux x64\n\nAngular: 17.2.4\n... animations, common, compiler, compiler-cli, core, forms\n... platform-browser, platform-browser-dynamic, router\n\nPackage                         Version\n---------------------------------------------------------\n@angular-devkit\/architect       0.1702.3\n@angular-devkit\/build-angular   17.2.3\n@angular-devkit\/core            17.2.3\n@angular-devkit\/schematics      17.2.3\n@angular\/cli                    17.2.3\n@schematics\/angular             17.2.3\nrxjs                            7.8.1\ntypescript                      5.2.2\nzone.js                         0.14.10\n```\n\n### Anything else?\n\n_No response_","labels":["state: has PR","area: compiler","P3","compiler: template type-checking","bug"],"created_at":"2024-11-29T12:27:02Z","comments":1,"reactions":0,"url":"https:\/\/github.com\/angular\/angular\/issues\/58971"},{"issue_number":7,"repository":"angular\/angular","title":"resource loader param `request` fails to exclude `undefined` from `request` returned value","description":"### Which @angular\/* package(s) are the source of the bug?\n\ncore\n\n### Is this a regression?\n\nNo\n\n### Description\n\n`request` field in `ResourceLoaderParams` should exclude `undefined` type from returned value of `request` function.\n\n```ts\nexport class ProductViewer {\n  productId = input.required<number | undefined>(); \n  productResource: ResourceRef<Product> = resource({\n    request: () => this.productId(), \/\/ <= number | undefined\n    loader: async ({ request: productId, abortSignal }) => {\n      assertDefined(productId); \/\/ number;\n      const resp = await fetch(`https:\/\/dummyjson.com\/products\/${productId}`);\n      return resp.json() as Promise<Product>;\n    },\n  });\n}\n```\n\nSource: https:\/\/github.com\/angular\/angular\/blob\/main\/packages\/core\/src\/resource\/api.ts#L148-L154\n\n```ts\nexport interface ResourceLoaderParams<R> {\n  request: Exclude<NoInfer<R>, undefined>;\n  abortSignal: AbortSignal;\n  previous: {\n    status: ResourceStatus;\n  };\n}\n```\n\nHowever, `undefined` is not excluded for certain types. In my experiments, the behavior is observed when the type is not a primitive like `string` or `number`, and can be reproduced by simply changing the type number to Number, for example:\n\n```ts\nexport class ProductViewer {\n  productId = input.required<Number | undefined>(); \n  productResource: ResourceRef<Product> = resource({\n    request: () => this.productId(), \/\/ <= Number | undefined\n    loader: async ({ request: productId, abortSignal }) => {\n      assertDefined(productId); \/\/ !!! undefined remains !!!\n      const resp = await fetch(`https:\/\/dummyjson.com\/products\/${productId}`);\n      return resp.json() as Promise<Product>;\n    },\n  });\n}\n```\n\nThis is a typedef issue, as the `request` parameter cannot be undefined.\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps:\/\/stackblitz.com\/edit\/stackblitz-starters-mp9zqz?file=src%2Fmain.ts\n\n### Please provide the exception or error you saw\n\n```true\n\n```\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 19.0.0\nNode: 18.20.3\nPackage Manager: npm 10.2.3\nOS: linux x64\n\nAngular: 19.0.0\n... animations, cli, common, compiler, compiler-cli, core, forms\n... platform-browser, router\n```\n\n### Anything else?\n\n_No response_","labels":["area: core","cross-cutting: types","bug","core: reactivity"],"created_at":"2024-11-25T11:46:29Z","comments":4,"reactions":4,"url":"https:\/\/github.com\/angular\/angular\/issues\/58871"},{"issue_number":8,"repository":"angular\/angular","title":"HttpInterceptor can trigger effect recomputation","description":"### Which @angular\/* package(s) are the source of the bug?\n\ncommon\n\n### Is this a regression?\n\nNo\n\n### Description\n\nI have a service with a signal that is used inside interceptor. If we have inside `effect` HttpClient usage, effect will catch signal reads inside interceptor function.\n\nHere is a minimal repro: https:\/\/stackblitz.com\/edit\/stackblitz-starters-o7huam?file=src%2Fmain.ts\nI have effect without any signal reads but if in the end of effect function I will print effect producerNode, we will see that effect tracks smth, and that is signal that is read inside interceptor. And http call happens each time when signal inside interceptor changes.\n\n\nIMHO, this is undocumented behavior of http client + interceptor + effect and it works only in combination. The solution for this behavior will be wrapping signal read with `untracked`.\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps:\/\/stackblitz.com\/edit\/stackblitz-starters-o7huam?file=src%2Fmain.ts\n\n### Please provide the exception or error you saw\n\n```true\nWhen inside effect I have http call via HttpClient, effect starting to track signal that is read inside interceptors.\n```\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 18.2.7\nNode: 18.20.3\nPackage Manager: npm 10.2.3\nOS: linux x64\n\nAngular: 18.2.7\n... animations, cli, common, compiler, compiler-cli, core, forms\n... platform-browser, router\n\nPackage                         Version\n---------------------------------------------------------\n@angular-devkit\/architect       0.1802.7\n@angular-devkit\/build-angular   18.2.7\n@angular-devkit\/core            18.2.7\n@angular-devkit\/schematics      18.2.7\n@schematics\/angular             18.2.7\nrxjs                            7.8.1\ntypescript                      5.5.4\nzone.js                         0.14.10\n```\n\n### Anything else?\n\n_No response_","labels":["area: core","area: common\/http","bug","core: reactivity","cross-cutting: signals"],"created_at":"2024-11-15T10:20:11Z","comments":6,"reactions":2,"url":"https:\/\/github.com\/angular\/angular\/issues\/58682"},{"issue_number":9,"repository":"angular\/angular","title":"Output migration transforms eventEmitter.emit() into invalid output.emit()","description":"### Which @angular\/* package(s) are the source of the bug?\n\ncore\n\n### Is this a regression?\n\nYes\n\n### Description\n\nThe output migration transforms:\n\n```ts\n@Output() eventEmitter = new EventEmitter<string>();\n\n\/\/ later\neventEmitter.emit();\n```\n\ninto\n```ts\neventEmitter = output<string>();\n\n\/\/ later\neventEmitter.emit();\n```\n\nBut the value is mandatory in the `output.emit` signature, so the application breaks.\nThe migration could generate `emit(undefined)` in that case, or add a `TODO` or only treat this in with the `--best-effort-mode` option.\n\nTo repro, in the following Stackblitz, run:\n\n```\nng g @angular\/core:signals --migrations=outputs --path=.\/ --no-best-effort-mode\n```\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps:\/\/stackblitz.com\/edit\/stackblitz-starters-h5tea2?file=src%2Fmain.ts\n\n### Please provide the exception or error you saw\n\n```true\n\u2718 [ERROR] TS2554: Expected 1 arguments, but got 0. [plugin angular-compiler]\n\n    src\/main.ts:18:22:\n      18 \u2502     this.eventEmitter.emit();\n         \u2575                       ~~~~\n\n  An argument for 'value' was not provided.\n\n    node_modules\/@angular\/core\/index.d.ts:8288:9:\n      8288 \u2502     emit(value: T): void;\n```\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 19.0.0-rc.1\nNode: 18.20.3\nPackage Manager: npm 10.2.3\nOS: linux x64\n\nAngular: 19.0.0-rc.1\n... animations, cli, common, compiler, compiler-cli, core, forms\n... platform-browser, router\n\nPackage                         Version\n---------------------------------------------------------\n@angular-devkit\/architect       0.1900.0-rc.1\n@angular-devkit\/build-angular   19.0.0-rc.1\n@angular-devkit\/core            19.0.0-rc.1\n@angular-devkit\/schematics      19.0.0-rc.1\n@schematics\/angular             19.0.0-rc.1\nrxjs                            7.8.1\ntypescript                      5.5.4\nzone.js                         0.14.10\n```\n\n### Anything else?\n\n_No response_","labels":["area: migrations","bug"],"created_at":"2024-11-14T09:40:25Z","comments":3,"reactions":0,"url":"https:\/\/github.com\/angular\/angular\/issues\/58650"},{"issue_number":10,"repository":"angular\/angular","title":"@angular\/elements uses (internal) property name for custom element properties, but template name for attributes","description":"## Angular edit\n\nAngular elements defines (`Object.defineProperty`) a property for each input of an element's component, as well as an HTML attribute which feeds into each property. Each input is thus represented by a property\/attribute pair, as in the real DOM.\n\nHowever, the way we name these things differs. `createCustomElement` uses the template name of the input for the attribute API, but the property name of the input for the DOM\/property API. This was likely done intentionally as it makes _some_ sense - property name for properties - but it doesn't consider that the property name is meant to be an implementation detail of a component and shouldn't end up on its public API.\n\nFixing this would be a breaking change.\n\n## Original Issue\n\nWhen declaring an input with alias inside of a component and use `createCustomElement` of that component.\nex.\n\n```\nreadonly name = input<string>(\n    'name',\n    { alias: 'customName' },\n  );\n```\n\nOn the actual web-component there are no such attribute as `customName`, only `name` will exist and work.\n\n\nLooks  like that `ComponentFactory`  at method `resolveComponentFactory` which returns `inputs` array with `propName` of each input is not actually aliased name.\n\nhttps:\/\/github.com\/angular\/angular\/blob\/main\/packages\/elements\/src\/component-factory-strategy.ts#L46","labels":["area: elements","P3","bug","cross-cutting: signals"],"created_at":"2024-10-22T14:54:19Z","comments":5,"reactions":3,"url":"https:\/\/github.com\/angular\/angular\/issues\/58302"},{"issue_number":11,"repository":"angular\/angular","title":"Using a track function directly in the new @for loop is not supported nor compiled","description":"### Which @angular\/* package(s) are the source of the bug?\n\ncore\n\n### Is this a regression?\n\nNo\n\n### Description\n\nThe following code\n\n```\n@for (a of b; track method) {}\n```\n\nand having\n```\nmethod = (index, item) => { return index }\n```\n\nThe method is actually not called.\n\nIt comes to a surprise because the language service will link properly and everything but it doesn't actually run the tracking method.\nFor someone who comes from an `*ngFor`, they will blindly switch this `trackBy` to `track` and things will start failing at runtime.\n\nIf this is the \"norm\" then maybe the documentation should be reflected that you have to call `method($index, a)`, but this is not obvious\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps:\/\/angular-e967ee.stackblitz.io\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\nAngular CLI: 17.3.2\nNode: 20.11.1\nPackage Manager: npm 8.5.5\nOS: win32 x64\n\nAngular: 17.3.2\n... animations, cdk, cli, common, compiler, compiler-cli, core\n... forms, google-maps, language-service, localize, material\n... platform-browser, platform-browser-dynamic, platform-server\n... router, ssr\n\nPackage                         Version\n---------------------------------------------------------\n@angular-devkit\/architect       0.1703.2\n@angular-devkit\/build-angular   17.3.2\n@angular-devkit\/core            17.3.2\n@angular-devkit\/schematics      17.3.2\n@schematics\/angular             17.3.2\nrxjs                            7.8.1\ntypescript                      5.2.2\nzone.js                         0.14.4\n\n### Anything else?\n\n_No response_","labels":["area: core","P3","bug","core: control flow"],"created_at":"2024-10-18T15:44:09Z","comments":2,"reactions":3,"url":"https:\/\/github.com\/angular\/angular\/issues\/58264"},{"issue_number":12,"repository":"angular\/angular","title":"ng-content doesn't project deferrable views","description":"### Which @angular\/* package(s) are the source of the bug?\n\ncore\n\n### Is this a regression?\n\nNo\n\n### Description\n\nIt is not possible to use content projection based on CSS selectors when the projected content is in a deferrable view.  \nBut it works when using `contentChildren` with structural directives and `ngTemplateOutlet`.\nI was expecting that both approaches work the same regarding deferrable views, and it would be really nice to use `@defer` in simple CSS selector based content projection as well.\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps:\/\/stackblitz.com\/edit\/stackblitz-starters-ty28hm?file=src%2Fmain.ts\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\nAngular v18\n\n### Anything else?\n\n_No response_","labels":["area: core","core: content projection","P3","bug","core: defer"],"created_at":"2024-10-07T20:36:00Z","comments":3,"reactions":4,"url":"https:\/\/github.com\/angular\/angular\/issues\/58110"},{"issue_number":13,"repository":"angular\/angular","title":"Dynamically-created component not removed when zoneless is combined with animations","description":"### Is this a regression?\n\n- [x] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\nno very sure, but around 18.2.x\n\n### Description\n\n![Image](https:\/\/github.com\/user-attachments\/assets\/edf3af97-3ea8-44a9-a4db-7dcfffc30469)\n\nThe overlay content has not been removed.\n\n### Reproduction\n\nStackBlitz link: \nSteps to reproduce:\n1. git clone [https:\/\/github.com\/keatkeat87\/ng-mat-overlay-detach-issue.git](https:\/\/github.com\/keatkeat87\/ng-mat-overlay-detach-issue.git)\n2. ng serve\n3. click open and then close.\n![Image](https:\/\/github.com\/user-attachments\/assets\/edf3af97-3ea8-44a9-a4db-7dcfffc30469)\n\n\nif use ZoneChangeDetection, then no problem.\n```\nexport const appConfig: ApplicationConfig = {\n  providers: [provideZoneChangeDetection({ eventCoalescing: true }), provideAnimations()] \/\/ work\n  \/\/ providers: [provideExperimentalZonelessChangeDetection(), provideAnimations()] \/\/ no work\n};\n```\nonly ZonelessChangeDetection have the problem.\n\nif we manual call detectChanges(), then it work.\n```\nexport class ModalContainerComponent {\n  private readonly overlayRef = inject(OverlayRef);\n  private cdk = inject(ChangeDetectorRef);\n\n  close() {\n    this.overlayRef.detach();\n    this.cdk.detectChanges(); \/\/ manual detectChanges will work\n    \/\/ this.cdk.detectChanges(); \/\/ without detectChanges no work\n  }\n}\n```\n\n\n### Expected Behavior\n\nThe overlay content should be removed.\n\n### Actual Behavior\n\nThe overlay content has not been removed.\n\n### Environment\n\nAngular CLI: 18.2.7\nNode: 20.11.1\nPackage Manager: yarn 1.22.19\nOS: win32 x64\n\nAngular: 18.2.7\n... animations, cli, common, compiler, compiler-cli, core, forms\n... platform-browser, platform-browser-dynamic, router\n\nPackage                         Version\n---------------------------------------------------------\n@angular-devkit\/architect       0.1802.7\n@angular-devkit\/build-angular   18.2.7\n@angular-devkit\/core            18.2.7\n@angular-devkit\/schematics      18.2.7\n@angular\/cdk                    18.2.6\n@angular\/material               18.2.6\n@schematics\/angular             18.2.7\nrxjs                            7.8.1\ntypescript                      5.5.4\nzone.js                         0.14.10","labels":["area: animations","hotlist: components team","area: core","P2","bug","core: zoneless"],"created_at":"2024-10-03T07:44:09Z","comments":1,"reactions":0,"url":"https:\/\/github.com\/angular\/angular\/issues\/58075"},{"issue_number":14,"repository":"angular\/angular","title":"Initializer APIs (input, output, queries) not integrating with `TestBed.override` in a jit & aot mix","description":"Investigation result of: https:\/\/github.com\/angular\/angular\/pull\/57668\r\n\r\n`TestBed.overrideComponent` seems to not work well with signal inputs, queries, output, or other non-decorator APIs.\r\n\r\nThat is because the `setClassMetadata` calls (generated for JIT) are used to re-compile the component with the overrides \u2014 **but** there is no decorator for the e.g. `input()` calls, hence this metadata is lost.\r\n\r\nOptions I could see:\r\n\r\n- Smartly merging directly with the original component metadata in TestBed. \r\n   * Will be hard to detect output as it's non-distinguishable from decorator outputs.\r\n   * I guess, we could fully re-use inputs, queries etc. metadata instead of relying on prop decorators..?\r\n- Adding synthetic prop decorators to `setClassMetadata`.\r\n   * Would be great to re-use the JIT transforms.. but those need an import manager; so needs a bit of refactoring!\r\n\r\n**Note**: I do think this may not be a problem in Angular CLI applications because full tests are compiled with JIT transforms in place! Here it fails because we mix AOT targets with JIT targets; without any JIT transforms","labels":["area: compiler","core: queries","core: inputs \/ outputs","P3","compiler: jit","bug"],"created_at":"2024-09-24T10:29:26Z","comments":2,"reactions":2,"url":"https:\/\/github.com\/angular\/angular\/issues\/57944"},{"issue_number":15,"repository":"angular\/angular","title":"Angular effect throws \"Unsubscription error\" when signal is set in finalize operator","description":"### Which @angular\/* package(s) are the source of the bug?\r\n\r\ncore\r\n\r\n### Is this a regression?\r\n\r\nYes\r\n\r\n### Description\r\n\r\nI am getting an error when I use effect to call an http request whenever my input signal changes, the occurs when the input `search` changes before the current request is completed. After investigating, it appears to be happening because of setting `loading` signal to false inside the `finalize` operator.\r\n\r\nIt is probably happening because the effect is triggered when the input is changing and then sets the loading to true, but at the same time the finalize from the previous request which got unsubscribed, sets the loading to false.\r\n\r\n\r\n```ts\r\nconstructor() {\r\n  let sub$: Subscription;\r\n\r\n  effect((onCleanup: EffectCleanupRegisterFn) => {\r\n    const searchKey: string = this.search();\r\n\r\n    untracked(() => {\r\n      sub$?.unsubscribe();\r\n\r\n      if (searchKey) {\r\n        this.data.set(null);\r\n        this.loading.set(true);\r\n\r\n        sub$ = this.service.getData(searchKey).pipe(\r\n          tap((data) => this.data.set(data)),\r\n          finalize(() => this.loading.set(false))\r\n        ).subscribe();\r\n      }\r\n    });\r\n\r\n    onCleanup(() => sub$?.unsubscribe());\r\n  });\r\n}\r\n```\r\n\r\n**Runtime error is thrown:**\r\n\r\n![image](https:\/\/github.com\/user-attachments\/assets\/dfa0e58c-8a41-42f8-936a-06c448ddf456)\r\n\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\n[Stackblitz reproduction](https:\/\/stackblitz.com\/edit\/stackblitz-starters-dexwge).\r\n\r\nClick the button to trigger a request, then click again after a second and you will get the error in the console\r\n\r\n### Please provide the exception or error you saw\r\n\r\n```true\r\nmessage: \"1 errors occurred during unsubscription:\\n1) Error: NG0600\"\r\nname: \"UnsubscriptionError\"\r\n```\r\n\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\nAngular CLI: 17.3.8\r\nNode: 20.2.0\r\nPackage Manager: npm 9.6.6\r\nOS: win32 x64\r\n\r\nAngular: 17.3.11\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit\/architect       0.1703.8\r\n@angular-devkit\/build-angular   17.3.8\r\n@angular-devkit\/core            17.3.8\r\n@angular-devkit\/schematics      17.3.8\r\n@angular\/cdk                    17.3.10\r\n@angular\/cli                    17.3.8\r\n@angular\/material               17.3.10\r\n@schematics\/angular             17.3.8\r\nrxjs                            7.8.1\r\ntypescript                      5.4.5\r\nzone.js                         0.14.7\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\nWhen this error occurs, the effects in other components stop working.","labels":["area: core","P3","bug","core: reactivity","cross-cutting: signals"],"created_at":"2024-09-10T16:19:08Z","comments":4,"reactions":0,"url":"https:\/\/github.com\/angular\/angular\/issues\/57757"},{"issue_number":16,"repository":"angular\/angular","title":"Generic types of components\/directives are inferred as `any` when some corresponding inputs are omitted","description":"### Command\r\n\r\nserve\r\n\r\n### Is this a regression?\r\n\r\n- [ ] Yes, this behavior used to work in the previous version\r\n\r\n### The previous version in which this bug was not present was\r\n\r\n_No response_\r\n\r\n### Description\r\n\r\nI recently started to notice that after introducing `strictTemplates` and `strictNullChecks` in my project, WebStorm still sometimes highlights types incompatibility. So I started investigating whether it's my IDE's problem or not.\r\n\r\nLet's assume that we have a method in component, which accepts string as an argument. If we try to call it from a template with `undefined` or `null` explicitly, compiler would throw an error. However, this is not the case when library is involved. In my example [<mat-calendar>](https:\/\/material.angular.io\/components\/datepicker\/api#MatCalendar) is used along with `(selectedChange)`.\r\n\r\n`$event` can be null. And if I try to call that method with `$event.toString()`, compiler would not complain. Even something like `$event?.toString()` or `$event?.toString() ?? undefined` or `$event?.toString() || undefined` would still be fine for the compiler. At the same time something like `'' || undefined` will trigger a compilation error.\r\n\r\nHere is the StackBlitz [link](https:\/\/stackblitz.com\/edit\/4yhgc4?file=src%2Fexample%2Fdatepicker-inline-calendar-example.html). This is a fork from the [official example](https:\/\/material.angular.io\/components\/datepicker\/overview#using-mat-calendar-inline).\r\n\r\n### Minimal Reproduction\r\n\r\n- init strict application with `strictTemplates` & `strictNullChecks`\r\n- create component with a method, which accepts string as a single argument\r\n- call that method from the template using third-party library's component where `$event` can be `null`. E.g. `myMethod($event.toString())`\r\n\r\n### Exception or Error\r\n\r\n```text\r\nThis is what I would actually expect to see in such case, but no error was given.\r\n```\r\n\r\n\r\n### Your Environment\r\n\r\n```text\r\nAngular CLI: 18.2.1\r\nNode: 18.20.3\r\nPackage Manager: npm 10.2.3\r\nOS: linux x64\r\n\r\nAngular: 18.2.2\r\n... animations, cdk, common, compiler, compiler-cli, core, forms\r\n... localize, material, material-moment-adapter\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit\/architect       0.1802.1\r\n@angular-devkit\/build-angular   18.2.1\r\n@angular-devkit\/core            18.2.1\r\n@angular-devkit\/schematics      18.2.1\r\n@angular\/cli                    18.2.1\r\n@schematics\/angular             18.2.1\r\nrxjs                            7.4.0\r\ntypescript                      5.5.4\r\nzone.js                         0.14.10\r\n```\r\n\r\n\r\n### Anything else relevant?\r\n\r\n_No response_","labels":["state: has PR","area: compiler","core: inputs \/ outputs","P3","compiler: template type-checking","bug"],"created_at":"2024-09-03T16:58:10Z","comments":1,"reactions":0,"url":"https:\/\/github.com\/angular\/angular\/issues\/57644"},{"issue_number":17,"repository":"angular\/angular","title":"TS-996002 makes finding errors difficult","description":"### Which @angular\/* package(s) are the source of the bug?\r\n\r\ncompiler\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\n[Sharing modules](https:\/\/angular.dev\/guide\/ngmodules\/sharing) are very useful in large projects. But when the sharing module fails to compile because of an error within its `imports`, the console fills up with `TS-996002` for every component or module using the sharing module:\r\n\r\n```bash\r\n\u2718 [ERROR] TS-996002: 'FeatureCoreSharedModule' does not appear to be an NgModule class. [plugin angular-compiler]\r\n\r\n    libs\/features\/account\/src\/child\/child-feature.module.ts:23:4:\r\n      23 \u2502     FeatureCoreSharedModule,\r\n         \u2575     ~~~~~~~~~~~~~~~~~~~~~~~~~\r\n\r\n  Is it missing an @NgModule annotation?\r\n\r\n    libs\/features\/core\/src\/feature-core-shared.module.ts:151:13:\r\n      151 \u2502 export class FeatureCoreSharedModule {}\r\n```\r\n\r\nFor very large projects, `TS-996002`-errors can fill the whole console, pushing the actual error outside of the console stdout. Small errors that would take a few seconds to fix can take incredibly long, since developers have to manually go through all `imports` of a sharing module manually to find the error.\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\nRepro: https:\/\/github.com\/blidblid\/57341-reproduction\r\n\r\n### Steps:\r\n\r\n1. Note that `src\/app\/children\/h\/index.ts` is empty, which causes an error in `ChildrenSharingModule`\r\n2. `ng s`\r\n3. The console is filled with `TS-996002` for every import of `ChildrenSharingModule`\r\n\r\nEven though this is a small project, it still takes long time for a developer to figure out what's actually wrong.\r\n\r\n### Steps to compare logs with a broken feature module:\r\n\r\n1. Fix `src\/app\/children\/h\/index.ts`\r\n2. Remove contents of `src\/app\/features\/h\/index.ts` instead\r\n3. The console is now clear and concise with a single `TS-996002`.\r\n\r\n\r\n### Please provide the exception or error you saw\r\n\r\n```bash\r\n\u2718 [ERROR] TS-996002: 'FeatureCoreSharedModule' does not appear to be an NgModule class. [plugin angular-compiler]\r\n\r\n    libs\/features\/account\/src\/child\/child-feature.module.ts:23:4:\r\n      23 \u2502     FeatureCoreSharedModule,\r\n         \u2575     ~~~~~~~~~~~~~~~~~~~~~~~~~\r\n\r\n  Is it missing an @NgModule annotation?\r\n\r\n    libs\/features\/core\/src\/feature-core-shared.module.ts:151:13:\r\n      151 \u2502 export class FeatureCoreSharedModule {}\r\n```\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\nAngular CLI: 17.1.4\r\nNode: 20.12.0\r\nPackage Manager: yarn 1.22.19\r\nOS: darwin arm64\r\n\r\nAngular: 17.1.3\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, localize, platform-browser\r\n... platform-browser-dynamic, router, service-worker\r\n\r\nPackage                              Version\r\n--------------------------------------------------------------\r\n@angular-devkit\/architect            0.1701.4\r\n@angular-devkit\/build-angular        17.1.4\r\n@angular-devkit\/core                 17.1.4\r\n@angular-devkit\/schematics           17.1.4\r\n@angular\/cdk                         17.1.2\r\n@angular\/cli                         17.1.4\r\n@angular\/fire                        7.5.0\r\n@angular\/material                    17.1.2\r\n@angular\/material-date-fns-adapter   17.1.2\r\n@angular\/pwa                         17.1.4\r\n@schematics\/angular                  17.1.4\r\nng-packagr                           17.1.2\r\nrxjs                                 7.8.1\r\ntypescript                           5.3.3\r\nzone.js                              0.14.4\r\n\r\n### Anything else?\r\n\r\n_No response_","labels":["hotlist: error messages","area: core","area: compiler","core: NgModule","P3","bug"],"created_at":"2024-08-12T08:23:49Z","comments":3,"reactions":1,"url":"https:\/\/github.com\/angular\/angular\/issues\/57341"},{"issue_number":18,"repository":"angular\/angular","title":"Model inputs not working as expected","description":"### Which @angular\/* package(s) are the source of the bug?\r\n\r\ncore\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nHi, the new model inputs are not working as expected for me.\r\nWhen i change the model input from the parent component the change is not reflected in the child component.\r\nIn this example the parent component sets the `save` model input immediately to `false` again.\r\nIn the stackblitz you can the the `save` signals are getting out of sync\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\nhttps:\/\/stackblitz.com\/edit\/stackblitz-starters-pgh9xy?file=src%2Fmain.ts\r\n\r\n### Please provide the exception or error you saw\r\n\r\n_No response_\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\n@angular\/core: 18.1.1\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\nI want to implement a generic save component. This component sets the model input `save` to true and shows some loading indication as long as `save` is true.\r\n\r\nThis component is used from different parent component which intern either do http requests or just execute some code.\r\nWhen they are finished they set the `save` model to `false` again. Then the loading animation should stop in the child component.","labels":["state: Needs Design","area: core","core: inputs \/ outputs","P3","bug","core: reactivity","cross-cutting: signals"],"created_at":"2024-07-25T06:43:44Z","comments":10,"reactions":4,"url":"https:\/\/github.com\/angular\/angular\/issues\/57124"},{"issue_number":19,"repository":"angular\/angular","title":"Extended diagnostics do not run on structural directive attributes","description":"This came up while I was working on #57033. The visitor that is meant to visit every expression in a template currently skips over the `templateAttrs` ([see](https:\/\/github.com\/angular\/angular\/blob\/4ac39aeea988bd423795bac70d480620f49f2267\/packages\/compiler-cli\/src\/ngtsc\/typecheck\/extended\/api\/api.ts#L189)). This is incorrect, because the `templateAttrs` don't get copied over into the element node for something like `<div *ngIf=\"expr\"><\/div>`. As a result, our current extended diagnostics haven't been checking the expressions of structural directives. In #57033 I tried fixing it, but there were a lot of failures even for the trial run so I expect a lot more for a global one.  \r\n\r\nAs a workaround in #57033, I've added a flag that allows the problematic diagnostics to retain their old behavior, but eventually we should remove the `canVisitStructuralAttributes` flag and resolve the failures.","labels":["breaking changes","area: compiler","bug","compiler: extended diagnostics"],"created_at":"2024-07-23T08:57:11Z","comments":0,"reactions":0,"url":"https:\/\/github.com\/angular\/angular\/issues\/57094"},{"issue_number":20,"repository":"angular\/angular","title":"Angular devtools fails to display component information when it injects a number value","description":"### Is this a bug report or a feature request?\n\n- [X] Bug Report\n- [ ] Feature Request\n\n### Please provide the steps to reproduce the issue [Bug Report only]\n\nCreate a component that injects a number via an injection token:\r\n\r\n```ts\r\nconst MY_NUMBER = new InjectionToken<number>('my-number');\r\n\r\n@Component({\r\n  selector: 'app-component',\r\n  standalone: true,\r\n  providers: [{ provide: MY_NUMBER, useValue: 42 }]\r\n})\r\nexport class AppComponent {\r\n  readonly myNumber = inject(MY_NUMBER);\r\n}\r\n```\r\n\r\nUsing the chrome debugger shows it coming from `valueToLabel` inside `component-tree.ts`. It's trying to call `<number>.startsWith('_')`:\r\n\r\n![image](https:\/\/github.com\/angular\/angular\/assets\/55192399\/3020b917-d250-40bb-9d1a-850a6912baff)\r\n\r\nLink to source: https:\/\/github.com\/angular\/angular\/blob\/main\/devtools\/projects\/ng-devtools-backend\/src\/lib\/component-tree.ts#L324\r\n\n\n### Please provide the expected behavior vs the actual behavior you encountered [Bug Report only]\n\nI'd expect the component details to display normally.\n\n### Please provide a screenshot if possible [Bug Report only]\n\nThis fails with `e.startsWith` is not a function:\r\n\r\n![image](https:\/\/github.com\/angular\/angular\/assets\/55192399\/e3b8a826-10ec-4fb0-9b91-8684e6379ce9)\r\n\r\nThe devtools window displays nothing:\r\n![image](https:\/\/github.com\/angular\/angular\/assets\/55192399\/432cc497-a944-4edc-8b94-da82495af5ee)\n\n### Please provide the exception or error you saw [Bug Report only]\n\n```true\nTypeError: e.startsWith is not a function\r\n    at Se (component-tree.ts:341:11)\r\n    at fe (component-tree.ts:330:12)\r\n    at Ti (component-tree.ts:304:16)\r\n    at c (component-tree.ts:123:29)\r\n    at kn (component-tree.ts:149:5)\r\n    at client-event-subscribers.ts:148:19\r\n    at n (same-page-message-bus.ts:46:21)\r\n    at _ZoneDelegate.invokeTask (zone.umd.js:443:1)\r\n    at ZoneImpl.runTask (zone.umd.js:195:1)\r\n    at ZoneTask.invokeTask [as invoke] (zone.umd.js:527:1)\n```\n\n\n### Is this a browser-specific issue? If so, please specify the device, browser, and version. [Bug Report only]\n\n_No response_\n\n### Description [Feature Request only]\n\n_No response_\n\n### Proposed solution [Feature Request only]\n\n_No response_\n\n### Alternatives considered [Feature Request only]\n\n_No response_","labels":["area: devtools","bug"],"created_at":"2024-06-25T21:07:54Z","comments":0,"reactions":0,"url":"https:\/\/github.com\/angular\/angular\/issues\/56595"},{"issue_number":21,"repository":"angular\/angular","title":"DevTools cause Firefox to consume high CPU and memory on Microsoft 365 websites","description":"### Is this a bug report or a feature request?\n\n- [X] Bug Report\n- [ ] Feature Request\n\n### Please provide the steps to reproduce the issue [Bug Report only]\n\nWhen accessing any Microsoft sharepoint or office page, Firefox starts to use around 50% CPU and uses an increasing amount of memory, way beyond 10GB after a few minutes. \r\nDisabling Angular DevTools resolves the issue. \n\n### Please provide the expected behavior vs the actual behavior you encountered [Bug Report only]\n\nExpected behavior: No noticeable performance impact by Angular DevTools, especially on non-Angular websites\r\nActual behavior: Extreme resource usage on some websites when enabling Angular DevTools\n\n### Please provide a screenshot if possible [Bug Report only]\n\n_No response_\n\n### Please provide the exception or error you saw [Bug Report only]\n\n```true\nI have tried to get a memory dump or profiling session from Firefox but it is incredibly difficult given that Firefox itself starts to hang after a few seconds and the only way to get it to be responsive again is to close the tab, which will also free up all memory. \r\n\r\nHowever, I have noticed that the error started roughly 1 week ago, when I also received the latest DevTools update 1.0.16. \r\nThis update mentions: \"Adding support for inspecting Angular applications inside iframes\"\r\n\r\nWhen I leave the console open when loading sharepoint it reports hundreds of these messages (among other things): \r\nIFrame: origin https:\/\/autologon.microsoftazuread-sso.com is not in the allowed list.\r\nor: \r\nIFrame: Integrated Windows Authentication failed with status code 401 (Unauthorized).\r\n\r\nThese messages do not appear once I disable the extension. \r\n\r\nBlind guess: \r\nI come to the conclusion that the IFrame-inspection causes some issue with the Microsoft SSO mechanism. I read somewhere that authorization inside IFrames requires special attention due to clickjacking attacks: https:\/\/datatracker.ietf.org\/doc\/html\/rfc6819#section-4.4.1.9\r\nMaybe the inspection is interfering with this?\n```\n\n\n### Is this a browser-specific issue? If so, please specify the device, browser, and version. [Bug Report only]\n\n```true\nRunning Firefox 126.0 (64-Bit) on Windows 11\n```\n\n\n### Description [Feature Request only]\n\n_No response_\n\n### Proposed solution [Feature Request only]\n\n_No response_\n\n### Alternatives considered [Feature Request only]\n\n_No response_","labels":["area: devtools","bug"],"created_at":"2024-05-17T15:53:06Z","comments":11,"reactions":9,"url":"https:\/\/github.com\/angular\/angular\/issues\/55854"},{"issue_number":22,"repository":"angular\/angular","title":"ngProjectedAs not working when used as static host property inside @Component","description":"### Which @angular\/* package(s) are the source of the bug?\r\n\r\ncore\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nhttps:\/\/angular.io\/guide\/content-projection#projecting-content-in-more-complex-environments\r\n\r\nThis article introduces the ngProjectedAs host attribute as a way to manage more complex content projection challenges.\r\n\r\nI believe that if I set this as a static host attribute inside the host property of the @Component this should work as it is a static attribute assigned to the host.\r\n\r\nThe example below demonstrates the issue:\r\n```ts\r\n@Component({\r\n  selector: 'app-root',\r\n  standalone: true,\r\n  imports: [ProjectToComponent, ProjectAsHostComponent],\r\n  template: `\r\n  <h2>In line ngProjectAs<\/h2>\r\n  <project-to>\r\n    <div ngProjectAs=\"[projectedElement]\">I should be projected<\/div>\r\n  <\/project-to>\r\n\r\n  <h2>Static host property ngProjectAs<\/h2>\r\n  <project-to>\r\n    <project-as-host\/>\r\n  <\/project-to>\r\n  `,\r\n})\r\nexport class App {\r\n  name = 'Angular';\r\n}\r\n```\r\nwith project-as-host having the following source code:\r\n```ts\r\nimport { Component } from '@angular\/core';\r\n\r\n@Component({\r\n  selector: 'project-as-host',\r\n  standalone: true,\r\n  host: {\r\n    ngProjectAs: '[projectedElement]',\r\n  },\r\n  template: `\r\n\t\t<p>I should be projected<\/p>\r\n\t`,\r\n})\r\nexport default class ProjectAsHostComponent {}\r\n```\r\n\r\nA curious observation.\r\nIf I change the host attribute to ngProject and leave out the As, in the html I see the following correct static binding:\r\n```html\r\n<project-as-host ngproject=\"[projectedElement]\"><p>I should be projected<\/p><\/project-as-host>\r\n```\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\nhttps:\/\/stackblitz.com\/edit\/stackblitz-starters-tzechz?file=src%2Fmain.ts\r\n\r\n### Please provide the exception or error you saw\r\n\r\n```true\r\nThere is no error. The content is just not projected anywhere.\r\n```\r\n\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\nAngular CLI: 17.3.5\r\nNode: 18.18.0\r\nPackage Manager: npm 10.2.3\r\nOS: linux x64\r\n\r\nAngular: 17.3.5\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... platform-browser, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit\/architect       0.1703.5\r\n@angular-devkit\/build-angular   17.3.5\r\n@angular-devkit\/core            17.3.5\r\n@angular-devkit\/schematics      17.3.5\r\n@schematics\/angular             17.3.5\r\nrxjs                            7.8.1\r\ntypescript                      5.3.3\r\nzone.js                         0.14.4\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\nThe motivation for this is to work around content projection with select is currently limited to hard coded strings. This is an issue with what we are trying to achieve for spartan\/ui's select component that should ideally allow the user installing the dependency to configure a custom component to be projected as a trigger. More here: https:\/\/github.com\/goetzrobin\/spartan\/issues\/252","labels":["breaking changes","hotlist: error messages","area: core","area: compiler","core: content projection","P4","bug"],"created_at":"2024-04-19T23:44:00Z","comments":5,"reactions":5,"url":"https:\/\/github.com\/angular\/angular\/issues\/55438"},{"issue_number":23,"repository":"angular\/angular","title":"CSS scoping seems to convert properties","description":"### Which @angular\/* package(s) are the source of the bug?\r\n\r\ncompiler\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nIn my monorepo I implemented a component defining a `container` css property:\r\n\r\n```css\r\n:host {\r\n    container: host \/ inline-size;\r\n}\r\n```\r\n\r\nThis component is part of @company\/components.\r\nWhen using the component locally it works fine, but when implementing the published rc version in another repository the component css is scoped and results in:\r\n\r\n```css\r\n:host {\r\n    container-shadowcsshost-no-combinator\/inline-size\r\n}\r\n```\r\n\r\nAfter looking in the angular source code I see the only file containing `-shadowcsshost` is [shadow_css.ts](https:\/\/github.com\/angular\/angular\/blob\/2ab536ee3ed43cf1d20d0d073f133eb9225d6921\/packages\/compiler\/src\/shadow_css.ts).\r\n\r\nMy assumption is that it is too eagerly replacing `:host` in this case.\r\n\r\n> The same happens to any css property that allows the word `host` to be the first part of the property value:\r\n> 1. `grid-area: host` > `grid-area-shadowcsshost-no-combinator`\r\n> 2. `container-name: host-element` > `container-name-shadowcsshost-no-combinator-element`\r\n\r\n### Workaround\r\n\r\nNever use `host` as the first part of the property value inside the `:host` selector.\r\nWe decided on using `component` instead when naming container queries.\r\n\r\n```css\r\n:host {\r\n    container: component \/ inline-size;\r\n}\r\n```\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\n_No response_\r\n\r\n### Please provide the exception or error you saw\r\n\r\nThe `<script>` tag with the scoped css in the implementing application shows:\r\n\r\n```css\r\n:host {\r\n    container-shadowcsshost-no-combinator\/inline-size\r\n}\r\n```\r\n\r\ninstead of:\r\n\r\n```css\r\n:host {\r\n    container: host \/ inline-size;\r\n}\r\n```\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\nAngular CLI: 17.0.3\r\nNode: 20.9.0\r\nPackage Manager: pnpm 8.10.5\r\nOS: darwin arm64\r\n\r\nAngular: 17.0.4\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... language-service, platform-browser, platform-browser-dynamic\r\n... router, service-worker\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit\/architect       0.1700.3\r\n@angular-devkit\/build-angular   17.0.3\r\n@angular-devkit\/core            17.0.3\r\n@angular-devkit\/schematics      17.0.3\r\n@angular\/cdk                    17.0.1\r\n@angular\/cli                    17.0.3\r\n@schematics\/angular             17.0.3\r\nng-packagr                      17.0.2\r\nrxjs                            7.8.1\r\ntypescript                      5.2.2\r\nwebpack                         5.89.0\r\nzone.js                         0.14.2\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\nI'm using default `ViewEncapsulation.Emulated`","labels":["workaround1: obvious","area: core","core: CSS encapsulation","bug"],"created_at":"2024-02-05T14:07:37Z","comments":7,"reactions":0,"url":"https:\/\/github.com\/angular\/angular\/issues\/54256"},{"issue_number":24,"repository":"angular\/angular","title":"Css properties order matters","description":"### Which @angular\/* package(s) are the source of the bug?\n\nDon't known \/ other\n\n### Is this a regression?\n\nNo\n\n### Description\n\nI couldn't build my library after adding a font to it.\r\nI build with ```ng build look-n-play```.\r\nIt just leads to an infinite halt, where all I see is ```\u2834 Compiling with Angular sources in Ivy full compilation mode.```, even the ascii animation stops.\r\nI managed to trace the bug to @font-face css-rule. If I comment it out, the build proceeds.\r\nSo play-around led to discovery, that order-swap from font-family->src to src->font-family makes build proceed just fine. And more importantly it just works.\r\n\r\nThe file\r\nprojects\/look-n-play\/src\/typography.scss\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps:\/\/github.com\/EKashpersky\/look-n-play\n\n### Please provide the exception or error you saw\n\n```true\nNo exceptions, blank halt\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 17.1.1\r\nNode: 20.3.0\r\nPackage Manager: npm 9.6.7\r\nOS: darwin arm64\r\n\r\nAngular: 17.1.1\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit\/architect       0.1701.1\r\n@angular-devkit\/build-angular   17.1.1\r\n@angular-devkit\/core            17.1.1\r\n@angular-devkit\/schematics      17.1.1\r\n@schematics\/angular             17.1.1\r\nng-packagr                      17.1.2\r\nrxjs                            7.8.1\r\ntypescript                      5.3.3\r\nzone.js                         0.14.3\n```\n\n\n### Anything else?\n\n_No response_","labels":["area: compiler","P3","bug"],"created_at":"2024-02-03T13:38:27Z","comments":1,"reactions":0,"url":"https:\/\/github.com\/angular\/angular\/issues\/54232"},{"issue_number":25,"repository":"angular\/angular","title":"inject of ElementRef does not use generic type for the returned type inference","description":"### Which @angular\/* package(s) are the source of the bug?\r\n\r\ncore\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nConsider the example injection of the `ElementRef` with a specified generic type:\r\n\r\n```typescript\r\n  \/\/ OK: hostEl is of type ElementRef<HTMLElement>, as expected\r\n  hostElExplicit = inject<ElementRef<HTMLElement>>(ElementRef);\r\n\r\n  \/\/ KO: hostEl is of type ElementRef<any>, expecting ElementRef<HTMLElement>\r\n  hostElInfered = inject(ElementRef<HTMLElement>);\r\n```\r\n\r\nIdeally ` inject(ElementRef<HTMLElement>)` would have the return type of `ElementRef<HTMLElement>`.\r\n\r\nThe fix is likely around the type definition for the `ProviderToken`.\r\n\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\nhttps:\/\/stackblitz.com\/edit\/stackblitz-starters-p38xn9\r\n\r\n","labels":["area: core","core: di","cross-cutting: types","P3","bug"],"created_at":"2024-01-12T11:40:32Z","comments":6,"reactions":11,"url":"https:\/\/github.com\/angular\/angular\/issues\/53894"},{"issue_number":26,"repository":"angular\/angular","title":"DefaultDomRenderer2 causing setAttribute not a function error on comment elements","description":"### Which @angular\/* package(s) are the source of the bug?\r\n\r\nplatform-browser\r\n\r\n### Is this a regression?\r\n\r\nYes\r\n\r\n### Description\r\n\r\nRecently updated an angular project from version 6 to 16. All is working fine after upgrading but I do get an Error log in console with message \r\n```\r\nERROR TypeError: n.setAttribute is not a function\r\n``` \r\nI've managed to debug the issue and I can see that it's coming from the DefaultDomRenderer2 setAttribute function when the element is of type `#comment` \r\n\r\n![angular bug2](https:\/\/github.com\/angular\/angular\/assets\/38229085\/a7ba4833-9548-40dc-b318-5ddc8fe6e6e5)\r\n\r\n![angular bug](https:\/\/github.com\/angular\/angular\/assets\/38229085\/3637dcb4-1754-4cc3-90c4-37dcb83c7c1b)\r\n\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\nhttps:\/\/github.com\/magixian\/applyzer\r\n\r\n### Please provide the exception or error you saw\r\n\r\n```true\r\nERROR TypeError: n.setAttribute is not a function\r\n```\r\n\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\nAngular CLI: 16.2.11\r\nNode: 20.9.0\r\nPackage Manager: npm 10.1.0\r\nOS Win x64\r\nAngular: 16.2.11\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\n_No response_","labels":["area: compiler","P4","compiler: template type-checking","bug"],"created_at":"2024-01-02T16:01:38Z","comments":4,"reactions":0,"url":"https:\/\/github.com\/angular\/angular\/issues\/53760"},{"issue_number":27,"repository":"angular\/angular","title":"ngIf with animation, nested in ngFor, create clones of itself, when item is reordered \"upwards\"","description":"### Which @angular\/* package(s) are the source of the bug?\r\n\r\nanimations\r\n\r\n### Is this a regression?\r\n\r\n?\r\n\r\n### Description\r\n\r\nThe following code template malfunction when the `ngIf` item is \"moved\" \"upwards\" in the `ngFor` list (but not downwards).\r\n\r\n``` html\r\n<div *ngFor=\"let item of list$ | async; trackBy: trackFn\">\r\n  <div class=\"item\">\r\n    {{ item.text }}\r\n    <div *ngIf=\"item.id === openItem()\" [@State] class=\"sub-content\">\r\n      {{ item.text }} content\r\n    <\/div>\r\n  <\/div>\r\n<\/div>\r\n```\r\n\r\nThis error happens when the `trackBy` function return the `ngFor` item id. And the nested `ngIf` element has an animation.\r\n\r\nPlease see below in the video:\r\n[2023-12-11 14-19-04.webm](https:\/\/github.com\/angular\/angular\/assets\/7062803\/43b9150b-5f2d-4214-bb4e-db55131cf76c)\r\n\r\nThe end state in the video is shown in the image below, the template code pasted above generates two extra divs, one for each move \"upwards\".\r\n![image](https:\/\/github.com\/angular\/angular\/assets\/7062803\/6e392ce6-52ea-4680-8508-24502d2f9211)\r\n\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\nhttps:\/\/stackblitz.com\/edit\/hswtny?file=src%2Fexample%2Flist-overview-example.html\r\n\r\n### Please provide the exception or error you saw\r\n\r\n_No response_\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\nAngular 17.0.6, in stackblitz\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\nThe video wrongly shows \"Current build: 17.0.3\", it is 17.0.6.","labels":["area: animations","P3","bug"],"created_at":"2023-12-11T13:33:16Z","comments":3,"reactions":0,"url":"https:\/\/github.com\/angular\/angular\/issues\/53492"},{"issue_number":28,"repository":"angular\/angular","title":"After upgrade from angular 7 to 15 page rendering fails with error","description":"### Which @angular\/* package(s) are the source of the bug?\r\n\r\ncore\r\n\r\n### Is this a regression?\r\n\r\nYes\r\n\r\n### Description\r\n\r\nAfter upgrade from angular 7 to 15 page rendering fails with error\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\nhttps:\/\/stackblitz.com\/edit\/stackblitz-starters-xejxq3\r\n\r\n### Please provide the exception or error you saw\r\n\r\n```true\r\n`RangeError: Invalid string length\r\n    at Array.join (<anonymous>)\r\n    at Array.toString (<anonymous>)\r\n    at getOrCreateNodeInjectorForNode (vendor.js:239616:63)\r\n    at initializeDirectives (vendor.js:247200:24)\r\n    at resolveDirectives (vendor.js:247187:7)\r\n    at elementStartFirstCreatePass (vendor.js:249740:3)\r\n    at \u0275\u0275elementStart (vendor.js:249774:41)\r\n    at Module.\u0275\u0275element (vendor.js:249849:3)\r\n    at PageaccruallistComponent_Template (src_ts_generated-sources_page-accrual-list_module_ts.js:91587:63)\r\n    at executeTemplate (vendor.js:246773:5)`\r\n```\r\n\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\nAngular CLI: 15.2.10\r\nNode: 14.21.1\r\nPackage Manager: npm 6.14.17\r\nOS: win32 x64\r\n\r\nAngular: 15.2.10\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, platform-server\r\n... router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit\/architect       0.1502.10\r\n@angular-devkit\/build-angular   15.2.10\r\n@angular-devkit\/core            15.2.10\r\n@angular-devkit\/schematics      15.2.10\r\n@angular\/cdk                    15.2.9\r\n@schematics\/angular             15.2.10\r\nrxjs                            7.8.1\r\ntypescript                      4.9.5\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\n_No response_","labels":["area: core","core: di","state: needs more investigation","bug"],"created_at":"2023-11-29T06:30:06Z","comments":25,"reactions":0,"url":"https:\/\/github.com\/angular\/angular\/issues\/53245"},{"issue_number":29,"repository":"angular\/angular","title":"class names are not retained when host is used with Component decorator","description":"### Which @angular\/* package(s) are the source of the bug?\n\ncore, elements\n\n### Is this a regression?\n\nNo\n\n### Description\n\nConsider following example.\r\n\r\n```ts\r\n@Component({\r\n  selector: 'my-app',\r\n  template: `\r\n    <h1>Hello from {{name}}!<\/h1>\r\n    <a target=\"_blank\" href=\"https:\/\/angular.io\/start\">\r\n      Learn more about Angular \r\n    <\/a>\r\n  `,\r\n  host: {\r\n    class: 'xyz',\r\n  },\r\n});\r\n```\r\n\r\nwhen used as custom element like below\r\n\r\n```html\r\n<my-app-element class=\"abc\"><\/my-app-element>\r\n```\r\n\r\nThe `abc` class is removed and only `xyz` class is applied. \r\n\r\nExpected behavior would be to have both class applied on element whene rendered on DOM.\r\n\r\n \r\n\r\n\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps:\/\/stackblitz.com\/edit\/stackblitz-starters-qzdgyq?description=An%20angular-cli%20project%20based%20on%20@angular\/animations,%20@angular\/common,%20@angular\/compiler,%20@angular\/core,%20@angular\/forms,%20@angular\/platform-browser,%20@angular\/platform-browser-dynamic,%20@angular\/router,%20core-js,%20rxjs,%20tslib%20and%20zone.js&file=src%2Fmain.ts,src%2Findex.html&title=Angular%20Starter\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 16.1.5\r\nNode: 16.19.0\r\nPackage Manager: yarn 1.22.17\r\nOS: darwin arm64\r\n\r\nAngular: 16.1.5\r\n... animations, cdk, cli, common, compiler, compiler-cli, core\r\n... elements, forms, language-service, localize\r\n... platform-browser, platform-browser-dynamic, platform-server\r\n... router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit\/architect       0.1601.5\r\n@angular-devkit\/build-angular   16.1.5\r\n@angular-devkit\/core            16.1.5\r\n@angular-devkit\/schematics      16.1.5\r\n@schematics\/angular             16.1.5\r\nng-packagr                      16.1.0\r\nrxjs                            6.6.7\r\ntypescript                      4.9.5\r\nzone.js                         0.13.1\n```\n\n\n### Anything else?\n\n_No response_","labels":["area: core","area: elements","core: host and host bindings","P4","bug"],"created_at":"2023-08-22T09:54:15Z","comments":2,"reactions":3,"url":"https:\/\/github.com\/angular\/angular\/issues\/51460"},{"issue_number":30,"repository":"angular\/angular","title":"zone.js promises returning Unhandled Promise Rejection error even with catch blocks","description":"### Which @angular\/* package(s) are the source of the bug?\r\n\r\nzone.js\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nI've hit the same issue as described in #31680 and both this and that ticket have same root cause detailed bellow. Since I cannot reopened old issue I've created a new one. That older ticket was closed with a fix that was for a separate issue and the fix was not relevant or helped in anyway.\r\n\r\n### Repro\r\nFollowing simplified code will emit unhandled promise rejection even tho there is a catch handler. This happens only when zone.js is loaded. Without zone.js, all majors browsers (Chrome, Safari, Firefox) don't report anything in this case.\r\n\r\n```typescript\r\nonunhandledrejection = (e) => { console.log(\"Unhandled promise rejection\", e) }\r\n\r\n(async function() {\r\n    return Promise.reject(1);\r\n})().catch(e => {});\r\n\/\/ OR\r\n(async function() {\r\n    await Promise.reject(2);\r\n})().catch(e => {});\r\n```\r\nUsing native Promise.reject will not emit unhandled rejection.\r\n\r\n### Root cause:\r\nzone.js schedules the reporting of unhandled rejections on the microtask queue as soon as the promise is rejected. In the case of `Promise.reject` it schedules as part of the reject call.\r\nJS async function calls `.then` on the returned inner promise (Promise.reject) on the next microtask tick. This is defined in the Ecmascript spec.\r\nzone.js will end up running the code to report unhandled rejections before JS async function has a chance to call `then` and as such zone.js ends emiting unhandled rejection.\r\n\r\nAll major browsers check if unhandled rejections exists at the end of the microtask checkpoint (i.e. after draining the queue) and if needed will schedule on normal queue a task (or what you call a macro task) to process&report unhandled rejections. This allows sufficient time for the async infrastructure to hook to the returned promise. In Chrome and Safari it even allows sufficient time to add catch handler in a callback run by setTimeout of delay 0.\r\n\r\nChrome:\r\nhttps:\/\/github.com\/chromium\/chromium\/blob\/89e00b6b959f5efb4bd7eec468973badb3093a3b\/third_party\/blink\/renderer\/platform\/scheduler\/common\/event_loop.cc#L108\r\nhttps:\/\/github.com\/chromium\/chromium\/blob\/89e00b6b959f5efb4bd7eec468973badb3093a3b\/third_party\/blink\/renderer\/bindings\/core\/v8\/rejected_promises.cc#L248-L252\r\nFirefox:\r\nhttps:\/\/github.com\/mozilla\/gecko-dev\/blob\/77dd6aa3810610949a5ff925e24de2f8c11377fd\/xpcom\/base\/CycleCollectedJSContext.cpp#L473-L480\r\nSafari:\r\nhttps:\/\/github.com\/WebKit\/WebKit\/blob\/75a3eb3a5fe3dce1867d880faf785137963b234a\/Source\/WebCore\/dom\/Microtasks.cpp#L107\r\nhttps:\/\/github.com\/WebKit\/WebKit\/blob\/75a3eb3a5fe3dce1867d880faf785137963b234a\/Source\/WebCore\/dom\/RejectedPromiseTracker.cpp#L142-L144\r\n\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\n_No response_\r\n\r\n### Please provide the exception or error you saw\r\n\r\n```true\r\nUnhandled Promise rejection: 1 ; Zone: <root> ; Task: null ; Value: 1 undefined\r\nUnhandled Promise rejection: 2 ; Zone: <root> ; Task: null ; Value: 2 undefined\r\nUnhandled promise rejection PromiseRejectionEvent\u00a0{isTrusted: true,  reason: 1, type: 'unhandledrejection' ...}\r\nUncaught (in promise) 1\r\nUnhandled promise rejection PromiseRejectionEvent\u00a0{isTrusted: true,  reason: 2, type: 'unhandledrejection' ...}\r\nUncaught (in promise) 2\r\n```\r\n\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n_No response_\r\n\r\n### Anything else?\r\n\r\n_No response_","labels":["area: zones","P3","bug"],"created_at":"2023-08-10T23:59:34Z","comments":7,"reactions":11,"url":"https:\/\/github.com\/angular\/angular\/issues\/51328"},{"issue_number":31,"repository":"angular\/angular","title":"Named characters references containing digits are not processed properly","description":"### Which @angular\/* package(s) are the source of the bug?\n\ncompiler, core\n\n### Is this a regression?\n\nNo\n\n### Description\n\nHTML standard defines many [\"named HTML entities\"](https:\/\/html.spec.whatwg.org\/multipage\/named-characters.html), 24 of them include digits in their names, none of them is rendered correctly when present in Angular component's template, in contrast with other valid entities.\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps:\/\/stackblitz.com\/edit\/angular-test-html-entities-with-numbers?file=src%2Findex.html\n\n### Please provide the exception or error you saw\n\n```true\n`\u00bb&sup1;\u00ab` is output as `\u00bb&amp;sup1;\u00ab` instead of `\u00bb\u00b9\u00ab` (or verbatim). See the screenshot further.\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\n(Stackblitz Angular version in linked STR: 16.2.0)\r\n\r\nAngular CLI: 13.2.6\r\nNode: 16.20.2\r\nPackage Manager: npm 8.19.4\r\nOS: win32 x64\r\n\r\nAngular: 13.2.7\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                            Version\r\n------------------------------------------------------------\r\n@angular-devkit\/architect          0.1303.9\r\n@angular-devkit\/build-angular      13.3.9\r\n@angular-devkit\/core               13.3.9\r\n@angular-devkit\/schematics         13.2.6\r\n@angular\/cdk                       13.3.9\r\n@angular\/cli                       13.2.6\r\n@angular\/material                  13.3.9\r\n@angular\/material-moment-adapter   13.3.9\r\n@schematics\/angular                13.2.6\r\nrxjs                               7.5.7\r\ntypescript                         4.5.5\r\nwebpack                            5.75.0\n```\n\n\n### Anything else?\n\n### Screenshot; \"\u00bb\ud835\udd4f\u00ab\" in the first content line is for check.\r\n\r\n![When static table is rendered, HTML entities work as expected, while same table in Angular component processes only entities without digits properly](https:\/\/github.com\/angular\/angular\/assets\/1761395\/0be200a5-6406-4cf9-8c64-5f4b6e849974)\r\n\r\n### List of all \"entity names\" (for search):\r\n\r\n- blk12\r\n- blk14\r\n- blk34\r\n- emsp13\r\n- emsp14\r\n- frac12\r\n- frac13\r\n- frac14\r\n- frac15\r\n- frac16\r\n- frac18\r\n- frac23\r\n- frac25\r\n- frac34\r\n- frac35\r\n- frac38\r\n- frac45\r\n- frac56\r\n- frac58\r\n- frac78\r\n- sup1\r\n- sup2\r\n- sup3\r\n- there4\r\n\r\n(frac12, frac14, frac34, sup1, sup2, sup3 can be also without semicolon. None semicolon-less variant work in Angular component, even for non-digit entities.)","labels":["area: compiler","P3","compiler: parser","bug"],"created_at":"2023-08-10T16:50:22Z","comments":2,"reactions":0,"url":"https:\/\/github.com\/angular\/angular\/issues\/51323"},{"issue_number":32,"repository":"angular\/angular","title":"Functional guards\/interceptors should not provide `DestroyRef`","description":"Functional guards with injection context allow easy access to DI:\r\n\r\n```typescript\r\nfunction authGuard() {\r\n  return inject(AuthService).isAuthenticated;\r\n}\r\n```\r\n\r\nHowever, with access to the injector, it's possible to use APIs which depend on `DestroyRef` - the lifecycle of the current injector. In router guards, for example, this will be a long lived injector (possibly even an \"eternal\" one tied to the application itself). In that sense, doing any initialization inside the guard with cleanup tied to the `DestroyRef` is leaky: you'll end up calling the guard multiple times, creating multiple instances, and none of them will be cleaned up.\r\n\r\nFor example, using `toObservable` or `toSignal` in such a guard would be broken in that way.\r\n\r\nOne option is to provide injection context but overload `DestroyRef` to prevent access (or to modify the lifecycle it represents).","labels":["area: core","core: di","P2","bug","core: reactivity","cross-cutting: signals"],"created_at":"2023-08-07T15:55:02Z","comments":3,"reactions":16,"url":"https:\/\/github.com\/angular\/angular\/issues\/51290"},{"issue_number":33,"repository":"angular\/angular","title":"Long numeric HTML Entities in templates are compiled wrong","description":"### Which @angular\/* package(s) are the source of the bug?\r\n\r\nDon't known \/ other\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nIn HTML you can use numeric HTML Entities (hex or decimal) to represent characters (e.g. emojis and other symbols). E.g. `&#x41;` for the capital letter \"A\".\r\n\r\nWhen Angular compiles a template containing an HTML entity with a length of 5 hexadecimal characters (e.g. `&#x1F6C8;`), the resulting template contains a wrong unicode character at the expected point. \r\n\r\n\r\nE.g. to display the \"[Circled Information Source](https:\/\/www.compart.com\/de\/unicode\/U+1F6C8)\" someone can use the HTML code `&#128712;` or `&#x1F6C8;`. If you put one of these entities into your template, the resulting glyph is just a different unicode glyph. In UTF-8 encoding the template should contain (hex) `F0 9F 9B 88` but contains (hex) `EF 9B 88`. The contained (hex) `EF 9B 88` is just the 2-byte cropped entity `&#xF6C8;` (missing the leftmost `1`) in UTF-8 encoding.\r\n\r\n\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\nhttps:\/\/stackblitz.com\/edit\/stackblitz-starters-pntjeb?file=src%2Fmain.ts\r\n\r\n### Please provide the exception or error you saw\r\n\r\nThe wrong glyph is rendered for long HTML Entities. The correct glyph is rendered if the Unicode glyph is contained directly inside of the templates content.\r\n\r\n![image](https:\/\/github.com\/angular\/angular\/assets\/923638\/cde68092-2c02-4446-8857-414d557caf1a)\r\n\r\n\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\nAngular CLI: 16.1.7\r\nNode: 18.17.0\r\nPackage Manager: npm 9.6.7\r\nOS: darwin arm64\r\n\r\nAngular: 16.1.8\r\n... common, compiler, compiler-cli, core, platform-browser\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit\/architect       0.1601.7\r\n@angular-devkit\/build-angular   16.1.7\r\n@angular-devkit\/core            16.1.7\r\n@angular-devkit\/schematics      16.1.7\r\n@angular\/cli                    16.1.7\r\n@schematics\/angular             16.1.7\r\nrxjs                            7.8.1\r\ntypescript                      5.1.6\r\nzone.js                         0.13.1\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\n# What I think is wrong\r\n\r\nAngular seems to translate these HTML Entities to Unicode escape sequences in JS Strings (e.g. HTML `&#xFFFF;` gets JS `\"\\uFFFF\"`). From my observations my blind guess would be, that Angular tries to simply translate these into old-style JS Unicode escapes. These old style escapes support 4 hexadecimal chars only (`\"\\u0000\"` to `\"\\uFFFF\"`). So these longer Strings get simply chopped of after the 4 right-most hexadecimal chars.\r\n\r\nI guess Angular would compile HTML `&#x1FFFF;` into JS `\"\\uFFFF\"` (missing `1`).\r\n\r\n## Why do I think so?\r\n\r\nIt just looks like it in the compiled templates of my example. See the comments in the compiled templates below.\r\n\r\nProduction build:\r\n\r\n```javascript\r\nconst compiled = {\r\n    \/\/ ...\r\n    template: function (n, r) {\r\n        if (1 & n && (gt(0, \"div\")(1, \"h3\"), Ue(2, \"HTML Entity \"), gt(3, \"code\"), Ue(4, \"&#x1F6C8;\"), \r\n            ut(), Ue(5, \" in Angular templates\"), ut(), gt(6, \"p\"), Ue(7, \"Writing it as HTML Entity:\"),\r\n            \r\n            \/\/                                           vvvvvvvv HTML Entity text in template\r\n            ut(), gt(8, \"p\")(9, \"span\", null, 0), Ue(11, \"\\uf6c8\"), ut(), Ue(12, \" (hex in browser \"), \r\n            \r\n            \r\n            gt(13, \"code\"), Ue(14), ut(), Ue(15, \")\"), ut(), gt(16, \"p\"), \r\n            Ue(17, \"should be equal to writing it as Unicode String in Template:\"), ut(), \r\n            \r\n            \/\/                                       vvvvvvvvvvv Unicode text in template\r\n            gt(18, \"p\")(19, \"span\", null, 1), Ue(21, \"\\u{1f6c8}\"), ut(), Ue(22, \" (hex in browser \"), \r\n            \r\n            \r\n            gt(23, \"code\"), Ue(24), ut(), Ue(25, \")\"), ut(), \r\n            Gc(26, zA, 5, 0, \"p\", 2), Gc(27, ZA, 4, 0, \"ng-template\", null, 3, Jm), gt(29, \"p\"), \r\n            Ue(30, \"Hacky variant by setting HTML at runtime:\"), ut(), gt(31, \"p\"), qc(32, \"span\", null, 4), \r\n            Ue(34, \" (hex in browser \"), gt(35, \"code\"), Ue(36), ut(), Ue(37, \")\"), ut()()), 2 & n) {\r\n            const o = function Jp(e) {\r\n                return function zr(e, t) {\r\n                    return e[t]\r\n                }(function Qv() {\r\n                    return W.lFrame.contextLView\r\n                }(), he + e)\r\n            }(28);\r\n            fi(14), wi(r.hexOne), fi(10), wi(r.hexTwo), fi(2), \r\n                zc(\"ngIf\", r.hexOne != r.hexTwo)(\"ngIfElse\", o), fi(10), wi(r.hexThree)\r\n        }\r\n    },\r\n    \/\/ ...\r\n}\r\n```\r\n\r\n\r\n... or in development build:\r\n\r\n```javascript\r\nconst compiled = {\r\n  \/\/ ...\r\n  template: function AddOneButtonComponent_Template(rf, ctx) {\r\n    if (rf & 1) {\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275elementStart\"](0, \"div\")(1, \"h3\");\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275text\"](2, \"HTML Entity \");\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275elementStart\"](3, \"code\");\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275text\"](4, \"&#x1F6C8;\");\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275elementEnd\"]();\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275text\"](5, \" in Angular templates\");\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275elementEnd\"]();\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275elementStart\"](6, \"p\");\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275text\"](7, \"Writing it as HTML Entity:\");\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275elementEnd\"]();\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275elementStart\"](8, \"p\")(9, \"span\", null, 0);\r\n\r\n      \/\/                                                       vvvvvvvv HTML Entity text in template\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275text\"](11, \"\\uF6C8\");\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275elementEnd\"]();\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275text\"](12, \" (hex in browser \");\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275elementStart\"](13, \"code\");\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275text\"](14);\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275elementEnd\"]();\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275text\"](15, \")\");\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275elementEnd\"]();\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275elementStart\"](16, \"p\");\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275text\"](17, \"should be equal to writing it as Unicode String in Template:\");\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275elementEnd\"]();\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275elementStart\"](18, \"p\")(19, \"span\", null, 1);\r\n\r\n      \/\/                                                       vvvvvvvvvvvvvv Unicode text in template\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275text\"](21, \"\\uD83D\\uDEC8\");\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275elementEnd\"]();\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275text\"](22, \" (hex in browser \");\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275elementStart\"](23, \"code\");\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275text\"](24);\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275elementEnd\"]();\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275text\"](25, \")\");\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275elementEnd\"]();\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275template\"](26, AddOneButtonComponent_p_26_Template, 5, 0, \"p\", 2);\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275template\"](27, AddOneButtonComponent_ng_template_27_Template, 4, 0, \"ng-template\", null, 3, _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275templateRefExtractor\"]);\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275elementStart\"](29, \"p\");\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275text\"](30, \"Hacky variant by setting HTML at runtime:\");\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275elementEnd\"]();\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275elementStart\"](31, \"p\");\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275element\"](32, \"span\", null, 4);\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275text\"](34, \" (hex in browser \");\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275elementStart\"](35, \"code\");\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275text\"](36);\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275elementEnd\"]();\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275text\"](37, \")\");\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275elementEnd\"]()();\r\n    }\r\n    if (rf & 2) {\r\n      const _r3 = _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275reference\"](28);\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275advance\"](14);\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275textInterpolate\"](ctx.hexOne);\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275advance\"](10);\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275textInterpolate\"](ctx.hexTwo);\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275advance\"](2);\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275property\"](\"ngIf\", ctx.hexOne != ctx.hexTwo)(\"ngIfElse\", _r3);\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275advance\"](10);\r\n      _angular_core__WEBPACK_IMPORTED_MODULE_2__[\"\u0275\u0275textInterpolate\"](ctx.hexThree);\r\n    }\r\n  }\r\n  \/\/ ...\r\n}\r\n```\r\n","labels":["area: compiler","P3","compiler: parser","bug"],"created_at":"2023-08-04T18:15:09Z","comments":2,"reactions":0,"url":"https:\/\/github.com\/angular\/angular\/issues\/51274"},{"issue_number":34,"repository":"angular\/angular","title":"Multiple formControlName\/formControl directives using the same FormControl do not stay in sync","description":"### Which @angular\/* package(s) are the source of the bug?\n\nforms\n\n### Is this a regression?\n\nNo\n\n### Description\n\nThis is still an issue: https:\/\/github.com\/angular\/angular\/issues\/10036\r\n\r\n```\r\n<form [formGroup]=\"form\">\r\n  <input type=\"text\" formControlName=\"control\"\/>\r\n  <input type=\"text\" formControlName=\"control\"\/>\r\n<\/form>\r\n```\r\n\r\nUpdating one control should automatically update the state of the other controls. Otherwise the UI is out of sync with the model. Sometimes multiple controls with the same name are needed for responsive layouts.\r\n\r\n\r\nWas able to work around it with this custom directive (based on some of the solutions in that linked issue)\r\n\r\n```\r\nimport { DestroyRef, Directive, OnInit, inject } from \"@angular\/core\";\r\nimport { takeUntilDestroyed } from \"@angular\/core\/rxjs-interop\";\r\nimport { NgControl } from \"@angular\/forms\";\r\n\r\n@Directive({\r\n  \/* eslint-disable *\/\r\n  selector: \"[formControlName],[formControl]\",\r\n  standalone: true,\r\n})\r\nexport class FormControlSyncDirective implements OnInit {\r\n  controlDirective = inject(NgControl);\r\n  destroyRef = inject(DestroyRef);\r\n  ngOnInit() {\r\n    this.controlDirective?.control.valueChanges.pipe(takeUntilDestroyed(this.destroyRef)).subscribe(value => {\r\n      this.controlDirective.control.setValue(value, { emitEvent: false });\r\n    });\r\n  }\r\n}\r\n```\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps:\/\/github.com\/angular\/angular\/issues\/10036\n\n### Please provide the exception or error you saw\n\n```true\nWhen using formControl or formControlName multiple times, the updating one control did not cause the others to update. They no longer reflected the true model state.\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 16.1.4\r\nNode: 16.20.0\r\nPackage Manager: npm 8.19.4\r\nOS: darwin arm64\r\n\r\nAngular: 16.1.5\r\n... animations, cdk, common, compiler, compiler-cli, core, forms\r\n... material, material-date-fns-adapter, platform-browser\r\n... platform-browser-dynamic, router, service-worker\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit\/architect       0.1601.4\r\n@angular-devkit\/build-angular   16.1.4\r\n@angular-devkit\/core            16.1.4\r\n@angular-devkit\/schematics      16.1.4\r\n@angular\/cli                    16.1.4\r\n@schematics\/angular             16.1.4\r\nrxjs                            7.4.0\r\ntypescript                      5.1.6\n```\n\n\n### Anything else?\n\n_No response_","labels":["area: forms","P3","bug"],"created_at":"2023-08-01T14:14:16Z","comments":9,"reactions":6,"url":"https:\/\/github.com\/angular\/angular\/issues\/51239"},{"issue_number":35,"repository":"angular\/angular","title":"Undocumented Feature of ng-template: direct access to context","description":"### Describe the problem that you experienced\n\nWhile creating a wrapper component for a vendor component that makes heavy use of ngTemplateOutlet, I needed a way to access the entire context object from an ng-template and pass it to ngTemplateOutlet. I could find no documentation on how to do this, but did find a couple github issues with this request (both closed and rejected).\r\n\r\nhttps:\/\/github.com\/angular\/angular\/issues\/22323\r\nhttps:\/\/github.com\/angular\/angular\/issues\/39884\r\n\r\nI did, however, determine that there is an undocumented feature which allows you to access the entire context object and pass it through to the ngTemplateOutlet:\r\n\r\n<ng-template pTemplate=\"body\" *ngIf=\"bodyTemplate\" let-ctx=\"valueOf()\">\r\n    <ng-container *ngTemplateOutlet=\"bodyTemplate; context: ctx\"><\/ng-container>\r\n<\/ng-template>\r\n\r\nSince the code responsible for creation of these ng-template variables treats the value of the attribute as a property\/method hanging off of the context, we can use the object's valueOf() function to retrieve the entire object.\n\n### Enter the URL of the topic with the problem\n\nhttps:\/\/angular.io\/api\/common\/NgTemplateOutlet\n\n### Describe what you were looking for in the documentation\n\nI was hoping to find a way to reference the entire context object from an ng-template so that I can pass it through to the ngTemplateOutlet\n\n### Describe the actions that led you to experience the problem\n\n_No response_\n\n### Describe what you want to experience that would fix the problem\n\nHaving this undocumented feature added to the documentation would help.\n\n### Add a screenshot if that helps illustrate the problem\n\n_No response_\n\n### If this problem caused an exception or error, please paste it here\n\n_No response_\n\n### If the problem is browser-specific, please specify the device, OS, browser, and version\n\n_No response_\n\n### Provide any additional information here in as much as detail as you can\n\n_No response_","labels":["area: compiler","P4","compiler: parser","bug"],"created_at":"2023-07-14T18:50:35Z","comments":6,"reactions":2,"url":"https:\/\/github.com\/angular\/angular\/issues\/51045"},{"issue_number":36,"repository":"angular\/angular","title":"inject() vs constructor injection inconsistency for Pipes","description":"### Which @angular\/* package(s) are the source of the bug?\n\ncore\n\n### Is this a regression?\n\nNo\n\n### Description\n\nWhile converting our code to use the inject() function, I've noticed a change of behaviour that I didn't see documented anywhere.\r\nIn our case, we're injecting pipe (MyPipe in repro) as a service , and the pipe itself injects another service (MyService). The catch here is that the pipe is provided on module level, while the service is provided on component level.\r\n\r\nIt seems that the constructor-based injection uses the directive injector (code inside MyService_factory), and as such finds MyService without problems. But when switching to inject() call, we end up with the module injectors and MyService is thus not found. In the repro you can see it when uncommenting line 16 and commenting out line 17.\r\n\r\nI am actually not sure which behaviour is considered correct, all in all the inject() one is perhaps more consistent with the way services works, but I would still expect it to be identical in both cases. Alternatively it would be good to point it out in the documentation.\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps:\/\/stackblitz.com\/edit\/angular-srjmnw?file=src%2Fmain.ts\n\n### Please provide the exception or error you saw\n\n```true\nWhen swapping the injection in Pipe as described above:\r\n\r\nNullInjectorError: R3InjectorError(AppModule)[MyPipe -> MyService -> MyService]: \r\n  NullInjectorError: No provider for MyService!\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular 16.1.3\n```\n\n\n### Anything else?\n\n_No response_","labels":["area: core","core: di","P3","bug"],"created_at":"2023-07-05T18:30:32Z","comments":2,"reactions":3,"url":"https:\/\/github.com\/angular\/angular\/issues\/50952"},{"issue_number":37,"repository":"angular\/angular","title":"Standalone migration step \"Bootstrap the project using standalone APIs\" doesn't respect imports of localeDe and registerLocaleData","description":"### Command\n\ngenerate\n\n### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nAfter having successfully updated from 15.2.9 to 16.1.1 I did the migration to standalone via\r\n ng g @angular\/core:standalone.\r\nThe first two steps succeeded. The third step \"Bootstrap ...\" doesn't transform to main.ts the following entries in the deleted app.module.ts:\r\n...\r\nimport { registerLocaleData } from '@angular\/common';                            \r\nimport localeDe from '@angular\/common\/locales\/de';                               \r\n...\r\nregisterLocaleData(localeDe);\r\n...\r\n\r\nI got the error \"Missing locale data ...\". After having added manually the three lines to main.ts everthings works fine.\n\n### Minimal Reproduction\n\n1. Add the three lines mentioned above to an existing app.module.ts (and use the locale somewhere)\r\n2. Do the migration steps to standalone\r\n3. Inspect main.ts (the three lines are missing).\n\n### Exception or Error\n\n```text\nError: Missing locale data for the locale \"de\".\n```\n\n\n### Your Environment\n\n```text\nAngular CLI: 16.1.1\r\nNode: 18.16.1\r\nPackage Manager: npm 9.7.2\r\nOS: linux x64\r\n\r\nAngular: 16.1.2\r\n... animations, cdk, common, compiler, compiler-cli, core, forms\r\n... language-service, material, material-date-fns-adapter\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit\/architect       0.1601.1\r\n@angular-devkit\/build-angular   16.1.1\r\n@angular-devkit\/core            16.1.1\r\n@angular-devkit\/schematics      16.1.1\r\n@angular\/cli                    16.1.1\r\n@schematics\/angular             16.1.1\r\nrxjs                            7.8.1\r\ntypescript                      4.9.5\n```\n\n\n### Anything else relevant?\n\n_No response_","labels":["area: migrations","P3","bug","cross-cutting: standalone"],"created_at":"2023-06-29T14:50:12Z","comments":1,"reactions":1,"url":"https:\/\/github.com\/angular\/angular\/issues\/50886"},{"issue_number":38,"repository":"angular\/angular","title":"Standalone migration does not find any files because it uses tsconfig.spec.json","description":"### Command\n\ngenerate\n\n### Is this a regression?\n\n- [ ] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\n_No response_\n\n### Description\n\nThe standalone migration generator is using the tsconfig.spec.json and therefor does not find any files to migrate.\n\n### Minimal Reproduction\n\n1 Create a new project with the Angular cli\r\n2 add a new component and module and import it in app.module\r\n\r\n3 Run the command `ng g @angular\/core:standalone`\r\nChoose the type of migration: (Use arrow keys)\r\n> Convert all components, directives and pipes to standalone\r\nWhich path in your project should be migrated? (.\/) .\/\r\n\r\nResult\r\n \ufffd Automated migration step has finished! \ufffd\r\n    IMPORTANT! Please verify manually that your application builds and behaves as expected.\r\n    See https:\/\/angular.io\/guide\/standalone-migration for more information.\r\nUPDATE src\/app\/shouldremove\/whatever\/whatever.component.spec.ts (628 bytes)\r\n\r\nThe migration script only checks the files in the tsconfig.spec.json\r\n\r\nWhen I change (ofc not the way to do it)\r\n` \"include\": [\r\n    \"src\/**\/*.spec.ts\",\r\n    \"src\/**\/*.d.ts\"\r\n  ]`\r\n\r\n\r\nto \r\n` \"include\": [\r\n    \"src\/**\/*.ts\",\r\n    \"src\/**\/*.d.ts\"\r\n  ]`\r\n\r\nit works correctly. The generator is using the wrong tsconfig file\n\n### Exception or Error\n\n_No response_\n\n### Your Environment\n\n```text\nAngular CLI: 16.0.3\r\nNode: 18.16.0\r\nPackage Manager: npm 9.5.1\r\nOS: win32 x64\r\n\r\nAngular: 16.0.3\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit\/architect       0.1600.3\r\n@angular-devkit\/build-angular   16.0.3\r\n@angular-devkit\/core            16.0.3\r\n@angular-devkit\/schematics      16.0.3\r\n@schematics\/angular             16.0.3\r\nrxjs                            7.8.1\r\ntypescript                      5.0.4\n```\n\n\n### Anything else relevant?\n\n_No response_","labels":["area: migrations","P3","bug","cross-cutting: standalone"],"created_at":"2023-05-26T13:51:54Z","comments":12,"reactions":7,"url":"https:\/\/github.com\/angular\/angular\/issues\/50483"},{"issue_number":39,"repository":"angular\/angular","title":"Langage service reports an error when Importing a non-exported class in a standalone component. ","description":"### Which @angular\/* package(s) are the source of the bug?\r\n\r\ncompiler-cli, language-service\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\n```\r\n@Directive({ selector: 'test', standalone: true })\r\nclass Dir {}\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  template: '',\r\n  standalone: true,\r\n  imports: [Dir],\r\n})\r\nexport class AppComponent {}\r\n```\r\nWith this example, the language service  throws `Component imports must be standalone components, directives, pipes, or must be NgModules.`.\r\n\r\nI found the error a bit misleading and even more since the code works fine at runtime. \r\n\r\nI've read both #42184 and #42207. \r\n\r\nAm I correct to assume there isn't so much we can do here because of `compileNonExportedClasses : false` \r\n\r\nOr do you have an idea to improve the DX here ? ","labels":["help wanted","hotlist: error messages","area: language-service","area: compiler","P4","bug","cross-cutting: standalone"],"created_at":"2023-04-16T18:01:04Z","comments":1,"reactions":2,"url":"https:\/\/github.com\/angular\/angular\/issues\/49874"},{"issue_number":40,"repository":"angular\/angular","title":"Angular element `Slot` is not getting rendered if the slot is inside another angular component (`mat-table` in the provided case)","description":"### Which @angular\/* package(s) are the source of the bug?\n\nelements\n\n### Is this a regression?\n\nYes\n\n### Description\n\nI have created wrapper for `mat-table` component and has converted it into a web custom element using `@angular\/element` package.\r\n- I want to project the content inside the `mat-table` within the wrapper element\r\n<details>\r\n  <summary> Code <\/summary>\r\n\r\n```typescript\r\n@Component({\r\n    selector: 'mat-table-wrapper',\r\n    template: `\r\n        <mat-table [dataSource]=\"dataSource\">\r\n            <slot name=\"table\"><\/slot> <!-- This slot DOES NOT get projected into -->\r\n        <\/mat-table>\r\n        <h2>\r\n            <slot name=\"table\"><\/slot> <!-- This slot DOES get projected into -->\r\n        <\/h2>\r\n    `,\r\n    encapsulation: ViewEncapsulation.ShadowDom,\r\n})\r\nexport class MatTableWrapperComponent {\r\n    static CUSTOM_ELM_NAME = 'mat-table-wrapper';\r\n    @Input() dataSource = [];\r\n}\r\n```\r\n<\/details>\r\n\r\n- This problem does not exist in pure angular component that is not packaged as a @angular\/element\r\n\r\n### Steps to reproduce:\r\n- Clone https:\/\/github.com\/stagefright5\/ng-elements-pg\r\n- cd to `elements-angular-ws` dir\r\n- run `npm run create-element-lib`. This will create `sf5-element-bundle.js` file in `ng-custom-element-user-ws\/src\/scripts` dir\r\n- This script is already added as part of the bundle in `ng-custom-element-user-ws\/angular.json`\r\n- cd to `ng-custom-element-user-ws` dir\r\n- run `npm start` (this will run in `4201` port)\r\n- There are 2 components that are rendered\r\n    1. The `slot` is not rendered\r\n    2. The `slot` is rendered\r\n   The only difference is slot 1 is inside the custom element and 2 is normal angular component\r\n![image](https:\/\/user-images.githubusercontent.com\/15051871\/210803634-d5047df0-c13e-4826-97c4-1c3dc940e9dd.png)\r\n\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps:\/\/github.com\/stagefright5\/ng-elements-pg\n\n### Please provide the exception or error you saw\n\n```true\n-NONE-\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 15.0.4\r\nNode: 16.18.1\r\nPackage Manager: npm 8.19.3\r\nOS: win32 x64\r\n\r\nAngular: 15.0.4\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit\/architect       0.1500.4\r\n@angular-devkit\/build-angular   15.0.4\r\n@angular-devkit\/core            15.0.4\r\n@angular-devkit\/schematics      15.0.4\r\n@angular\/cdk                    15.0.3\r\n@angular\/material               15.0.3\r\n@schematics\/angular             15.0.4\r\nrxjs                            7.5.7\r\ntypescript                      4.8.4\n```\n\n\n### Anything else?\n\n_No response_","labels":["area: elements","cross-cutting: custom elements","bug"],"created_at":"2023-01-05T14:32:50Z","comments":0,"reactions":1,"url":"https:\/\/github.com\/angular\/angular\/issues\/48645"},{"issue_number":41,"repository":"angular\/angular","title":"TestBed.overrideComponent doesn't update standalone components","description":"### Which @angular\/* package(s) are the source of the bug?\r\n\r\ncore\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nThis removes imports - expected.\r\n```ts\r\nTestBed.overrideComponent(StandaloneComponent, {\r\n  set: {\r\n    imports: [],\r\n  },\r\n});\r\n```\r\n\r\nThis doesn't change imports - unexpected.\r\n```ts\r\nTestBed.overrideComponent(StandaloneComponent, {\r\n  set: {\r\n    imports: [FakeTestingModule],\r\n  },\r\n});\r\n```\r\n\r\nThere is stackblitz example - simply copy\/paste the `test.spec.ts` to an angular v15 (v14 has his issue too) project.\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\nhttps:\/\/github.com\/satanTime\/ng-mocks\/blob\/issues\/4486\/tests\/issue-4486\/angular.spec.ts\r\n\r\n### Please provide the exception or error you saw\r\n\r\n_No response_\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\nAngular CLI: 15.0.3\r\nNode: 16.18.1\r\nPackage Manager: npm 8.19.3\r\nOS: darwin x64\r\n\r\nAngular: 15.0.3\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit\/architect       0.1500.3\r\n@angular-devkit\/build-angular   15.0.3\r\n@angular-devkit\/core            15.0.3\r\n@angular-devkit\/schematics      15.0.3\r\n@schematics\/angular             15.0.3\r\nrxjs                            7.6.0\r\ntypescript                      4.8.4\r\nwebpack                         5.75.0\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\n_No response_","labels":["area: testing","P3","bug","cross-cutting: standalone"],"created_at":"2022-12-10T10:52:42Z","comments":3,"reactions":26,"url":"https:\/\/github.com\/angular\/angular\/issues\/48432"},{"issue_number":42,"repository":"angular\/angular","title":"Devtools inspect element is a little off","description":"### Is this a bug report or a feature request?\n\n- [X] Bug Report\n- [ ] Feature Request\n\n### Please provide the steps to reproduce the issue [Bug Report only]\n\n1. ng new \r\n2. ng add @angular\/material \r\n3. ng generate @angular\/material:navigation main-nav\r\n4. ng generate @angular\/material:address-form basic-form\r\n5. Clean the `app.component.html` and replace it with `<app-main-nav><\/app-main-nav>\r\n6. add following code to `app-basic-form`\r\n```\r\n    <!-- Add Content Here -->\r\n    <app-basic-form><\/app-basic-form>\r\n```\r\nWe need to add enough element so that dev-tools components section oveflows\r\n7. Inspect the **Submit** button.\n\n### Please provide the expected behavior vs the actual behavior you encountered [Bug Report only]\n\nWhen ever we inspect the **Components** should properly scrolls to the inspected element.\n\n### Please provide a screenshot if possible [Bug Report only]\n\n![image](https:\/\/user-images.githubusercontent.com\/1523391\/206663949-e93ee9fa-0b9b-47a9-a654-97b989d230a0.png)\r\n![image](https:\/\/user-images.githubusercontent.com\/1523391\/206664033-b4a33c11-5c19-4b7b-97d2-ff18520f2e7b.png)\r\n\n\n### Please provide the exception or error you saw [Bug Report only]\n\n_No response_\n\n### Is this a browser-specific issue? If so, please specify the device, browser, and version. [Bug Report only]\n\n```true\nI only tested it on Microsoft Edge.\n```\n\n\n### Description [Feature Request only]\n\n_No response_\n\n### Proposed solution [Feature Request only]\n\n_No response_\n\n### Alternatives considered [Feature Request only]\n\n_No response_","labels":["P3","area: devtools","bug"],"created_at":"2022-12-09T08:59:15Z","comments":0,"reactions":0,"url":"https:\/\/github.com\/angular\/angular\/issues\/48410"},{"issue_number":43,"repository":"angular\/angular","title":"Throw NG0300 error at built-time rather than at runtime","description":"### Which @angular\/* package(s) are relevant\/related to the feature request?\n\ncompiler\n\n### Description\n\nCurrently, [NG0300](https:\/\/angular.io\/errors\/NG0300) is thrown at runtime.\r\nI am wondering whether it is possible to throw this error already at built-time.\r\nThis would improve DX in the way that an app with this error would not be possible to ship.\n\n### Proposed solution\n\nDetect and throw error at built-time.\r\nMight implement an extended diagnostic for it!?\n\n### Alternatives considered\n\nSince this is very likely a static code analysis, linting tools should also be able to detect these.\r\nHowever, I haven't found any lint rule that would report this error.","labels":["help wanted","hotlist: error messages","area: core","area: compiler","core: directive matching","P3","bug"],"created_at":"2022-12-06T15:24:57Z","comments":5,"reactions":3,"url":"https:\/\/github.com\/angular\/angular\/issues\/48377"},{"issue_number":44,"repository":"angular\/angular","title":"Bug: setting `[disabled]` attribute no longer works with `formControlName`","description":"### Command\n\nother\n\n### Is this a regression?\n\n- [X] Yes, this behavior used to work in the previous version\n\n### The previous version in which this bug was not present was\n\nAngular 14\n\n### Description\n\nWhen upgrading from Angular 14 to Angular 15 the [Disabled] directive of form controls stopped working.\r\n\r\nIs this a bug or did something change?\r\n\r\n I'm using version 15.0.2\n\n### Minimal Reproduction\n\n <button type=\"button\" id=\"btnAddPeopleEditor\" class=\"btn btn-success btn-sm\" (click)=\"addPeople(1)\"\r\n                  [disabled]=\"disabledEditEditor || (habilitarControle(isReadOnly) == 'true')\">\r\n                  Add\r\n                <\/button>\n\n### Exception or Error\n\n```text\nNo error occurs. It simply stopped working.\n```\n\n\n### Your Environment\n\n```text\nAngular CLI: 15.0.2\r\nNode: 16.17.0\r\nPackage Manager: npm 8.18.0\r\nOS: win32 x64\r\n\r\nAngular: 15.0.2\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, platform-server\r\n... router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit\/architect       0.1500.2\r\n@angular-devkit\/build-angular   15.0.2\r\n@angular-devkit\/core            15.0.2\r\n@angular-devkit\/schematics      15.0.2\r\n@angular\/cdk                    15.0.1\r\n@angular\/material               15.0.1\r\n@nguniversal\/builders           15.0.0\r\n@nguniversal\/common             15.0.0\r\n@nguniversal\/express-engine     15.0.0\r\n@schematics\/angular             15.0.2\r\nrxjs                            7.5.7\r\ntypescript                      4.8.4\n```\n\n\n### Anything else relevant?\n\n_No response_","labels":["regression","workaround2: non-obvious","area: forms","state: confirmed","forms: directives","P1","bug"],"created_at":"2022-12-04T15:16:07Z","comments":43,"reactions":20,"url":"https:\/\/github.com\/angular\/angular\/issues\/48350"},{"issue_number":45,"repository":"angular\/angular","title":"ngDoCheck hook has a bit misleading documentation","description":"### Describe the problem that you experienced\r\n\r\nHello,\r\n\r\nin my opinion the [documentation regarding the `DoCheck` hook](https:\/\/angular.io\/api\/core\/DoCheck) is a bit misleading: \r\n*A lifecycle hook that invokes a custom change-detection function for a directive, **in addition to the check performed by the default change-detector.***\r\n\r\nText in bold implies that the default check was performed (for the component from which the hook is called), when in fact it doesn't need to be the case. If we have a component with the OnPush change detection strategy, its `ngDoCheck` hook is called from its parent, despite the fact that the default check was not performed on the component.\r\n\r\nThe following article sums up why ngDoCheck called =\/=  change detection performed (it's from 2017, I think that many people fell in the trap of believing that ngDoCheck called = change detection performed):\r\nhttps:\/\/medium.com\/angular-in-depth\/if-you-think-ngdocheck-means-your-component-is-being-checked-read-this-article-36ce63a3f3e5\r\n\r\n### Enter the URL of the topic with the problem\r\n\r\n_No response_\r\n\r\n### Describe what you were looking for in the documentation\r\n\r\n_No response_\r\n\r\n### Describe the actions that led you to experience the problem\r\n\r\n_No response_\r\n\r\n### Describe what you want to experience that would fix the problem\r\n\r\n_No response_\r\n\r\n### Add a screenshot if that helps illustrate the problem\r\n\r\n_No response_\r\n\r\n### If this problem caused an exception or error, please paste it here\r\n\r\n_No response_\r\n\r\n### If the problem is browser-specific, please specify the device, OS, browser, and version\r\n\r\n_No response_\r\n\r\n### Provide any additional information here in as much as detail as you can\r\n\r\n_No response_","labels":["area: core","core: lifecycle hooks","core: change detection","P3","bug","area: docs"],"created_at":"2022-11-20T19:28:38Z","comments":2,"reactions":0,"url":"https:\/\/github.com\/angular\/angular\/issues\/48140"},{"issue_number":46,"repository":"angular\/angular","title":"`inject` function does not correctly infer the return type when used with generic classes\/abstract classes","description":"### Which @angular\/* package(s) are the source of the bug?\r\n\r\ncore\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nIf we use the `inject` function with a generic class (or abstract class), the return type won't be properly inferred:\r\n\r\n```ts\r\nimport { inject } from '@angular\/core';\r\n\r\nclass C<T extends number> {}\r\n\r\nconst c1 = inject(C); \/\/ type: C<any>\r\nconst c2 = inject(C<1>) \/\/ type: C<any>\r\n\r\nabstract class AC<T extends string> {}\r\n\r\nconst ac1 = inject(AC); \/\/ type: AC<any>\r\nconst ac2 = inject(AC<'ng'>); \/\/ type: AC<any>\r\n```\r\n\r\nTyping issue is due to the AbstractType interface. It's currently defined as follows:\r\n\r\n```ts\r\ninterface AbstractType<T> extends Function {\r\n  prototype: T;\r\n}\r\n```\r\n\r\nTo solve this typing bug, `AbstractType` can be defined as follows:\r\n\r\n```ts\r\ntype AbstractType<T> = abstract new (...args: unknown[]) => T;\r\n```\r\n\r\nHere is the [Stackblitz playground](https:\/\/stackblitz.com\/edit\/angular-qldklj-4f7htw?file=src%2Fapp%2Finject-typing-demo.ts) containing the `typedInject` function that solves this issue.\r\n\r\n---\r\n\r\n**This fix would introduce a breaking change.**\r\n\r\n---\r\n\r\n**If accepted, I'll create a PR for this bug.**\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\nhttps:\/\/stackblitz.com\/edit\/angular-qldklj?file=src%2Fapp%2Finject-typing-demo.ts\r\n\r\n### Please provide the exception or error you saw\r\n\r\n_No response_\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\nAngular CLI: 15.0.0\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\nAs a workaround, we can explicitly set the return type:\r\n\r\n```ts\r\nclass C<T extends number> {}\r\n\r\nconst c = inject<C<number>>(C);\r\n```","labels":["area: core","core: di","cross-cutting: types","P4","bug"],"created_at":"2022-11-19T02:19:29Z","comments":1,"reactions":11,"url":"https:\/\/github.com\/angular\/angular\/issues\/48126"},{"issue_number":47,"repository":"angular\/angular","title":"Exported array of standalone components cannot be imported","description":"### Which @angular\/* package(s) are the source of the bug?\r\n\r\nDon't known \/ other\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nI have a library that export multiple component in a `const` as advised [in the standalone guide](https:\/\/github.com\/angular\/angular\/blob\/14.2.11\/aio\/content\/guide\/standalone-components.md#standalone-components-for-library-authors):\r\n```ts\r\nconst LU_SIMPLE_SELECT_COMPONENTS = [\r\n  LuSimpleSelectInputComponent,\r\n  LuOptionDirective,\r\n  LuDisplayerDirective,\r\n  LuOptionComponent,\r\n] as const;\r\n```\r\n\r\nWhenever I import this constant from a module or in a component in an application that use my library, I have the following issue:\r\n> Value at position 0 in the NgModule.imports of AppModule is not a reference\r\n> Value could not be determined statically.\r\n\r\nIf I redefined the same const in the application, it works.\r\n\r\n## Links\r\n* [The library part](https:\/\/github.com\/LuccaSA\/lucca-front\/blob\/rc\/packages\/ng\/simple-select\/src\/lib\/index.ts#L8)\r\n* [A Stackblitz that reproduce the issue](https:\/\/stackblitz.com\/edit\/angular-ivy-c1tufr?file=src%2Fapp%2Fapp.module.ts) (uncomment line 24 and comment line 23 to make it works)\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\nhttps:\/\/stackblitz.com\/edit\/angular-ivy-5rgxzc?file=src%2Fapp%2Fapp.module.ts\r\n\r\n### Please provide the exception or error you saw\r\n\r\n```true\r\n> Value at position 0 in the NgModule.imports of AppModule is not a reference\r\n> Value could not be determined statically.\r\n```\r\n\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\nAngular CLI: 14.1.3        \r\nNode: 16.14.2\r\nPackage Manager: npm 8.5.0\r\nOS: win32 x64\r\n\r\nAngular: 14.1.3\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit\/architect       0.1401.3\r\n@angular-devkit\/build-angular   14.1.3\r\n@angular-devkit\/core            14.1.3\r\n@angular-devkit\/schematics      14.1.3\r\n@angular\/cdk                    14.2.7\r\n@schematics\/angular             14.1.3\r\nrxjs                            7.5.7\r\ntypescript                      4.7.4\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\nLove Standalone components!","labels":["state: has PR","area: compiler","P3","bug","cross-cutting: standalone"],"created_at":"2022-11-16T18:06:21Z","comments":29,"reactions":13,"url":"https:\/\/github.com\/angular\/angular\/issues\/48089"},{"issue_number":48,"repository":"angular\/angular","title":"@Self() does not work when using Injector.create()","description":"### Which @angular\/* package(s) are the source of the bug?\n\ncore\n\n### Is this a regression?\n\nNo\n\n### Description\n\nA structural directive `ShowIf` works with `ViewContainerRef.createEmbeddedView()` with custom injector created with `Injector.create()` to provide some tokens. `@Self()` decorator is not working in child or projected components of `ShowIf` applied component.\r\n\r\n```ts\r\nimport {\r\n  Component,\r\n  Directive,\r\n  Inject,\r\n  InjectionToken,\r\n  Injector,\r\n  Input,\r\n  Self,\r\n  TemplateRef,\r\n  ViewContainerRef,\r\n} from '@angular\/core';\r\n\r\nconst TOKEN_A = new InjectionToken<string>('Token A');\r\nconst TOKEN_B = new InjectionToken<string>('Token B');\r\n\r\n@Component({\r\n  selector: 'my-app',\r\n  template: `\r\n  <button (click)=\"show = !show\">{{show ? 'Hide' : 'Show'}}<\/button>\r\n  <comp-a *showIf=\"show\">\r\n    <comp-b><\/comp-b>\r\n  <\/comp-a>\r\n  `,\r\n})\r\nexport class AppComponent {\r\n  show = false;\r\n}\r\n\r\n@Component({\r\n  selector: 'comp-a',\r\n  template: `\r\n  <p>Child<\/p>\r\n  <comp-b><\/comp-b>\r\n  <p>Projected<\/p>\r\n  <ng-content><\/ng-content>\r\n  `,\r\n  providers: [{ provide: TOKEN_A, useValue: 'Apple' }],\r\n})\r\nexport class ComponentA {\r\n  constructor(@Inject(TOKEN_A) private tokenA: string) {\r\n    \/\/ Will use tokenA here\r\n  }\r\n}\r\n\r\n@Component({\r\n  selector: 'comp-b',\r\n  template: `<pre>\r\nTokenA: \"{{tokenA}}\" < Should break\r\nTokenB: \"{{tokenB}}\"\r\n<\/pre>`,\r\n  providers: [\r\n    \/\/ No TOKEN_A provider here\r\n  ],\r\n})\r\nexport class ComponentB {\r\n  constructor(\r\n    \/\/ Used @Self() but not provided TOKEN_A\r\n    @Self() @Inject(TOKEN_A) public tokenA: string,\r\n    @Inject(TOKEN_B) public tokenB: string\r\n  ) {}\r\n}\r\n\r\n@Directive({ selector: '[showIf]' })\r\nexport class ShowIf {\r\n  private hasView = false;\r\n\r\n  constructor(\r\n    private templateRef: TemplateRef<any>,\r\n    private viewContainer: ViewContainerRef\r\n  ) {}\r\n\r\n  @Input() set showIf(condition: boolean) {\r\n    if (condition && !this.hasView) {\r\n      this.viewContainer.createEmbeddedView(this.templateRef, undefined, {\r\n        injector: Injector.create({\r\n          providers: [\r\n            \/\/ Need to provide some tokens here\r\n            { provide: TOKEN_B, useValue: 'Orange' },\r\n          ],\r\n        }),\r\n      });\r\n      this.hasView = true;\r\n    } else if (!condition && this.hasView) {\r\n      this.viewContainer.clear();\r\n      this.hasView = false;\r\n    }\r\n  }\r\n}\r\n```\r\nI've used `@Self()` in `ComponentB` but never provided `TOKEN_A` in it's `@Component` decorator. I would expect it to break. But I can see the value of `TOKEN_A` provided in `ComponentA`.\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps:\/\/stackblitz.com\/edit\/angular-ivy-tswazi?file=src\/app\/app.component.ts\n\n### Please provide the exception or error you saw\n\n```true\nNone\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 14.2.6\r\nNode: 18.12.1 (Unsupported)\r\nPackage Manager: npm 8.19.2 \r\nOS: linux x64\r\n\r\nAngular: \r\n... \r\n\r\nPackage                      Version\r\n------------------------------------------------------\r\n@angular-devkit\/architect    0.1402.6 (cli-only)\r\n@angular-devkit\/core         14.2.6 (cli-only)\r\n@angular-devkit\/schematics   14.2.6 (cli-only)\r\n@schematics\/angular          14.2.6 (cli-only)\r\n```\n```\n\n\n### Anything else?\n\nI have to use the custom injector.","labels":["area: core","core: di","core: dynamic view creation","P3","bug"],"created_at":"2022-11-16T06:04:30Z","comments":1,"reactions":0,"url":"https:\/\/github.com\/angular\/angular\/issues\/48075"},{"issue_number":49,"repository":"angular\/angular","title":"Allow read Injector in ViewChild \/ ContentChild ","description":"### Which @angular\/* package(s) are relevant\/related to the feature request?\n\ncore\n\n### Description\n\nMotivation:\r\n- the content of ng-template will get the injector from the component, where is the <ng-template> defined, not \"instanced\"\r\n- to change this behavior we have ngTemplateOutletInjector \r\n- we usually need to get the injector of the component, where we are projecting the template into\r\n-  we cannot read the injector via ViewChild.read so we have to workaround this limitation with directive injectore\r\n\r\nUsage:\r\n- there is 100% need of this for writing of the Wrapper components around 3rd party components, which support custom templates (for example dropdowns and tables in Material \/ PrimeNG \/ Kendo etc)\r\n\r\nPLEASE CHECK this stackblitz:\r\n\r\nhttps:\/\/stackblitz.com\/edit\/angular-ivy-5s8bhd?file=src\/app\/wrapper\/wrapper.component.ts\r\n\r\nThere is Original and OriginalChild component - to simulate 3rd party components...  For the instance... <p-table> and pSortColumn directives from PrimeNG  https:\/\/www.primefaces.org\/primeng\/table  - pSortColumn has to get Table component via its constructor)\r\n\r\n\r\n\n\n### Proposed solution\n\nViewChild(ren)\/ContentChild(ren) should provida injector via  {  read: Injector } options. \n\n### Alternatives considered\n\nWorkaround via directive on the element.","labels":["area: core","core: queries","core: di","state: needs more investigation","P4","bug"],"created_at":"2022-10-12T20:34:14Z","comments":3,"reactions":28,"url":"https:\/\/github.com\/angular\/angular\/issues\/47760"},{"issue_number":50,"repository":"angular\/angular","title":"Form control value is null when initialized with undefined","description":"### Which @angular\/* package(s) are the source of the bug?\n\nforms\n\n### Is this a regression?\n\nNo\n\n### Description\n\nWhen you initialize a `FormControl` with an `undefined` value (initial state) the `FormControl#value` is null.\r\nThe value is `null` instead of `undefined` to be short\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps:\/\/stackblitz.com\/edit\/angular-ivy-x37dzv\n\n### Please provide the exception or error you saw\n\n```true\nIf you try to do test something like the test will fail\r\n\r\n\r\n\/\/ control was initialized with undefined\r\nexpect(control.value).toBe(undefined) \/\/ <-- in fact, this is null\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 14.1.0\r\nNode: 16.16.0\r\nPackage Manager: npm 8.15.1\r\nOS: win32 x64\r\n\r\nAngular: 14.1.0\r\n... animations, cdk, cli, common, compiler, compiler-cli, core \r\n... forms, material, platform-browser, platform-browser-dynamic\r\n... router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------      \r\n@angular-devkit\/architect       0.1401.0\r\n@angular-devkit\/build-angular   14.1.0\r\n@angular-devkit\/core            14.1.0\r\n@angular-devkit\/schematics      14.1.0\r\n@angular\/flex-layout            14.0.0-beta.40\r\n@schematics\/angular             14.1.0\r\nrxjs                            7.5.6\r\ntypescript                      4.7.4\n```\n\n\n### Anything else?\n\n_No response_","labels":["area: forms","P3","bug","forms: strictly typed","canonical"],"created_at":"2022-08-03T15:42:28Z","comments":15,"reactions":27,"url":"https:\/\/github.com\/angular\/angular\/issues\/47027"},{"issue_number":51,"repository":"angular\/angular","title":"extended diagnostic for non-nullable optional is wrong","description":"### Which @angular\/* package(s) are the source of the bug?\r\n\r\ncore\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nHaving the case below produces the warning for optional chain operation.\r\nBecause of `!` it will always return a boolean to the input.\r\nRelates to the new feature https:\/\/github.com\/angular\/angular\/pull\/46686 \r\nhttps:\/\/github.com\/angular\/angular\/issues\/44870\r\n\r\nAlso can we have a `angularCompilerOptions` to disable this warnings?\r\n\r\nFirst case:\r\n```ts\r\noptionalArrayElement: {a: 'value'}[] = [];\r\n```\r\n```html\r\n<button [disabled]=\"!optionalArrayElement[0]?.a\"><\/button>\r\n```\r\n\r\nSecond case:\r\n```ts\r\nenum MapKeys {\r\n  A,\r\n  B\r\n}\r\n\r\n optionalMapElement: {[key: string]: {a: string}} = {[MapKeys.A] : {a: 'value'}};\r\n```\r\n\r\n```html\r\n<button [disabled]=\"!optionalMapElement[MapKeys.B]?.a\"><\/button>\r\n```\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\nhttps:\/\/stackblitz.com\/edit\/angular-r3n3ec?file=src\/app\/app.component.ts\r\n\r\n### Please provide the exception or error you saw\r\n\r\n```true\r\nwarning NG8107: The left side of this optional chain operation does not include 'null' or 'undefined' in its type, therefore the '?.' operator can be replaced with the '.' operator.\r\n```\r\n\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\nAngular CLI: 14.1.0\r\nNode: 16.15.1\r\nPackage Manager: npm 8.13.2\r\nOS: win32 x64\r\n\r\nAngular: 14.1.0\r\n... animations, cli, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n... service-worker\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit\/architect       0.1401.0\r\n@angular-devkit\/build-angular   14.1.0\r\n@angular-devkit\/core            14.1.0\r\n@angular-devkit\/schematics      14.1.0\r\n@schematics\/angular             14.1.0\r\nrxjs                            7.5.6\r\ntypescript                      4.7.4\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\n_No response_","labels":["area: compiler","P3","bug","compiler: extended diagnostics"],"created_at":"2022-07-21T08:09:06Z","comments":37,"reactions":27,"url":"https:\/\/github.com\/angular\/angular\/issues\/46918"},{"issue_number":52,"repository":"angular\/angular","title":"Renderer2 lacks security documentation","description":"### Description\n\nAngular docs are doing a great job at covering security topics. In particular, API docs warn about methods that could be used in an insecure manner. (Big thank you to the community!)\r\n\r\nUnfortunately, `Renderer2` API docs do not say much about security. In particular, nothing regarding XSS. However, the [ElementRef](https:\/\/angular.io\/api\/core\/ElementRef#properties) API docs state the following:\r\n\r\n> Alternatively you can take a look at [Renderer2](https:\/\/angular.io\/api\/core\/Renderer2) which provides API that can safely be used even when direct access to native elements is not supported.\r\n\r\nWouldn't it be helpful to mention this in the Renderer2 API docs? So that potential users know what to expect...\n\n### What is the affected URL?\n\nhttps:\/\/angular.io\/api\/core\/Renderer2\n\n### Please provide the steps to reproduce the issue\n\n1. Read `Renderer2` API docs\r\n2. Read `ElementRef` API docs \n\n### Please provide the expected behavior vs the actual behavior you encountered\n\nI would _expect_ the the `Renderer2` API docs to document security implications. Specifically regarding XSS. `ElementRef` docs say that `Renderer2` \"provides API that can safely be used\".\r\nIf this is true (and superficial testing seems to support it) I'd _expect_ that the `Renderer2` API docs mention it explicitly.\r\n\r\nIf there are any exceptions to this general rule, I'd _expect_ the `Renderer2` API docs would show a clear \"USE WITH CAUTION\" security warning. E.g. if the following method calls lead to XSS, I'd _expect_ a warning in the API docs:\r\n```\r\nrenderer2.setAttribute(a, 'href', 'javascript:alert(1)');\r\nrenderer2.setAttribute(svg, 'onload', 'alert(1)');\r\n```\r\n\r\nAlternatively, if the claims that `ElementRef` docs make about `Renderer2` are inaccurate or misleading, I'd _expect_ them to be adjusted or removed.\r\n\r\nThe _actual_ situation is that `Renderer2` API docs do not tell me anything about security. And I feel a little lost.\n\n### Please provide a screenshot if possible\n\nShould be trivial to reproduce without screenshots, but I can provide some on demand...\n\n### Please provide the exception or error you saw\n\n```true\nNone.\n```\n\n\n### Is this a browser-specific issue? If so, please specify the device, browser, and version.\n\n```true\nNot browser-specific imho.\n```\n","labels":["security","P3","bug","area: docs"],"created_at":"2022-07-20T16:02:21Z","comments":6,"reactions":1,"url":"https:\/\/github.com\/angular\/angular\/issues\/46904"},{"issue_number":53,"repository":"angular\/angular","title":"Reactive form control `root` points to nothing or itself.","description":"### Which @angular\/* package(s) are the source of the bug?\n\nforms\n\n### Is this a regression?\n\nNo\n\n### Description\n\nWe need to have a validator for simple `FormControl` to compare multiple `FormGroup` values as well. Trying to reach that in two ways:\r\n\r\n1. Use `control.parent.parent.parent` (doesn't look good);\r\n2. Use `control.root.get(*path*)`.\r\n\r\nHowever, both options have bug. Let's talk about latter one. `root` is either falsy or equal to `control` (points to itself) value. So, we had to add such workaround\r\n\r\n```ts\r\n    \/\/ In case form hasn't initialized\r\n    if (control.root == null || control.root === control) {\r\n        return null;\r\n    }\r\n\r\n    *Validation logic here*\r\n```\r\n\r\nBut that doesn't work as expected because now form controls aren't validated on form init because of such workaround. How can we avoid such behavior?\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 14.0.4\r\nNode: 14.17.5\r\nPackage Manager: yarn 1.22.18\r\nOS: win32 x64\r\n\r\nAngular: 14.0.4\r\n... animations, cdk, cli, common, compiler, compiler-cli, core\r\n... forms, language-service, material, platform-browser\r\n... platform-browser-dynamic, router\r\n\r\nPackage                            Version\r\n------------------------------------------------------------\r\n@angular-devkit\/architect          0.1400.4\r\n@angular-devkit\/build-angular      14.0.4\r\n@angular-devkit\/build-ng-packagr   0.1002.0\r\n@angular-devkit\/core               14.0.4\r\n@angular-devkit\/schematics         14.0.4\r\n@angular\/flex-layout               14.0.0-beta.40\r\n@schematics\/angular                14.0.4\r\nrxjs                               7.5.5\r\ntypescript                         4.6.3\n```\n\n\n### Anything else?\n\n_No response_","labels":["area: forms","P4","bug"],"created_at":"2022-07-18T20:09:52Z","comments":4,"reactions":0,"url":"https:\/\/github.com\/angular\/angular\/issues\/46874"},{"issue_number":54,"repository":"angular\/angular","title":"Type checking for structural directive without parameter","description":"### Which @angular\/* package(s) are the source of the bug?\r\n\r\nDon't known \/ other\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nHello,\r\nnot sure if this is an actual issue or just me misunderstanding behaviour of structural directives in Angular.\r\n\r\nLet's say we have a simple structural directive (see [repro](https:\/\/stackblitz.com\/edit\/angular-ivy-vbzbnj?file=src%2Fapp%2Funless.directive.ts,src%2Fapp%2Fapp.component.html,tsconfig.json,src%2Fapp%2Fapp.module.ts,src%2Fapp%2Fapp.component.ts)). From my point of view, two declarations below should be equal, however, the first one throws type error, while the second one compiles without any errors. Why is that?\r\n\r\n```ts\r\n<!-- Why this one throws type error -->\r\n<h1 *appUnless>Test<\/h1>\r\n\r\n<!-- And this one not? -->\r\n<ng-template [appUnless]>\r\n  <h1>Test<\/h1>\r\n<\/ng-template>\r\n```\r\n\r\nFrom my point of view, typechecker expects the structural directive without any parameters to be equal to following:\r\n\r\n```ts\r\n<ng-template [appUnless]=\"''\">\r\n  <h1>Test<\/h1>\r\n<\/ng-template>\r\n````\r\n\r\nwhen in reality, it is equal to code above (I tried to change the type of the directive parameter to `boolean | string`, and checked if the input setter will be called - it wasn't).\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\nhttps:\/\/stackblitz.com\/edit\/angular-ivy-vbzbnj?file=src%2Fapp%2Funless.directive.ts,src%2Fapp%2Fapp.component.html,tsconfig.json,src%2Fapp%2Fapp.module.ts,src%2Fapp%2Fapp.component.ts\r\n\r\n### Please provide the exception or error you saw\r\n\r\n_No response_\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n_No response_\r\n\r\n### Anything else?\r\n\r\n_No response_","labels":["area: compiler","P3","compiler: template type-checking","bug"],"created_at":"2022-07-08T11:37:55Z","comments":6,"reactions":1,"url":"https:\/\/github.com\/angular\/angular\/issues\/46749"},{"issue_number":55,"repository":"angular\/angular","title":"Views attached to ApplicationRef cannot be detached from Change Detection unless they're dettached from ApplicationRef itself","description":"### Which @angular\/* package(s) are the source of the bug?\r\n\r\ncore\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nIf you create a view and add it to `ApplicationRef` directly, then calling `changeDetectorRef.detach()` will have no effect. It's expected that when detaching the view from change detection, CD does not run, even if it's directly attached to ApplicationRef.\r\n\r\nI believe this is related to the fact that `ApplicationRef` does a manual `detectChanges()` call without checking the LView's DIRTY\/ATTACHED flags.\r\n\r\nhttps:\/\/github.com\/angular\/angular\/blob\/3a60063a54d850c50ce962a8a39ce01cfee71398\/packages\/core\/src\/application_ref.ts#L986-L988\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\nhttps:\/\/stackblitz.com\/edit\/angular-ivy-vvznhk?devToolsHeight=33&file=src\/app\/app.component.ts\r\n\r\n### Please provide the exception or error you saw\r\n\r\n_No response_\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\nAngular 14, but is present in all versions, I believe. See the stackblitz example for details\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\n_No response_","labels":["area: core","core: change detection","P4","bug"],"created_at":"2022-07-03T21:58:13Z","comments":1,"reactions":2,"url":"https:\/\/github.com\/angular\/angular\/issues\/46690"},{"issue_number":56,"repository":"angular\/angular","title":"Typed FormGroup reset() does not accept FormState type","description":"### Which @angular\/* package(s) are the source of the bug?\n\nforms\n\n### Is this a regression?\n\nNo\n\n### Description\n\nHello, I found a small issue with typed FormGroup (which I love). Typescript does not allow form state in `reset()` method. So it is not allowed to do something like this:\r\n```TS\r\nthis.formGroup.reset({\r\n  first: { value: 'name', disabled: true },\r\n  last: 'last'\r\n});\r\n```\r\nAs a workaround we can do `as any` casting. Probably it would be necessary to introduce `\u0275FormGroupState` type.\r\n\r\nHere is related code:\r\nhttps:\/\/github.com\/angular\/angular\/blob\/88e16553e88356339db4fbc6aa1b78a9dfdfc8d2\/packages\/forms\/src\/model\/form_group.ts#L473-L492\n\n### Please provide a link to a minimal reproduction of the bug\n\n_No response_\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 14.0.2\r\nNode: 16.15.1\r\nPackage Manager: npm 8.12.2\r\nOS: win32 x64\r\n\r\nAngular: 14.0.2\r\n... animations, cdk, cli, common, compiler, compiler-cli, core\r\n... forms, localize, material, material-moment-adapter\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit\/architect       0.1400.2\r\n@angular-devkit\/build-angular   14.0.2\r\n@angular-devkit\/core            13.3.6\r\n@angular-devkit\/schematics      13.3.6\r\n@angular\/flex-layout            13.0.0-beta.38\r\n@schematics\/angular             14.0.2\r\nrxjs                            7.5.5\r\ntypescript                      4.7.4\n```\n\n\n### Anything else?\n\n_No response_","labels":["area: forms","state: confirmed","P3","bug","forms: strictly typed"],"created_at":"2022-06-22T17:03:05Z","comments":5,"reactions":12,"url":"https:\/\/github.com\/angular\/angular\/issues\/46458"},{"issue_number":57,"repository":"angular\/angular","title":"Typescript 4.7's \"module\": \"Node16\" yields invalid output or error for library build","description":"### Which @angular\/* package(s) are the source of the bug?\n\ncompiler-cli\n\n### Is this a regression?\n\nNo\n\n### Description\n\n\r\nUsing typescript 4.7's `\"module\": \"Node16\"` in a library yields errors or invalid output:\r\n\r\n- Without `\"type\": \"module\"` in `package.json` with all files given the `.mts` file extension an error is generated by `@angular\/compiler-cli`:\r\n\r\n  ```\r\n  error NG4001: Angular compiler option \"flatModuleOutFile\" requires one and only one .ts file in the \"files\" field.\r\n  ```\r\n- With `\"type\": \"module\"` in `package.json` the generated bundle index is emitted as CJS instead of ESM, which results in invalid FESM files. Coincidentally, the generated CJS bundle index file contains inline tslib helpers, even with `\"importHelpers\": true` in the tsconfig.\r\n  Note that ng-packagr actually outputs _all_ files as CJS instead of ESM. That seems to be an issue with ng-packagr itself, as other library pipeline(s) don't show the same behaviour. The generated bundle file is always CJS, regardless of tooling.\r\n\r\n  <details>\r\n  <summary>Generated bundle index file<\/summary>\r\n\r\n  ```js\r\n  \"use strict\";\r\n  \/**\r\n   * Generated bundle index. Do not edit.\r\n   *\/\r\n  var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n      if (k2 === undefined) k2 = k;\r\n      var desc = Object.getOwnPropertyDescriptor(m, k);\r\n      if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n      }\r\n      Object.defineProperty(o, k2, desc);\r\n  }) : (function(o, m, k, k2) {\r\n      if (k2 === undefined) k2 = k;\r\n      o[k2] = m[k];\r\n  }));\r\n  var __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n      for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n  };\r\n  Object.defineProperty(exports, \"__esModule\", { value: true });\r\n  __exportStar(require(\".\/index\"), exports);\r\n  \/\/# sourceMappingURL=repro.js.map\r\n  ```\r\n\r\n  <\/details>\r\n\r\n  <details>\r\n  <summary>\u00b1 empty FESM2020 file generated by ng-packagr<\/summary>\r\n\r\n  ```js\r\n  \"use strict\";\r\n  \/**\r\n   * Generated bundle index. Do not edit.\r\n   *\/\r\n  var __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\r\n      if (k2 === undefined) k2 = k;\r\n      var desc = Object.getOwnPropertyDescriptor(m, k);\r\n      if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n      }\r\n      Object.defineProperty(o, k2, desc);\r\n  }) : (function(o, m, k, k2) {\r\n      if (k2 === undefined) k2 = k;\r\n      o[k2] = m[k];\r\n  }));\r\n  var __exportStar = (this && this.__exportStar) || function(m, exports) {\r\n      for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\r\n  };\r\n  Object.defineProperty(exports, \"__esModule\", { value: true });\r\n  __exportStar(require(\".\/index\"), exports);\r\n  \/\/# sourceMappingURL=repro.mjs.map\r\n  ```\r\n\r\n  <\/details>\r\n\r\n  <details>\r\n  <summary>invalid FESM2020 file generated by other library pipeline (not included in repro repo)<\/summary>\r\n\r\n  ```js\r\n  \"use strict\";\r\n  var __defProp = Object.defineProperty;\r\n  var __getOwnPropDesc = Object.getOwnPropertyDescriptor;\r\n  var __getOwnPropNames = Object.getOwnPropertyNames;\r\n  var __hasOwnProp = Object.prototype.hasOwnProperty;\r\n  var __esm = (fn, res) => function __init() {\r\n    return fn && (res = (0, fn[__getOwnPropNames(fn)[0]])(fn = 0)), res;\r\n  };\r\n  var __export = (target, all) => {\r\n    for (var name in all)\r\n      __defProp(target, name, { get: all[name], enumerable: true });\r\n  };\r\n  var __copyProps = (to, from, except, desc) => {\r\n    if (from && typeof from === \"object\" || typeof from === \"function\") {\r\n      for (let key of __getOwnPropNames(from))\r\n        if (!__hasOwnProp.call(to, key) && key !== except)\r\n          __defProp(to, key, { get: () => from[key], enumerable: !(desc = __getOwnPropDesc(from, key)) || desc.enumerable });\r\n    }\r\n    return to;\r\n  };\r\n  var __toCommonJS = (mod) => __copyProps(__defProp({}, \"__esModule\", { value: true }), mod);\r\n\r\n  \/\/ dist\/repro\/esm2020\/lorem.directive.js\r\n  import { Directive } from \"@angular\/core\";\r\n  import * as i0 from \"@angular\/core\";\r\n  var LoremDirective;\r\n  var init_lorem_directive = __esm({\r\n    \"dist\/repro\/esm2020\/lorem.directive.js\"() {\r\n      LoremDirective = class {\r\n      };\r\n      LoremDirective.\\u0275fac = i0.\\u0275\\u0275ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.0-rc.2\", ngImport: i0, type: LoremDirective, deps: [], target: i0.\\u0275\\u0275FactoryTarget.Directive });\r\n      LoremDirective.\\u0275dir = i0.\\u0275\\u0275ngDeclareDirective({ minVersion: \"14.0.0\", version: \"14.0.0-rc.2\", type: LoremDirective, selector: \"[lorem]\", ngImport: i0 });\r\n      i0.\\u0275\\u0275ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.0-rc.2\", ngImport: i0, type: LoremDirective, decorators: [{\r\n        type: Directive,\r\n        args: [{ selector: \"[lorem]\" }]\r\n      }] });\r\n    }\r\n  });\r\n\r\n  \/\/ dist\/repro\/esm2020\/index.js\r\n  var esm2020_exports = {};\r\n  __export(esm2020_exports, {\r\n    LoremDirective: () => LoremDirective,\r\n    LoremModule: () => LoremModule\r\n  });\r\n  import { NgModule } from \"@angular\/core\";\r\n  import * as i02 from \"@angular\/core\";\r\n  var LoremModule;\r\n  var init_esm2020 = __esm({\r\n    \"dist\/repro\/esm2020\/index.js\"() {\r\n      init_lorem_directive();\r\n      LoremModule = class {\r\n      };\r\n      LoremModule.\\u0275fac = i02.\\u0275\\u0275ngDeclareFactory({ minVersion: \"12.0.0\", version: \"14.0.0-rc.2\", ngImport: i02, type: LoremModule, deps: [], target: i02.\\u0275\\u0275FactoryTarget.NgModule });\r\n      LoremModule.\\u0275mod = i02.\\u0275\\u0275ngDeclareNgModule({ minVersion: \"14.0.0\", version: \"14.0.0-rc.2\", ngImport: i02, type: LoremModule, declarations: [LoremDirective], exports: [LoremDirective] });\r\n      LoremModule.\\u0275inj = i02.\\u0275\\u0275ngDeclareInjector({ minVersion: \"12.0.0\", version: \"14.0.0-rc.2\", ngImport: i02, type: LoremModule });\r\n      i02.\\u0275\\u0275ngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"14.0.0-rc.2\", ngImport: i02, type: LoremModule,  decorators: [{\r\n        type: NgModule,\r\n        args: [{\r\n          declarations: [LoremDirective],\r\n          exports: [LoremDirective]\r\n        }]\r\n      }] });\r\n    }\r\n  });\r\n\r\n  \/\/ dist\/repro\/esm2020\/repro.js\r\n  var __createBinding = Object.create ? function(o, m, k, k2) {\r\n    if (k2 === void 0)\r\n      k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n      desc = { enumerable: true, get: function() {\r\n        return m[k];\r\n      } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n  } : function(o, m, k, k2) {\r\n    if (k2 === void 0)\r\n      k2 = k;\r\n    o[k2] = m[k];\r\n  };\r\n  var __exportStar = function(m, exports2) {\r\n    for (var p in m)\r\n      if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports2, p))\r\n        __createBinding(exports2, m, p);\r\n  };\r\n  Object.defineProperty(exports, \"__esModule\", { value: true });\r\n  __exportStar((init_esm2020(), __toCommonJS(esm2020_exports)), exports);\r\n  \/\/# sourceMappingURL=repro.js.map\r\n  ```\r\n\r\n  <\/details>\r\n\r\nA clear error message would be helpful if the Node16 module\/moduleResolution is not supported (yet).\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps:\/\/github.com\/bgotink\/angular-typescript-4.7-Node16\n\n### Please provide the exception or error you saw\n\n_No response_\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 14.0.0-rc.2\r\nNode: 16.14.2\r\nPackage Manager: yarn 1.22.15 \r\nOS: darwin arm64\r\n\r\nAngular: 14.0.0-rc.2\r\n... cli, compiler, compiler-cli, core\r\n\r\nPackage                      Version\r\n------------------------------------------------------\r\n@angular-devkit\/architect    0.1400.0-rc.2\r\n@angular-devkit\/core         14.0.0-rc.2\r\n@angular-devkit\/schematics   14.0.0-rc.2\r\n@schematics\/angular          14.0.0-rc.2\r\nng-packagr                   14.0.0-rc.0\r\ntypescript                   4.7.2\n```\n\n\n### Anything else?\n\n_No response_","labels":["area: packaging","area: compiler","state: confirmed","P3","bug"],"created_at":"2022-05-29T21:27:18Z","comments":5,"reactions":6,"url":"https:\/\/github.com\/angular\/angular\/issues\/46181"},{"issue_number":58,"repository":"angular\/angular","title":"FormControl of html date-picker does not report errors for non-existent dates","description":"### Which @angular\/* package(s) are the source of the bug?\n\nforms\n\n### Is this a regression?\n\nNo\n\n### Description\n\nWhen a form-control is attached to an `input[type=\"date\"]`, then invalid dates such as the non-existent 30.02.2022 can be manually entered without bringing it into an error-state.\r\nIt is not possible to recognize that an invalid date was entered using the form-control since it reports neither a value nor an error, even though the native input-element is in an invalid state!\r\n\r\nThe control is considered `valid` and has a value of `null` as if it would not have been filled by the user.\r\nI would expect the form-control to have an error instead of beeing in a `valid` state.\r\n\r\n![grafik](https:\/\/user-images.githubusercontent.com\/104614401\/165897868-5e55b323-ef1b-4dce-a4cd-ece71423293f.png)\r\n\n\n### Please provide a link to a minimal reproduction of the bug\n\nhttps:\/\/stackblitz.com\/edit\/angular-ivy-rqhjhr?file=src\/app\/app.component.html\n\n### Please provide the exception or error you saw\n\n```true\nEventhough the native input element is in an invalid state, the form-control does not report an error or beeing invalid!\n```\n\n\n### Please provide the environment you discovered this bug in (run `ng version`)\n\n```true\nAngular CLI: 13.3.4\r\nNode: 14.18.2\r\nPackage Manager: npm 6.14.15\r\nOS: win32 x64\r\n\r\nAngular: 13.3.5\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit\/architect       0.1303.4\r\n@angular-devkit\/build-angular   13.3.4\r\n@angular-devkit\/core            13.3.4\r\n@angular-devkit\/schematics      13.3.4\r\n@angular\/cli                    13.3.4\r\n@schematics\/angular             13.3.4\r\nrxjs                            7.5.5\r\ntypescript                      4.6.\n```\n\n\n### Anything else?\n\n_No response_","labels":["area: forms","P3","bug"],"created_at":"2022-04-29T07:02:34Z","comments":6,"reactions":5,"url":"https:\/\/github.com\/angular\/angular\/issues\/45811"},{"issue_number":59,"repository":"angular\/angular","title":"Animated elements with structural directives are duplicated when moving parent between ViewContainerRefs","description":"### Which @angular\/* package(s) are the source of the bug?\r\n\r\nanimations, core\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nReproduction steps (see link below):\r\n- click \"change state\", an animation will run and the text will appear\r\n- click \"change state\", the old text will animate out, and the new text will animate in. This is fine\r\n- click \"move me to B\", the entire component will be moved to the other ViewContainerRef. Note that the leave animation on the text will run\r\n- click \"change state\". Instead of the old text being animated out and then removed, only the new text is inserted. We end up with both states visible at the same time!\r\n\r\nEvery time the component is moved to the other ViewContainerRef and the number changes, another duplicated text appears.\r\n\r\nNo duplications occur if the animations are removed. I'm assuming the animation \"forgets\" to remove the old element from the DOM.\r\n\r\n-----\r\n\r\nThere are two components, each with a ng-container inside. Another component is dynamically created, and inserted into the ViewContainerRef of one of these ng-containers. This dynamic component is moved between the containers via a button click, which just does detach() on the current ViewContainerRef, and insert() on the new ViewContainerRef.\r\n\r\nThe component being moved contains a subject with a number. In the template, a structural directive is used to show a different text for each number (the bug appears with ngIf as well as ngSwitch, the reproduction uses ngIf). The texts have an enter\/leave animation.\r\n\r\n\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\nhttps:\/\/stackblitz.com\/edit\/angular-ivy-wm7e9e?file=src%2Fapp%2Fcomponent-to-move%2Fcomponent-to-move.component.ts\r\n\r\n### Please provide the exception or error you saw\r\n\r\n_No response_\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\nAngular CLI: 13.3.3\r\nNode: 16.13.1\r\nPackage Manager: npm 8.1.2\r\nOS: linux x64\r\n\r\nAngular: 13.3.4\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... platform-browser, platform-browser-dynamic, router\r\n\r\nPackage                         Version\r\n---------------------------------------------------------\r\n@angular-devkit\/architect       0.1303.3\r\n@angular-devkit\/build-angular   13.3.3\r\n@angular-devkit\/core            13.3.3\r\n@angular-devkit\/schematics      13.3.3\r\n@angular\/cli                    13.3.3\r\n@schematics\/angular             13.3.3\r\nrxjs                            7.5.5\r\ntypescript                      4.6.3\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\nThere is another issue relating to animations and ViewContainerRefs (https:\/\/github.com\/angular\/angular\/issues\/35959), but in that one only the animations are broken. Here the animations run fine, it's the duplicated DOM elements that are the problem. ","labels":["area: animations","P3","bug"],"created_at":"2022-04-27T08:10:02Z","comments":0,"reactions":0,"url":"https:\/\/github.com\/angular\/angular\/issues\/45773"},{"issue_number":60,"repository":"angular\/angular","title":"Reactive Forms require both [name] and [attr.name] for radio buttons to work correctly with [formControl]","description":"### Which @angular\/* package(s) are the source of the bug?\r\n\r\nforms\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nI have three minimal example variations of two sets of radio buttons on one page, with each set having its own `[formControl]` provided. In this scenario both sets of radios have the same values.\r\n\r\n_Unideal Working Example:_\r\n\r\nhttps:\/\/stackblitz.com\/edit\/angular-ivy-qf7yke?file=src%2Fapp%2Fapp.component.html\r\nIn this example it works as intended, but both `[name]` and `[attr.name]` are required.\r\n\r\n_Failing Example 1:_\r\n\r\nhttps:\/\/stackblitz.com\/edit\/angular-ivy-f16c7a?file=src%2Fapp%2Fapp.component.html\r\nIf only `[attr.name]` is provided, both radio buttons end up mirroring each other's control. The underlying form model is correct, but the \"template model\" is displayed incorrectly due to this mirroring.\r\n\r\n_Failing Example 2:_\r\n\r\nhttps:\/\/stackblitz.com\/edit\/angular-ivy-oyycqj?file=src%2Fapp%2Fapp.component.html\r\nIf only `[name]` is provided, it seems to work as intended, but because no attribute is attached to the HTML, the browser can't group the radio buttons, and keyboard controls work incorrectly. Tabbing only goes to the first group, skipping the second group, and arrow keys scroll through all the radio buttons on the page instead of being restricted to the correct group.\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\n_No response_\r\n\r\n### Please provide the exception or error you saw\r\n\r\n_No response_\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\n@angular\/animations\r\n12.2.5\r\n@angular\/common\r\n12.2.5\r\n@angular\/compiler\r\n12.2.5\r\n@angular\/core\r\n12.2.5\r\n@angular\/forms\r\n12.2.5\r\n@angular\/platform-browser\r\n12.2.5\r\n@angular\/platform-browser-dynamic\r\n12.2.5\r\n@angular\/router\r\n12.2.5\r\nrxjs\r\n7.3.0\r\ntslib\r\n2.3.1\r\nzone.js\r\n0.11.4\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\nIt seems like the easy solution here would be that `[name]` should be inserting an attribute into the HTML similar to `[id]`.\r\n\r\n`formControlName` appears to avoid these issues for some reason, but I can't use `formControlName` in my real-life scenario - I need to be able to pass the `formControl` itself through component layers.","labels":["area: forms","P3","bug"],"created_at":"2022-04-21T18:02:45Z","comments":3,"reactions":8,"url":"https:\/\/github.com\/angular\/angular\/issues\/45719"},{"issue_number":61,"repository":"angular\/angular","title":"Webcomponents properties are undefined inside connectedCallback","description":"### Which @angular\/* package(s) are the source of the bug?\r\n\r\ncore\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nWe are using Webcompoents in our application. Currently inside of our Webcompoent`s connectedCallback we want to make few changes to our component based on some properties. However, when connectedCallback is executed all the properties are set to undefined. \r\nWe further inspected this issue and found that, currently Angular sets properties of a Webcomponent after it is attached to the DOM. \r\nIf you will look at the console in the below share stackblitz, you will observe that the setter of the property inside our webcomponent is called after the connectedCallback.\r\n\r\nWe even compared this with other framework such as React, where the behaviour seems more standard, as the properties are set before the component is being attached to the DOM. \r\nReact: https:\/\/codesandbox.io\/s\/prod-sky-gw6qcz?file=\/src\/App.js:259-261\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\nhttps:\/\/stackblitz.com\/edit\/angular-ivy-rh2gzx?file=src\/app\/app.component.html\r\n\r\n### Please provide the exception or error you saw\r\n\r\n_No response_\r\n\r\n### Please provide the environment you discovered this bug in (run `ng version`)\r\n\r\n```true\r\nAngular : 13.2.0\r\n```\r\n\r\n\r\n","labels":["area: core","cross-cutting: custom elements","P3","bug"],"created_at":"2022-04-21T13:15:44Z","comments":6,"reactions":2,"url":"https:\/\/github.com\/angular\/angular\/issues\/45712"},{"issue_number":62,"repository":"angular\/angular","title":"extract-i18n JSON format add support for meaning and description","description":"### Which @angular\/* package(s) are relevant\/related to the feature request?\r\n\r\nlocalize\r\n\r\n### Description\r\n\r\nThe command `ng extract-i18n --format=json` works fine and generates a JSON with all the translations included, but they are missing the `:meaning|description:` part, which is available in the default XLIFF format (haven't checked the others).\r\nThe source strings:\r\n```\r\n$localize `:something|direction:Right`\r\n$localize `:correct:Right`\r\n$localize `Text 1`\r\n$localize `Text 2`\r\n...\r\n```\r\n\r\nThe generated JSON:\r\n```\r\n{\r\n  \"locale\": \"en-US\",\r\n  \"translations\": {\r\n    \"7732309408488818531\": \"Right\",\r\n    \"6238291467288576076\": \"Right\",\r\n    \"7186168002821041410\": \"Text 1\",\r\n    \"7402672269023827698\": \"Text 2\",\r\n    ...\r\n}\r\n```\r\n\r\n### Proposed solution\r\n\r\nSupporting both the single string value and an object with the value and the meaning\/description, like this:\r\n```\r\n{\r\n  \"locale\": \"en-US\",\r\n  \"translations\": {\r\n    \"7732309408488818531\": {\r\n      \"target\": \"Right\",\r\n      \"meaning\": \"something\",\r\n      \"description\": \"direction\"\r\n    },\r\n    \"6238291467288576076\": {\r\n      \"target\": \"Right\",\r\n      \"description\": \"correct\"\r\n    },\r\n    \"7186168002821041410\": \"Text 1\",\r\n    \"7402672269023827698\": \"Text 2\",\r\n    ...\r\n}\r\n```\r\n`meaning` and `description` would be completely optional, and could be deleted leaving only `target` if needed by the translators.\r\n\r\n### Alternatives considered\r\n\r\nnone","labels":["area: i18n","P3","bug"],"created_at":"2022-03-29T15:05:19Z","comments":4,"reactions":11,"url":"https:\/\/github.com\/angular\/angular\/issues\/45465"},{"issue_number":63,"repository":"angular\/angular","title":"HttpHeader with the same key are not split by comma ","description":"### Which @angular\/* package(s) are the source of the bug?\r\n\r\ncommon\r\n\r\n### Is this a regression?\r\n\r\nNo\r\n\r\n### Description\r\n\r\nAccording to the Http spec: [rfc7230 section 3.2.2](https:\/\/www.rfc-editor.org\/rfc\/rfc7230#section-3.2.2)\r\n>A sender MUST NOT generate multiple header fields with the same field name in a message unless either the entire field value for that  header field is defined as a comma-separated list [i.e., #(values)] or the header field is a well-known exception (as noted below).\r\n>A recipient MAY combine multiple header fields with the same field name into one \"field-name: field-value\" pair, without changing the  semantics of the message, by appending each subsequent field value to the combined field value in order, separated by a comma.  The order in which header fields with the same field name are received is therefore significant to the interpretation of the combined field value; a proxy MUST NOT change the order of these field values when\r\n   forwarding a message.\r\n> Note: In practice, the \"Set-Cookie\" header field ([RFC6265]) often appears multiple times in a response message and does not use the list syntax, violating the above requirements on multiple header fields with the same name.  Since it cannot be combined into a single field-value, recipients ought to handle \"Set-Cookie\" as a special case while processing header fields.  (See Appendix A.2.3 of [Kri2001] for details.)\r\n      \r\n\r\n\r\n### Please provide a link to a minimal reproduction of the bug\r\n\r\nhttps:\/\/stackblitz.com\/edit\/angular-eengp8?file=src%2Fapp%2Fapp.component.html\r\n\r\n### Please provide the exception or error you saw\r\n\r\n```true\r\nNo exception just not matching spec\r\n`httpHeaders.getAll(key)` returns [ \"value1, value2\" ] should be [ \"value1\", \"value2\" ]\r\n```\r\n\r\n\r\n### Please provide the environment you discovered this bug in\r\n\r\n```true\r\nAngular CLI: 11.2.6\r\nNode: 14.18.0\r\nOS: linux x64\r\n\r\nAngular: 11.2.7\r\n... animations, cdk, common, compiler, compiler-cli, core, forms\r\n... localize, platform-browser, platform-browser-dynamic, router\r\n... service-worker\r\nIvy Workspace: Yes\r\n```\r\n\r\n\r\n### Anything else?\r\n\r\nThe same issue is present in later angular versions","labels":["breaking changes","area: common\/http","P5","bug","detected: breaking change"],"created_at":"2021-11-11T17:23:57Z","comments":1,"reactions":0,"url":"https:\/\/github.com\/angular\/angular\/issues\/44149"},{"issue_number":64,"repository":"angular\/angular","title":"Angular Service Worker should prefetch assets in parallel","description":"# \ud83d\ude80 feature request\r\n\r\n### Relevant Package\r\n\r\nThis feature request is for @angular\/service-worker.\r\n\r\n### Description\r\n\r\nThe Angular Service Worker currently prefetches a new version assets one by one, as mentioned in https:\/\/github.com\/angular\/angular\/blob\/dd0ba3f4abb5cf467e55bf660b70965ba7f2881e\/packages\/service-worker\/worker\/src\/assets.ts#L510\r\n\r\n> \/\/ Cache all known resources serially. As this reduce proceeds, each Promise waits\r\n> \/\/ on the last before starting the fetch\/cache operation for the next request. Any\r\n> \/\/ errors cause fall-through to the final Promise which rejects.\r\n\r\nDoing so with a medium\/large application that heavily leverage code-splitting in inefficient: in our case we have ~340 assets to prefetch, for a total application size of only 3.0MB, yet upgrades a taking several minutes (sometimes above > 10 minutes) to be ready.\r\n\r\nThis leads to app upgrades being slower to propagate as they should be, as users have to stick around several minutes within the app for us to be able to switch to (or notify them about) the new version.\r\n\r\n### Describe the solution you'd like\r\n\r\nNew versions assets should be prefetched by the Service Worker in parallel. 3MB only takes a second to download on the average broadband connection thanks for h2+ parallelism, and the Angular Service Worker should leverage that.\r\n\r\n### Describe alternatives you've considered\r\n\r\nI am unused if the current behavior was designed on purpose.","labels":["area: performance","area: service-worker","P4","feature: in backlog","bug"],"created_at":"2020-10-29T14:24:57Z","comments":8,"reactions":18,"url":"https:\/\/github.com\/angular\/angular\/issues\/39491"},{"issue_number":65,"repository":"angular\/angular","title":"Hierarchical injectors @Host() decorator explanation incomplete","description":"# \ud83d\udcda Docs or angular.io bug report\r\n\r\n### Description\r\n\r\nThe description of the @Host() decorator is the same as the description of the @Self() decorator.\r\n\r\nBecause the FlowerService is provided in the component itself, the @Host() decorator has no purpose in the example, without @SkipSelf() the FlowerService will always come from the provider declared on the HostComponent.\r\n\r\nIt also fails to explain the difference between @Self() and @Host() because the example given for @Host() has the component as its own host,\r\n\r\nThis is expanded upon much further down the page, but is also explained far better in https:\/\/angular.io\/guide\/dependency-injection-in-action#make-a-dependency-optional-and-limit-search-with-host\r\n\r\nThe description of @Self() also confusingly says \"@Self() tells the injector to stop searching in the current host element.\".\r\n\r\n\r\n### What's the affected URL?\r\nhttps:\/\/angular.io\/guide\/hierarchical-dependency-injection#host","labels":["help wanted","freq1: low","area: core","core: di","P4","bug","area: docs"],"created_at":"2020-02-13T11:57:24Z","comments":6,"reactions":0,"url":"https:\/\/github.com\/angular\/angular\/issues\/35417"},{"issue_number":66,"repository":"angular\/angular","title":"routerLink directive always makes element focusable","description":"# \ud83d\udc1e bug report\r\n\r\n### Affected Package\r\n@angular\/router\r\n\r\n### Description\r\n\r\nIssue https:\/\/github.com\/angular\/angular\/issues\/10895 requests that the `routerLink`-directive should automatically add `tabindex` on the target element if not already present (implemented via https:\/\/github.com\/angular\/angular\/pull\/13094).\r\n\r\nI understand that this behavior might be convinient in some cases, but it should still be configurable.\r\n\r\nFor example, in order to implement a custom menu widget it's a good practice that the focus always stays on the surrounding element (e.g. `<nav>`) while the user selects the target menu item with the arrow keys.\r\n\r\nRight now, implementing this in a clean and straight-forward way is not possible due to the feature implemented in the issue above. If `<a>` is used for the menu entries, the `href` injected by `routeLink` makes it focusable and even if `<span>` is used instead, `routeLink` still injects a `tabindex=0` to always make it focusable.\r\nWhen the user then clicks on a link the surrounding `<nav>` element looses its focus as focus moves to the link that has been clicked instead. Even setting `tabindex=\"-1\"` only prevents tabbing to the link but still allows focus via mouse click.\r\n\r\nThere should either be a configuration parameter to prevent setting of `tabindex` or the feature should be reverted as `tabindex` can always be configured manually if necessary.\r\n\r\n## \ud83d\udd2c Minimal Reproduction\r\n<!--\r\nPlease create and share minimal reproduction of the issue starting with this template: https:\/\/stackblitz.com\/fork\/angular-issue-repro2\r\n-->\r\nhttps:\/\/stackblitz.com\/edit\/angular-issue-repro2-qudebd\r\n\r\n```html\r\n<nav tabindex=\"0\">\r\n  <ol>\r\n    <li>\r\n      <!-- becomes focusable because of href attribute -->\r\n      <a routerLink=\"bikes\" routerLinkActive=\"active\">Bikes<\/a>\r\n    <\/li>\r\n    <li>\r\n      <!-- becomes focusable because of tabindex attribute -->\r\n      <span routerLink=\"cars\" routerLinkActive=\"active\">Cars<\/span>\r\n    <\/li>\r\n  <\/ol>\r\n<\/nav>\r\n```\r\n<!--\r\nIf StackBlitz is not suitable for reproduction of your issue, please create a minimal GitHub repository with the reproduction of the issue. Share the link to the repo below along with step-by-step instructions to reproduce the problem, as well as expected and actual behavior.\r\n\r\nIssues that don't have enough info and can't be reproduced will be closed.\r\n\r\nYou can read more about issue submission guidelines here: https:\/\/github.com\/angular\/angular\/blob\/master\/CONTRIBUTING.md#-submitting-an-issue\r\n-->\r\n\r\n## \ud83c\udf0d  Your Environment\r\n\r\n**Angular Version:**\r\n<pre><code>\r\nAngular CLI: 6.2.9\r\nNode: 8.11.3\r\nOS: darwin x64\r\nAngular: 6.1.10\r\n... animations, common, compiler, compiler-cli, core, forms\r\n... http, language-service, platform-browser\r\n... platform-browser-dynamic, router\r\n\r\nPackage                           Version\r\n-----------------------------------------------------------\r\n@angular-devkit\/architect         0.8.9\r\n@angular-devkit\/build-angular     0.8.9\r\n@angular-devkit\/build-optimizer   0.8.9\r\n@angular-devkit\/build-webpack     0.8.9\r\n@angular-devkit\/core              0.8.9\r\n@angular-devkit\/schematics        0.8.9\r\n@angular\/cli                      6.2.9\r\n@ngtools\/webpack                  6.2.9\r\n@schematics\/angular               0.8.9\r\n@schematics\/update                0.8.9\r\nrxjs                              6.3.3\r\ntypescript                        2.9.2\r\nwebpack                           4.16.4\r\n<\/code><\/pre>\r\n\r\n**Anything else relevant?**\r\n<!-- \u270d\ufe0fIs this a browser specific issue? If so, please specify the browser and version. -->\r\nThis can be reproduced as described in Chrome v71.0.3578.98.\r\nIn Safari the focus is only lost on the second link (i.e. where `<span>` is used).\r\n\r\n","labels":["freq2: medium","area: router","router: directives","P4","bug"],"created_at":"2019-01-24T17:38:01Z","comments":22,"reactions":14,"url":"https:\/\/github.com\/angular\/angular\/issues\/28345"},{"issue_number":67,"repository":"angular\/angular","title":"The \"value\" property on radio buttons with FormControl doesn't get updated","description":"<!--\r\nPLEASE HELP US PROCESS GITHUB ISSUES FASTER BY PROVIDING THE FOLLOWING INFORMATION.\r\n\r\nISSUES MISSING IMPORTANT INFORMATION MAY BE CLOSED WITHOUT INVESTIGATION.\r\n-->\r\n\r\n## I'm submitting a...\r\n<!-- Check one of the following options with \"x\" -->\r\n<pre><code>\r\n[ ] Regression (a behavior that used to work and stopped working in a new release)\r\n[x] Bug report  <!-- Please search GitHub for a similar issue or PR before submitting -->\r\n[ ] Performance issue\r\n[ ] Feature request\r\n[ ] Documentation issue or request\r\n[ ] Support request => Please do not submit support request here, instead see https:\/\/github.com\/angular\/angular\/blob\/master\/CONTRIBUTING.md#question\r\n[ ] Other... Please describe:\r\n<\/code><\/pre>\r\n\r\n## Current behavior\r\nWhen I query a radio input element, for example: `myRadioInput` and check it's value like `myRadioInput.value` I get \"on\" instead of the actual value from \"value\"\r\n\r\n\r\n## Expected behavior\r\nI expect that `myRadioInput.value` will be the `inputValue` or the `formControl.value` I set on the component.\r\n\r\n\r\n## Minimal reproduction of the problem with instructions\r\n\r\nIn the following link:\r\n1. Open the console \r\n2. Click on the button\r\n3. See that instead of \"good\" it shows \"on\"\r\n\r\nhttps:\/\/stackblitz.com\/edit\/angular-reactive-forms-radio-value-bug\r\n\r\n## What is the motivation \/ use case for changing the behavior?\r\nFor testing purposes, I need to be able to click on a certain radio input to manually select it.\r\nthat's why it's important to be able to compare the radio.value to the manually selected value. \r\n\r\n## Environment\r\n\r\n<pre><code>\r\nAngular version: 6.1.8\r\n<!-- Check whether this is still an issue in the most recent Angular version -->\r\n\r\nBrowser:\r\n- [x] Chrome (desktop) version 68.0.3440.106\r\n- [ ] Chrome (Android) version XX\r\n- [ ] Chrome (iOS) version XX\r\n- [ ] Firefox version XX\r\n- [ ] Safari (desktop) version XX\r\n- [ ] Safari (iOS) version XX\r\n- [ ] IE version XX\r\n- [ ] Edge version XX\r\n \r\nFor Tooling issues:\r\n- Node version: XX  <!-- run `node --version` -->\r\n- Platform:  <!-- Mac, Linux, Windows -->\r\n\r\nOthers:\r\n<!-- Anything else relevant?  Operating system version, IDE, package manager, HTTP server, ... -->\r\n<\/code><\/pre>\r\n","labels":["freq1: low","area: forms","P3","bug"],"created_at":"2018-09-20T12:32:07Z","comments":10,"reactions":0,"url":"https:\/\/github.com\/angular\/angular\/issues\/26037"},{"issue_number":68,"repository":"angular\/angular","title":"Bug(Animations): animation transition :enter delay should delay the appearance of an element","description":"## I'm submitting a...\r\n<!-- Check one of the following options with \"x\" -->\r\n<pre><code>\r\n[ ] Regression (a behavior that used to work and stopped working in a new release)\r\n[ ] Bug report  <!-- Please search GitHub for a similar issue or PR before submitting -->\r\n[ ] Performance issue\r\n[x] Feature request\r\n[ ] Documentation issue or request\r\n[ ] Support request => Please do not submit support request here, instead see https:\/\/github.com\/angular\/angular\/blob\/master\/CONTRIBUTING.md#question\r\n[ ] Other... Please describe:\r\n<\/code><\/pre>\r\n\r\n## Current behavior\r\n<!-- Describe how the issue manifests. -->\r\nAnimation delay does not delay element appearance during `:enter` transition\r\n\r\n## Expected behavior\r\n<!-- Describe what the desired behavior would be. -->\r\nAnimation delay should delay appearance of an element during `:enter` transition\r\n\r\n## What is the motivation \/ use case for changing the behavior?\r\n<!-- Describe the motivation or the concrete use case. -->\r\nIt's not possible to animate the `display` property which makes it impossible in some cases to delay the appearance of an object using Angular's animation features.\r\n\r\n## Environment\r\n\r\n<pre><code>\r\nAngular version: 6.0.3\r\n<!-- Check whether this is still an issue in the most recent Angular version -->\r\n\r\nBrowser:\r\n- [ ] Chrome (desktop) version XX\r\n- [ ] Chrome (Android) version XX\r\n- [ ] Chrome (iOS) version XX\r\n- [ ] Firefox version XX\r\n- [ ] Safari (desktop) version XX\r\n- [ ] Safari (iOS) version XX\r\n- [ ] IE version XX\r\n- [ ] Edge version XX\r\n \r\nFor Tooling issues:\r\n- Node version: XX  <!-- run `node --version` -->\r\n- Platform:  <!-- Mac, Linux, Windows -->\r\n\r\nOthers:\r\n<!-- Anything else relevant?  Operating system version, IDE, package manager, HTTP server, ... -->\r\n<\/code><\/pre>\r\n","labels":["area: animations","freq2: medium","P4","bug"],"created_at":"2018-06-04T14:13:14Z","comments":4,"reactions":1,"url":"https:\/\/github.com\/angular\/angular\/issues\/24292"},{"issue_number":69,"repository":"angular\/angular","title":"Problem when adding dynamically a component with g[test] selector in SVG","description":"**I'm submitting a ...**  (check one with \"x\")\n\n[ x ] bug report\n[ ] feature request\n[ ] support request => Please do not submit support request here, instead see https:\/\/github.com\/angular\/angular\/blob\/master\/CONTRIBUTING.md#question\n\n**Current behavior**\n\nI try to add dynamically this component within SVG:\n\n```\n@Component({\n  selector: 'g[test1]',\n  template: `\n    <svg:text x=\"10\" y=\"15\" fill=\"red\">I love SVG!<\/svg:text>\n  `\n})\nexport class Test1Comp {\n}\n```\n\nI use this approach:\n\n```\nthis.resolver.resolveComponent(Test1Comp).then((factory:ComponentFactory<any>) => {\n    this.cmpRef = this.viewContainerRef.createComponent(factory);\n});\n```\n\nWhereas the corresponding content is added to the DOM, it appears that the host element (`g`) isn't a valid SVG element (perhaps the svg namespace isn't used):\n\n```\n<g test1> <!-- UnkownHTMLElement-->  \n  <text>...<\/text> <!-- SVGTextElement -->\n<\/g>\n```\n\nThis prevents from displaying the SVG elements within the `g` one.\n\n**Expected\/desired behavior**\n\nTo be able to add dynamically components within SVG with selectors like `g[test1]`.\n\n**Reproduction of the problem**\n\nSee this plunkr: http:\/\/plnkr.co\/edit\/6aLGnLNi0svLk4CVS9M2?p=preview.\n\n**What is the expected behavior?**\n\nI expect the added host element to be an `SVGElement` and not an `HTMLUnknownElement`.\n\n**What is the motivation \/ use case for changing the behavior?**\n\n**Please tell us about your environment:**\n- **Angular version:** 2.0.0-rc.4\n- **Browser:** [Chrome] \n- **Language:** [ TypeScript ] \n","labels":["type: bug\/fix","freq2: medium","area: core","state: confirmed","core: dynamic view creation","cross-cutting: SVG","P3","bug"],"created_at":"2016-07-30T12:27:51Z","comments":23,"reactions":18,"url":"https:\/\/github.com\/angular\/angular\/issues\/10404"}]
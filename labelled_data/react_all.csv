issue_number,repository,title,description,labels,created_at,comments,reactions,url,
1,facebook/react,[Compiler Bug]: InvalidReact: Ref values (the `current` property) may not be accessed during render. False Positive,"### What kind of issue is this?

- [ ] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [x] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhAHQHYIB4AcIwAuABACYIBmAhlADYkVQZyECWEGxAsgJ4CCuXAAoAlMWCZixOBzAlSrAG4AlSsQC8xKGASqKQjHVoiA3JOmySAWx4AJKhlK0EMDcQQaAfOPNSqzoiEFFUoAOjhYGAQMQlDWDCwYABUcQlNzAF9zGQw5Ygc4AAsCAAUYCFwwN2AMs0585mKYMoqwUI4AYVpWOABrN1EvYht7RwDROsxzKMJYTiFfYgAeT0WpJeDiKIp1YGC9DM9bBFpaCGIAdQJaUiWAemDV+ql1qnFQj4KmlsrDi8KqPIIAgqoRCh5NmAqDwAPz3KhPF7LO6I4jpDBZDAgDJAA

### Repro steps

1) Create a ref with `useRef()`
2) Create an event handler that accesses `ref.current`
3) Create an arbitrary object
4) Assign an arbitrary property to that object and set it equal to a function that calls the handler from step 2.
5) Witness the `InvalidReact: Ref values (the `current` property) may not be accessed during render.` error

Ex (also in playground link):

```js
export default function MyApp() {
  const divRef = useRef(null);
  const myHandler = e => {
    alert(divRef.current.innerText);
  }
  const anchorProps = {};
  anchorProps.onClick = () => myHandler();


  return (
    <>
      <div ref={divRef}>Hello World</div>
      <a {...anchorProps}>What does the div say?</a>
    </>
  );
}
```

### How often does this bug happen?

Every time

### What version of React are you using?

18.3.1

### What version of React Compiler are you using?

19.0.0-beta-27714ef-20250124","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2025-02-06T21:05:56Z,2,3,https://github.com/facebook/react/issues/32320,Logical Bug
2,facebook/react,[Compiler Bug]: Upgrading from `e552027-20250112` to `27714ef-20250124` no longer optimizes,"### What kind of issue is this?

- [x] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [ ] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhHCA7MAXABAYQgFsAHZXAJQQEM5sA6AMX1wF5cAKASjYD5dgAHQy5c6LHgDaYBABsEdBABMAqjJhgANLhnYAynIXZlahBoC6bXFBl7s1YwB4YNJZlkBPXKZgB5GACCJACWPpLmvBzhXADcwsKi4jjW6gCSSmBWMvKKqupg9ETUJBwcNmY8rPzlMPTBSrHxImKYyXjs3HwCuAmiLRK41DAwVuFxGL2iAGYQIxxJeNlGJuq4EFMpZulgPELNfYPD9CQ2ABYcS7k+jfu4AL6TuC7YsBPND2+iz6+4GFCysnGd3GIDuQA

### Repro steps

No reproduction steps required - the playground shows the error.

https://github.com/facebook/react/pull/32093/files#diff-20b95f808e27819de316464ff5819940614b11b694deb9f1c4fecf39dff6b6e4R1607

As a workaround I've just extracted the function (in our real app it's a `queryFn` to `react-query`) outside of the component and pass it the arguments instead, so we no longer loop inside the component itself.

---

For future reference (for when this is fixed and the playground no longer shows an error), this is the current result:

<img width=""670"" alt=""Image"" src=""https://github.com/user-attachments/assets/c9d632bb-f4b0-4ee4-8026-eb086cdbc3ea"" />

### How often does this bug happen?

Every time

### What version of React are you using?

N/A

### What version of React Compiler are you using?

`27714ef-20250124`","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2025-01-30T08:10:31Z,0,0,https://github.com/facebook/react/issues/32269,Logical Bug
3,facebook/react,"[Compiler Bug]: ""Ref values (the `current` property) may not be accessed during render"" but there is no value access","### What kind of issue is this?

- [ ] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [x] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhASwLYAcIwC4AEwBASggIZx4ByEAJggDSkIBmA8gEYBWCVzUMAgCyCDBAFCyrAgF8CrGBAwEAOiBgUq6gNyqAdgYD0RggBU0eADYIAamgYRkBTfoYwwBcgQBuDhBAEAO6WABZeBHiWNgYGeACeWAjm0Xb+EAAKSlieALxEBgQubAD8ztJcvFQAPAASZsIAMvaOAKI2GAj6hAA+BPpQVlYAfHr6RVHWCM5geDBo+gDmY0Vg8DNzC8sGsmMGrFD6VGgQ4xZTLQEAFMSarMyTNsxrcHLO5zaXmdlgAJQF42KeFg4yuhSKBGqdDQPmG4IhkNCAEZhsBHghZNUjMi4YCEcAjAAqAgIMBWBZ4AC00LA5E4Nkp+gQAA8qeSmQRuGBmZTyEikfEjJ1oeRKaFyGBKXByFgoqcCISjLJ4RDqn5HMVWLlgHd5C9tS95EZcQisdDYeDfmNlYZ9CYCMIoHgEABhU5zCBWMDOch0OiebycJ14eUhggYJ3JPChZLqgLFNwITR0AiceIJ9xfWLdRLJR3Ot3dJRerIQHIEfLAcGuTPpZxXO7lNiVPh4OoNZrpdpiLq9fqDEb-XLDFiUGj0BDWvb6A5HOXjfOu93FsA3DNJr5vB2Rwseks-f5VwFwU6zXzpaQVgiCBDSdtNL7dzrdYZXAZDK3ZoqaYEwUEqqEYRNBEiBrDd0iuOMIGkX4bRAyEgzwENbXgopThdck4AAa21K4hxHI9UIhNAZEgi82AAOjgWBXDwf4oOkKiaN7CifE9KBOivAAGFZUNkOCQOA+CI2dFUiixRDkKEyEjHNYDP30G1jFML5GjQWZnDAjwInJM8IBkKDPBCaNw0jVNg1PbMEiSAhVPUvBS3LStwUMgARcg8HIZxiBeDZ5iWHRIlSPytjkABtABdKds1nY55Ts2Ybhc9IwHczyrzCnz1jUEB1AeYKcs3JF1DkCLGB2ZwEocg8ASKE99DPLSADFDjgb0WBPGA6GqWZ-MWZhF13FdHLAML1C0rMQAikd8hvURxDBPECDwitpKKFsqAoxRlFaIs0FJRaiLcjzyAojAZSuK46BO-CCDGpb4OuzyKPRcqHpAhs2Fu6oPjSDU7m1XUiAokGnvII1hjeoiIt+KGQNhlUwuOzyystadvwQX9-yWwCLXe4ANrwCje3mA7mtav4zouq4wte9cYBh1blrE1VBuXT1PCwhB4m1dF5Am9JAa6dwIZZ35YIA2SgLRnZsxZHB8AIBhWHIQZCCqsYQFkIA

### Repro steps

1. Create a component A
2. Add a prop P to component A. This prop must be a render function that receives a `RefObject` and returns a `ReactNode`
3. Use the `useRef` hook in component A and initialize it with null
4. Invoke the render function passed in prop P with the ref from the previous step

**Notes:**
- I'm not absolutely certain if this is an error on the compiler plugin or if I am not fully understanding what the error is supposed to be. If it is an error on my end, then I would say this error message needs to be improved.
- The repro link has a complete example of a scenario where this error could arise. The bug itself is only triggered in the `MuteControls` component.
- The only ref value access in the repro link (`videoRef.current`) is in the `onClick` function of the button in `MuteControls`. Commenting this **does not make the error disappear**, so the error is triggered without any value access
- Using `useMemo` to memoize the `renderVideo` call does not make the error dissapear neither

### How often does this bug happen?

Every time

### What version of React are you using?

18.3.1

### What version of React Compiler are you using?

eslint-plugin-react-compiler@19.0.0-beta-27714ef-20250124","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2025-01-29T13:49:56Z,2,0,https://github.com/facebook/react/issues/32261,Logical Bug
4,facebook/react,[Compiler Bug]: Hydration failed because the server rendered HTML didn't match the client. As a result this tree will be regenerated on the client. This can happen if a SSR-ed Client Component used,"### What kind of issue is this?

- [x] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [x] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [ ] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://github.com/egorBezmen/next15-styled-components

### Repro steps

1) npm install
2) npm run dev
3) open [localhost](http://localhost:3000) 

<img width=""1512"" alt=""Image"" src=""https://github.com/user-attachments/assets/53f68d57-6c50-4cf7-baf5-5aaf7ac4a7a6"" />

https://github.com/vercel/next.js/tree/canary/examples/with-styled-components
I deployed the template project and enabled the option react-compiler
codesandbox - https://codesandbox.io/p/github/egorBezmen/next15-styled-components/main?import=true

### How often does this bug happen?

Every time

### What version of React are you using?

18.3.1 / 19.0.0

### What version of React Compiler are you using?

19.0.0-beta-27714ef-20250124","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2025-01-27T12:16:47Z,4,0,https://github.com/facebook/react/issues/32235,Logical Bug
5,facebook/react,"[DevTools Bug]:  [DevTools Bug] Cannot reorder children for node ""0"" because no matching node was found in the Store.","### Website or app

https://www.autotrack.nl/aanbod

### Repro steps

1. Start profiling in chrome
2. Click on any filter
3. Uncaught Error: Cannot reorder children for node ""0"" because no matching node was found in the Store.
Dismiss
The error was thrown at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1175534
    at v.emit (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1140783)
    at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1142390
    at bridgeListener (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1552529)

### How often does this bug happen?

Every time

### DevTools package (automated)

react-devtools-extensions

### DevTools version (automated)

6.0.1-c7c68ef842

### Error message (automated)

Cannot reorder children for node ""0"" because no matching node was found in the Store.

### Error call stack (automated)

```text
at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1175534
    at v.emit (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1140783)
    at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1142390
    at bridgeListener (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1552529)
```

### Error component stack (automated)

```text

```

### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=Cannot reorder children for node  because no matching node was found in the Store. in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react
```","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2025-01-23T11:25:04Z,2,1,https://github.com/facebook/react/issues/32196,Syntax Error
6,facebook/react,[DevTools Bug]: react-devtools not start up,"### Website or app

sorrry I don't know how to reproduce this.

### Repro steps

npm install -g react-devtools

react-devtools

react-devtools not start up on ubuntu24 ,  nothing happen , no error message at all




### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

```text

```

### Error component stack (automated)

```text

```

### GitHub query string (automated)

```text

```","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2025-01-23T01:40:01Z,2,0,https://github.com/facebook/react/issues/32165,Syntax Error
7,facebook/react,"[DevTools Bug] Cannot add child ""301"" to parent ""155"" because parent node was not found in the Store.","### Website or app

www.github.com

### Repro steps

The error was thrown at chrome-extension://gpphkfbcpidddadnkolkpfckpihlkkil/build/main.js:1:1173126
    at v.emit (chrome-extension://gpphkfbcpidddadnkolkpfckpihlkkil/build/main.js:1:1140783)
    at chrome-extension://gpphkfbcpidddadnkolkpfckpihlkkil/build/main.js:1:1142390
    at bridgeListener (chrome-extension://gpphkfbcpidddadnkolkpfckpihlkkil/build/main.js:1:1552662)

### How often does this bug happen?

Every time

### DevTools package (automated)

react-devtools-extensions

### DevTools version (automated)

6.0.1-c7c68ef842

### Error message (automated)

Cannot add child ""301"" to parent ""155"" because parent node was not found in the Store.

### Error call stack (automated)

```text
at chrome-extension://gpphkfbcpidddadnkolkpfckpihlkkil/build/main.js:1:1173126
    at v.emit (chrome-extension://gpphkfbcpidddadnkolkpfckpihlkkil/build/main.js:1:1140783)
    at chrome-extension://gpphkfbcpidddadnkolkpfckpihlkkil/build/main.js:1:1142390
    at bridgeListener (chrome-extension://gpphkfbcpidddadnkolkpfckpihlkkil/build/main.js:1:1552662)
```

### Error component stack (automated)

```text

```

### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=Cannot add child  to parent  because parent node was not found in the Store. in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react
```","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2025-01-18T03:21:16Z,7,0,https://github.com/facebook/react/issues/32118,Syntax Error
8,facebook/react,"[Compiler Bug]: eslint plugin erroneously flags third-party functions starting with ""use"" as hooks","### What kind of issue is this?

- [ ] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [x] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhASwLYAcIwC4AEwBUYCAMgIYCe0eAogGaMJyEC+BjMEGBA5DASU2-ANwAdAHaYc+AgCoClMMowBhABaV8q7rwEABShjjbdAehNmdeMABYLcXAnHTpCAB5zCAEwSMlFAANoSMUFJsaBBSBACy1ACCWFgAFACURNIEJGRUtFAMzKx4qRkEALwAfFmxOWpatmAAdKQIACqaCBgIqVIhwemSdewANAQA2gC66e51QniwsanZ9QA8vmgAbgQWVauzUuzSIOxAA

### Repro steps

In the simplified playground example above, I'm using `amCharts.useTheme` which is not a hook at all, just a random function of an external library that happen to start with **use**.

### How often does this bug happen?

Every time

### What version of React are you using?

react@19.0.0

### What version of React Compiler are you using?

babel-plugin-react-compiler@19.0.0-beta-e552027-20250112","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2025-01-17T14:32:20Z,2,0,https://github.com/facebook/react/issues/32109,Performance Issue
9,facebook/react,[DevTools Bug]: incorrect error on react-hooks/exhaustive-deps,"### Website or app

http://localhost:3008/

### Repro steps

```
React Hook useMemo has unnecessary dependencies: 'store1.list' and 'store2.list'. Either exclude them or remove the dependency array. Outer scope values like 'domains.content' aren't valid dependencies because mutating them doesn't re-render the component  react-hooks/exhaustive-deps
```


For an unknown reason, it appears in the following code.
```
const list = useMemo(() => _.map(store1.list, item => ({
    ...item,
    warnings: _.map(
      _.filter(store2.list, { name: item.name }),
      ({ info }) => ({ label: `Important ${info}` })
    )
  })), [store1.list, store2.list])
```

And I am sure there is a bug because it doesn't appear in the following code:

```
const list1 = store1.list
  const list2 = store2.list
  const list = useMemo(() => _.map(list1, item => ({
    ...item,
    warnings: _.map(
      _.filter(list2, { name: item.name }),
      ({ info }) => ({ label: `Important ${info}` })
    )
  })), [list1, list2])
```


### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

```text

```

### Error component stack (automated)

```text

```

### GitHub query string (automated)

```text

```","['Type: Bug', 'Status: Unconfirmed']",2025-01-16T15:29:24Z,0,0,https://github.com/facebook/react/issues/32089,Logical Bug
10,facebook/react,"[DevTools Bug] Cannot remove node ""92"" because no matching node was found in the Store.","### Website or app

http://localhost:3000/

### Repro steps

I was trying to inspect my component tree via react dev tools, but each time I make an interaction on the website which changes the state, it throws an error 

### How often does this bug happen?

Every time

### DevTools package (automated)

react-devtools-extensions

### DevTools version (automated)

6.0.1-c7c68ef842

### Error message (automated)

Cannot remove node ""92"" because no matching node was found in the Store.

### Error call stack (automated)

```text
at chrome-extension://gpphkfbcpidddadnkolkpfckpihlkkil/build/main.js:1:1173889
    at v.emit (chrome-extension://gpphkfbcpidddadnkolkpfckpihlkkil/build/main.js:1:1140783)
    at chrome-extension://gpphkfbcpidddadnkolkpfckpihlkkil/build/main.js:1:1142390
    at bridgeListener (chrome-extension://gpphkfbcpidddadnkolkpfckpihlkkil/build/main.js:1:1552662)
```


### Error component stack (automated)

_No response_

### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=Cannot remove node  because no matching node was found in the Store. in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react
```
","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2025-01-01T16:10:15Z,4,3,https://github.com/facebook/react/issues/31950,Syntax Error
11,facebook/react,[DevTools Bug] Minified React error #310; visit https://react.dev/errors/310 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.,"### Website or app

http://localhost:1234/restaurants/323532

### Repro steps

i'm not able to open components features and use it properly

### How often does this bug happen?

Every time

### DevTools package (automated)

react-devtools-extensions

### DevTools version (automated)

6.0.1-c7c68ef842

### Error message (automated)

Minified React error #310; visit https://react.dev/errors/310 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.

### Error call stack (automated)

```text
at updateWorkInProgressHook (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:53845)
    at Object.updateCallback [as useCallback] (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:63009)
    at t.useCallback (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:222673)
    at InspectedElementContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1329500)
    at renderWithHooks (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:52283)
    at updateFunctionComponent (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:81757)
    at beginWork (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:95976)
    at performUnitOfWork (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:154382)
    at workLoopSync (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:154250)
    at renderRootSync (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:153981)
```


### Error component stack (automated)

```text
at InspectedElementContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1328724)
    at da (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1315454)
    at div (<anonymous>)
    at InspectedElementErrorBoundaryWrapper (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1321764)
    at NativeStyleContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1354133)
    at div (<anonymous>)
    at div (<anonymous>)
    at OwnersListContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1268367)
    at SettingsModalContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1297652)
    at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1393839
    at da (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1315454)
    at div (<anonymous>)
    at div (<anonymous>)
    at ThemeProvider (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1318165)
    at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1318362
    at div (<anonymous>)
    at div (<anonymous>)
    at div (<anonymous>)
    at ThemeProvider (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1318165)
    at TimelineContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1395852)
    at ProfilerContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1387571)
    at TreeContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1209877)
    at SettingsContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1238028)
    at ModalDialogContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1375269)
    at DevTools_DevTools (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1544258)
```


### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=Minified React error #310; visit https://react.dev/errors/310 for the full message or use the non-minified dev environment for full errors and additional helpful warnings. in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react
```
","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-12-25T15:27:25Z,3,0,https://github.com/facebook/react/issues/31911,Syntax Error
12,facebook/react,"[DevTools Bug] Could not find commit data for root ""1""","### Website or app

http://localhost:5173/

### Repro steps

was trying to test the performance of my react application

### How often does this bug happen?

Only once

### DevTools package (automated)

react-devtools-extensions

### DevTools version (automated)

6.0.1-c7c68ef842

### Error message (automated)

Could not find commit data for root ""1""

### Error call stack (automated)

```text
at me.getDataForRoot (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1167575)
    at SnapshotSelector_SnapshotSelector (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1528048)
    at renderWithHooks (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:52283)
    at updateFunctionComponent (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:81757)
    at beginWork (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:95976)
    at performUnitOfWork (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:154382)
    at workLoopSync (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:154250)
    at renderRootSync (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:153981)
    at performWorkOnRoot (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:149824)
    at performSyncWorkOnRoot (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:164385)
```


### Error component stack (automated)

```text
at SnapshotSelector_SnapshotSelector (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1527987)
    at div (<anonymous>)
    at div (<anonymous>)
    at div (<anonymous>)
    at SettingsModalContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1297652)
    at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1536522
    at da (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1315454)
    at div (<anonymous>)
    at div (<anonymous>)
    at ThemeProvider (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1318165)
    at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1318362
    at div (<anonymous>)
    at div (<anonymous>)
    at div (<anonymous>)
    at ThemeProvider (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1318165)
    at TimelineContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1395852)
    at ProfilerContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1387571)
    at TreeContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1209877)
    at SettingsContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1238028)
    at ModalDialogContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1375269)
    at DevTools_DevTools (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1544258)
```


### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=Could not find commit data for root  in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react
```
","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-12-22T13:17:55Z,2,0,https://github.com/facebook/react/issues/31888,Performance Issue
13,facebook/react,[DevTools Bug]: Profiling not supported error with up-to-date React.,"### Website or app

https://vercel.com/login

### Repro steps

When I open React Developer Tools profiler page, I get the following error:

```
Profiling not supported.
Profiling support requires either a development or profiling build of React v16.5+.

Learn more at [reactjs.org/link/profiling](https://fb.me/react-devtools-profiling).
```

I first saw the problem on my own app, which is running React 18 and NextJS 15, but was able to reproduce the problem on every other NextJS react page I could find.

I am running Google Chrome 131.0.6778.204 on Fedora 40. My version of React Developer Tools is 6.0.1 (10/15/2024). 

If I test the same conditions, but on Firefox, profiling works, suggesting it is a problem with React Dev Tools.

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-12-20T22:07:56Z,2,0,https://github.com/facebook/react/issues/31880,Syntax Error
14,facebook/react,[DevTools Bug]: Profiling not supported error points to stale documentation link.,"### Website or app

https://vercel.com/login

### Repro steps

I opened developer tools and went to the react dev tools profiling tab. There it says ""Profiling not supported. Profiling support requires either a development or profiling build of React v16.5+. Learn more at [reactjs.org/link/profiling](https://fb.me/react-devtools-profiling).""

When I follow this URL, the top of the page says, ""This site is no longer updated. [Go to react.dev](https://react.dev/blog/2023/03/16/introducing-react-dev)""



### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-12-20T22:04:06Z,1,0,https://github.com/facebook/react/issues/31878,Syntax Error
15,facebook/react,"[DevTools Bug] Cannot add node ""1"" because a node with that id is already in the Store.","### Website or app

Expo Go & Google Chrome

### Repro steps

Android Bundled 589ms node_modules\expo-router\entry.js (1 module)
 (NOBRIDGE) LOG  Bridgeless mode is enabled     
 INFO 
 ?? JavaScript logs will be removed from Metro in React Native 0.77! Please use React Native DevTools as your default tool. Tip: Type j in the terminal to open (requires Google Chrome or Microsoft Edge).
 (NOBRIDGE) WARN  Route ""./Colors.ts"" is missing the required default export. Ensure a React component is exported as default. [Component Stack]
 (NOBRIDGE) WARN  Route ""./TabBarIcon.tsx"" is missing the required default export. Ensure a React component is exported as default. [Component Stack]
 (NOBRIDGE) WARN  Route ""./useThemeColor.ts"" is missing the required default export. Ensure a React component is exported as default. [Component Stack]

### How often does this bug happen?

Every time

### DevTools package (automated)

react-devtools-core

### DevTools version (automated)

5.2.0-1717ab0171

### Error message (automated)

Cannot add node ""1"" because a node with that id is already in the Store.

### Error call stack (automated)

```text
at http://10.251.14.176:8081/_expo/react-devtools/standalone.js:2:1011371
    at f.emit (http://10.251.14.176:8081/_expo/react-devtools/standalone.js:2:984358)
    at http://10.251.14.176:8081/_expo/react-devtools/standalone.js:2:985900
    at http://10.251.14.176:8081/_expo/react-devtools/standalone.js:2:1359186
    at Array.forEach (<anonymous>)
    at U_.e.onmessage (http://10.251.14.176:8081/_expo/react-devtools/standalone.js:2:1359169)
```


### Error component stack (automated)

_No response_

### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=Cannot add node  because a node with that id is already in the Store. in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react
```
","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-12-12T11:10:31Z,2,0,https://github.com/facebook/react/issues/31743,Syntax Error
16,facebook/react,[Compiler Bug]: Ref values may not be accessed during render when using `mergeRefs`,"### What kind of issue is this?

- [ ] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [X] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhAgHgBwjALgAgBMEAzAQygBsCSoA7OXASwjvwFkBPAQU0wAoAlPmAAdNvhgJcsNgB5CTAG4A+ABIJKlCPgDqOSoTkB6RaoDc4gL7jxx4-lxkA1gjYkYEALb4AFrlxMMGR7AHMmXF8oACMAOjhvYwB3CAArXARnLzJU4y8EGFCEAFopEjBjaO1ovLImOmMweGN64nRY3DBxWgZmVnx8woQAJVIwOQAVFX5xfHxYhfrMKFxR8uR8flGyRli1yZV8AB98emISeoRCQQBtAF1xQQ3t3f2p4-wX3D3SAGEyLTRHbOA4iWb4BJ0MA0JjUApXACSdGWqzG+AAvPglis1mBYhc4TB+AAhCAQSgIMh0QSWOjgpgkTYEjJSQhIlG42IUuihSL4OSYgCMwjEEjmkOh+AuMGhawxUthLMRyJxYxuAAY7rTwXMpDIYO4mDLUYyjic6FRKLS5jY6RI9bIpfRGCw2IMioRcfwyiKdVKcJsJQRsSb8BBGcz4WyVSawL6xXMsYz+LhOJgEOGsTG5ejc-gAOQ9F2sfPxxPlrMc0je0g0v02-CaMAIJObENrMsVub8dukfBkMCfSm7dgrMhVEakADy0VSCEYkw+Fq0KkE8VgUjoBExZWtFdt5YP+CstNt3WdfTY7AKRTWv282Doblw+hgznqoX4wEkfasG2-ZTPMO3z7GoEzsAAMgAIsoACiFL5FuhxWJ2QZEMoOanM2az8MulB1nacz2PgmADmAH6OL4LZlIOKRvoO0ScPgSQwGQfAUZECA+PU-ZOr0rrgg6Br8mYP4kOiwDupO5Svu+PL8EIGKHDcZQADToUoax3IIVgqGUjgINCJhmCop62HQRaXgMN7SWAskfgcMwSEUsYbIp6KHFswE-CQoInGcpCXNc9yPGC9rSI6UlegssQuV6ggEWeFkXq6HA2XeD6sM+xKeK4dBfmJx7-mJQE7CBpByGBkEwUo8Fcc+yGoawkpmJhUDYdWeEEeCxGYJ4E4+FRUiCRFwkKMoYkSVFYw1iQ6mtbWun6RkRmmMopnWOIIBWEAA

### Repro steps

I was previously getting an error saying, ""Ref values (the current property) may not be accessed during render."" However, passing a function to access the refs seems to work as a solution since there is no eslint error now.

In the repro, wrapping the refs in a function return doesn't change any functionality so I'm finding this issue to be a little odd.

The error doesn't always appear with every component. I couldn't find a reason why.

This seems to be similar to https://github.com/facebook/react/issues/31290

### How often does this bug happen?

Sometimes

### What version of React are you using?

19.0.0

### What version of React Compiler are you using?

19.0.0-beta-37ed2a7-20241206","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-12-12T09:32:53Z,1,1,https://github.com/facebook/react/issues/31742,Logical Bug
17,facebook/react,[Compiler Bug]: Compiler fails to memoize hooks with no hook calls,"### What kind of issue is this?

- [ ] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [X] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [ ] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://github.com/billyjanitsch/react-compiler-hook-detection-bug

### Repro steps

Given the following three custom hooks:

```tsx
import {useDebugValue} from 'react'

function useFoo() {
  return () => 'foo'
}

function useBar() {
  useDebugValue('bar')
  return () => 'bar'
}

function useBaz() {
  return useCallback(() => 'baz', [])
}
```

I'd expect the compiler to memoize all of them, but it only memoizes `useBar` and `useBaz`:

```tsx
import { useCallback, useDebugValue } from ""react"";
function useFoo() {
  return () => ""foo"";
}
function useBar() {
  useDebugValue(""bar"");
  return _temp;
}
function _temp() {
  return ""bar"";
}
function useBaz() {
  return _temp2;
}
function _temp2() {
  return ""baz"";
}
```

I'm guessing that it's because the compiler's hook detection logic looks for at least one hook call in the function body. I understand that it generally doesn't make sense to write a custom hook that doesn't use any other hooks, but the exception is when the custom hook would have used only `useMemo` and/or `useCallback`, such as `useBaz`. I expect the compiler to let me remove those hooks without losing memoization.

This doesn't reproduce in the playground. I'm not sure why.

### How often does this bug happen?

Every time

### What version of React are you using?

19.0.0

### What version of React Compiler are you using?

19.0.0-beta-37ed2a7-20241206","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-12-10T23:35:42Z,7,0,https://github.com/facebook/react/issues/31727,Runtime Error
18,facebook/react,[Compiler Bug]: server components built externally by the compiler error when rendered in app,"### What kind of issue is this?

- [X] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [ ] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://github.com/DanielOrtel/compiler-bug

### Repro steps

I'm building an esm UI library and ran into a weird issue with one component when adding react compiler to the build pipeline(which uses rollup with babel). You can check the reproduction repo above, steps:
- set node 20.18.0 if not set automatically
- run `yarn install`
- run `yarn test-compiler-error` // this will build the library and start a bare-bones next app
- open localhost:3000\
- app should error out with the following:
```
TypeError: Cannot read properties of undefined (reading 'H')
    at IconsRoot (../../libraries/ui/.dist/icons-root/index.js:12:72)
    at AsyncLocalStorage.run (node:async_hooks:346:14)
    at stringify (<anonymous>)
    at stringify (<anonymous>)
    at AsyncLocalStorage.run (node:async_hooks:346:14)
    at AsyncResource.runInAsyncScope (node:async_hooks:206:9)
digest: ""2235527820""
  15 |       require(""next/dist/compiled/react"").__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;
  16 |     exports.c = function (size) {
> 17 |       var dispatcher = ReactSharedInternals.H; // <-- ReactSharedInternals is undefined here. 
```

This is a limited snippet of the larger UI library. The error occurs because the file doesn't have the `'use client'` directive, but this component should be server-renderable, it's just a barebones `div` component. If I remove the `react-compiler` from the build pipeline or if I make this a client component, it works as expected.

Ultimately, I'd expect adding the compiler to the build pipeline of my library to not break components which previously could be server rendered and force the use of client directive when it is unnecessary. 

My suggestion, in case compiler-optimized components can't be rendered in server components, would be to have some config option that can be enabled for libraries to check for client directives and only optimize client components. And also to add some form of an error boundary to let consumers know that they're trying to render a compiler-optimized component in a server environment. The current error is just confusing and it took me a while to figure out what was the exact cause of it. 

But the ideal scenario would be to not have to worry about in which environment the component is rendered. Sure, the compiler optimizations do nothing on the server, but that means that they could be essentially stubbed and still render as expected. I dislike the idea of having to output separate versions of components that can be potentially server rendered, simply because I'd like the client versions to be optimized by the compiler. 

### How often does this bug happen?

Every time

### What version of React are you using?

19

### What version of React Compiler are you using?

19.0.0-beta-df7b47d-20241124","['Type: Bug', 'Component: Optimizing Compiler']",2024-12-08T14:09:14Z,12,1,https://github.com/facebook/react/issues/31702,Runtime Error
19,facebook/react,[Compiler Bug]: Properties added to hook functions are removed,"### What kind of issue is this?

- [X] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [X] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhAgHgBwjALgAgDMoA7OXASwhPyjAQGUIBbBXACwpIHMAKASnzAAOjXxxqkADYIAdFIh8A5OwQBPJf1H4AvqNF1GLNpx6zWuAIYATS1fwBefEoDu7OwgBuCGEv0kMbDx8awRCSygpAmIySmp8AFk1AEFMTAEhbVp6JgtTPi0SLJg2WBoAHmsKTwA+AAkEKQV8AHUcKWshQ1yTLm5zNhs7Sx1ygHoq2oBuUT0SEB0gA

### Repro steps

Properties added to hook functions get removed by the Compiler, and trigger the [rule](https://react.dev/reference/rules/react-calls-components-and-hooks#never-pass-around-hooks-as-regular-valueseslint(react-compiler/react-compiler) below:

```
Hooks may not be referenced as normal values, they must be called.
See https://react.dev/reference/rules/react-calls-components-and-hooks#never-pass-around-hooks-as-regular-valueseslint(react-compiler/react-compiler)
```

I understand why this would be triggered for other scenarios where the hooks are referenced as normal values, but is this case really a violation of hook rules in React? It's not listed as a ""bad example"" in the React docs. If it is, then the compiler and the linter behavior is correct and expected, but can't help but wonder if this is really an issue and not an oversight?

---

For context, I use this pattern in one of my apps that uses TanStack's React Query:

```tsx
import { useQuery } from ""@tanstack/react-query""
import { api } from ""~/server/api""

export const useGetClient = (id: string) => {
  const query = useQuery({
    queryKey: useGetClient.queryKey(id),
    queryFn: async () => {
      const data = await api.getClient(id)
      return data
    },
  })

  return query
}

useGetClient.queryKey = (id: string) => [""client"", id]
```

Attaching the `queryKey` function to the hook like this provides a nice developer experience because we don't need a separate import or a convention-based pattern for figuring out what the query key of a given query is.

We migrated to this pattern away from the pattern we used before where `queryKey` functions were separate objects/functions.

Thanks!


### How often does this bug happen?

Every time

### What version of React are you using?

18.3.1

### What version of React Compiler are you using?

19.0.0-beta-df7b47d-20241124","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-12-05T13:46:19Z,0,0,https://github.com/facebook/react/issues/31673,Logical Bug
20,facebook/react,[Compiler Bug]: Moved breakpoint in React Native,"### What kind of issue is this?

- [ ] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [x] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [ ] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://github.com/maciekstosio/CompilerRepo

### Repro steps

- Run the app
```
yarn install
yarn start 
```
- Run dev tools 
- Try to put breakpoint on `const a = 'Test Error';` - it's moved to main component
- Put breakpoint on `throw new Error(a);` - debugger don't stop on 

The debugger used with React Native (0.76.3) sometimes moves the breakpoint to other places. It sometimes doesn't stop. I can reproduce it reliably with the variable assignment and arrow functions. The problem occurs both in DevTools and Radon IDE ), so I assume this is a problem with source maps after optimization or Chrome Debugger, not the DevTools front. 

|Without Compiler|With Compiler|
|-|-|
|<video src=""https://github.com/user-attachments/assets/bcb514cc-4697-4019-998f-79ca2fb1c219"" />|<video src=""https://github.com/user-attachments/assets/c1dbb46d-5da2-49d8-a1d3-1f4545729fe4"" />| 

### How often does this bug happen?

Every time

### What version of React are you using?

18.3.1

### What version of React Compiler are you using?

19.0.0-beta-df7b47d-20241124","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-12-02T11:19:11Z,2,0,https://github.com/facebook/react/issues/31651,Logical Bug
21,facebook/react,[Compiler Bug]: False positive `Ref values (the `current` property) may not be accessed during render` for non-jsx code,"### What kind of issue is this?

- [ ] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [ ] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhAHRFMCAEcA2AlggHYAuGA3GiTYQLYAOEMZOwOAVmAB44C+OAGYwI9HBhgIAhnDIB6bjwC0MKOQYIqdJizYcsCAEoIhA4aPGSZc7STgQSYNgGEI+fNMbYcAXhwAFMA0OHgAFoT4ACZStCT8AJR+AHzsIXiOzhnk0oQkCDAmZv6GRQEkUB4J1CShUmSwtfIAVDgAAgD6HQAKAKpGAKJdOM2KvAEYUYQAbhgANGm1oThSQsjZZLn5haZz6aFwEdGx6Yk1-DUIPMys7DhuHl4+FyD8QA

### Repro steps



following code gives false positive error

```js
const Collapse = ({
  children
}) => {
  const containerRef = useRef(null);
  return /* @__PURE__ */jsx(""div"", {
    ref: containerRef,
    children
  });
};
```

but not

```ts
export const Collapse: FC<{
  children: ReactNode
}> = ({ children }) => {
  const containerRef = useRef<HTMLDivElement>(null!)

  return <div ref={containerRef}>{children}</div>
}
```

### How often does this bug happen?

Every time

### What version of React are you using?

from playground

### What version of React Compiler are you using?

from playground","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-11-26T21:18:57Z,1,0,https://github.com/facebook/react/issues/31637,Logical Bug
22,facebook/react,[DevTools Bug]: Component flashing many times but profiler says it was rendered once,"### Website or app

https://berrotools.vercel.app/signin

### Repro steps

- Access the website https://berrotools.vercel.app/signin, you'll see a sign in form.
- Open the DevTools, go to the Profiler tab and start profiling.
- Focus the e-mail input and start typing any letter, should not be a valid e-mail so the error label will show. You'll see the error message flashing as long as you type.
- Stop the profiling.
- Check the profiling results, you'll see that the error message was rendered once, if you have typed random letters. The problem is, why did it flash many times?

If the website doesn't work try cloning and running the project located at https://github.com/rhberro/berrotools.

Thank you in advance!

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

6.0.1-c7c68ef842

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-11-26T16:29:16Z,2,0,https://github.com/facebook/react/issues/31636,Syntax Error
23,facebook/react,[Compiler Bug]: React Hook placement prevents memoization of dependent variables,"### What kind of issue is this?

- [X] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [ ] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhAHQHYIB4AcIwAuABAGZQZyECWEGxAMtWIQBQCUxwmxxcdLYgBtmJALzEoYBExYcA3Dz4CSAEwCGhdcQlSEAEU3qFmJfwyDcMCIjDTVs8cQDmCQgAVrt+49YiW7Ir0ktIAyhAAtm4AFtQYzgrEAPRJxACyEABuCMSEsWDE0RAQANbEAEYIpAQ5IljE6uVZCKbB5oIYEKoIBRIaWgB0Eeq4rKyd3ZxiAHxcSrztJP6EAJKECBE6xFY2PT6iANoTCAPUqgC6Qby8MG6w9NzB18QDr8cANPPXkFF5cc7IYSiNYbAY-GL-T5PYgAXyusMCrRudxg9FYXwAPABhSL4LAYEjHMBiYBEmHJaZKREYGGYEAwoA

### Repro steps

I noticed an interesting behavior in the compiler. If you place a React hook between two variables that depend on each other, the compiler skips memoizing them. But if you move the hook somewhere else (like above both variables), the memoization works as expected.

| Hook between | Hook above |
| - | - |
|![Screenshot 2024-11-25 at 13 40 07](https://github.com/user-attachments/assets/5e5e691d-94bf-47e5-bed9-72ccced1def8)|![Screenshot 2024-11-25 at 13 40 23](https://github.com/user-attachments/assets/e45cd841-1f46-4ec7-81f3-0c13a31b565a)|


### How often does this bug happen?

Every time

### What version of React are you using?

19.0.0-rc.1

### What version of React Compiler are you using?

19.0.0-beta-0dec889-20241115","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-11-25T12:37:32Z,0,1,https://github.com/facebook/react/issues/31631,Logical Bug
24,facebook/react,[Compiler Bug]: ESLint Compiler rules do not allow writing to external variable from effect-called function,"### What kind of issue is this?

- [ ] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [X] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhASwLYAcIwC4AEwBUYCAogGaUJyEC+BlMEGBAOiDAgIZ2cBudgDsRCAB458BACYJKPKABtClKMLpoIwggEEAFAEoiIgiTJUadfUYIBeAHwmdZgjyNCX9ADQEA2gC6hp6mBAD0YQQAkpQEAJ7QBBgQAG4IBHgAFmhgTOqa2gQARvK46ZykFNS0eJy+WekIMCwwBADmEAi5PADuPHEAdKFqGnhaOu7GwKFmPWjCMhA9A+L2HCAAjIKh9CEu3HiwOgA8MmgpDsdhZxee9CIg9EA

### Repro steps

1. Run ESLint with eslint-plugin-react-compiler with the Playground's link
2. Observe error ""InvalidReact: Writing to a variable defined outside a component or hook is not allowed. Consider using an effect""

I assume functions called from effects should have the same liberties as the effects themselves, else we are forced to write big effects. I used `window` as the external variable as it represents a common use case, but any other name would work.

Notice the error only happens when the function which writes to `window` is defined after the `useEffect` which calls it. Invert the order and it's fine.

### How often does this bug happen?

Every time

### What version of React are you using?

18.3.1

### What version of React Compiler are you using?

eslint-plugin-react-compiler@npm:19.0.0-beta-0dec889-20241115","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-11-24T22:42:46Z,1,3,https://github.com/facebook/react/issues/31630,Logical Bug
25,facebook/react,[Compiler Bug]: False positive local mutation warning inside filter,"### What kind of issue is this?

- [ ] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [x] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhASwLYAcIwC4AEASggIZyEBmMEGBA5DGRfQDoB2HCAHjvgZSjsKaCOwIBhWjnYJ2eABTA0eBBjABfAJQFgHAgThiwhE1EqUCAXmLM8AOihgEAWTUQFCnVYB8u-QYEADYIhGhgUhBB1gKkQc4BBkbsJgSQGAgAkqrqMSpqYImB9pRoQaowCnCkTgjWfnrigc1ollU1ziUQEDqNzf0E4ZHRNngwUAhFzRpTgUx4sOJjE7PaHEWtBArpWTlg9iHsAOZ4ABYEfgAMvbPzi7o72QUANIMR3UEzTQZfP68A2vl1ABdLQBO4wcQAHgAJmgAG4EAD0Pg4XxAGiAA

### Repro steps

```js
import React from 'react'

export function Component({items}) {
  const stuff = React.useMemo(() => {
    let isCool = false
    const someItems = items
      .filter(cause => {
        if (cause.foo) {
          isCool = true
        }
        return true
      })

    if (someItems.length > 0) {
      return {someItems, isCool}
    }
  }, [items])
  return <div />
}
```

Getting:

```
InvalidReact: Reassigning a variable after render has completed can cause inconsistent behavior on subsequent renders. Consider using state instead. Variable `isCool` cannot be reassigned after render (9:9)
```

But it's not used after render. Curiously, changing the `if` condition to something that doesn't refer to `someItems` helps.

### How often does this bug happen?

Every time

### What version of React are you using?

18.2.0

### What version of React Compiler are you using?

19.0.0-beta-a7bf2bd-20241110","['Type: Bug', 'Component: Optimizing Compiler']",2024-11-17T20:15:49Z,3,1,https://github.com/facebook/react/issues/31569,Logical Bug
26,facebook/react,[React 19] Prewarm with use() broken in certain state-change situations in the parent,"## Summary

<!--
  Please provide a CodeSandbox (https://codesandbox.io/s/new), a link to a
  repository on GitHub, or provide a minimal code example that reproduces the
  problem. You may provide a screenshot of the application if you think it is
  relevant to your bug report. Here are some tips for providing a minimal
  example: https://stackoverflow.com/help/mcve.
-->

When testing the new prewarming, I ran across a situation where an effect / state change in the parent seems to break prewarming. This only happens with `use()`, not with `throw promise`:

https://codesandbox.io/p/sandbox/sibling-suspense-use-reproduction-lmscnl

I have not explored exactly under which circumstances this happens.

I did not find this in a real app, it happened when I was testing edge cases with React Query and noticed `useSuspenseQuery` worked as expected (`throw promise`) and `{ promise } = useQuery(...); use(promise)` did not in one case.

I am not sure this is a bug or intentional behaviour, but wanted to file it since it behaves differently with `use(promise)` and `throw promise`.","['Type: Bug', 'React 19']",2024-11-17T12:27:05Z,1,0,https://github.com/facebook/react/issues/31566,Logical Bug
27,facebook/react,[Compiler Bug]: null reference exception if you assume a value is not null in a callback (which can be valid),"### What kind of issue is this?

- [X] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [ ] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhAMygOzgFwJYSYAEAKgmDgBTBEC2AhgJ4BGCAclADacA0RAvgEoiwADrEicQhUnMiAXiJQwCAML1uzenADWlSsPkA+EeKLmiaTNSIAPZHSasO3AHS2BggNxmBfANoMLOxcvAC63uK+MAg4sMRBzqFEAPxEADxgAA70xAD0Jg7pACZ4AG5EhKqceLrywHDM-EQFPpj8IPxAA

### Repro steps

Similiar to https://github.com/facebook/react/issues/31550 but with useCallback and no external deps.

You seem to assume that accessing `x.y` is safe in the render method if it is safe in a callback.

### How often does this bug happen?

Every time

### What version of React are you using?

18.3.1

### What version of React Compiler are you using?

19.0.0-beta-a7bf2bd-20241110","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-11-15T14:28:17Z,4,0,https://github.com/facebook/react/issues/31551,Logical Bug
28,facebook/react,[DevTools Bug]: Components tab freezes after inspecting,"### Website or app

https://dev.permaplant.net

### Repro steps

1. Login
2. Go to Maps and create or open one
3. Look for the TimelinePicker component in the components tab
4. Click on it to inspect it

After that my components tab freezes and sometimes my RAM fills up endlessly. 

(If you need authentication, just contact me)

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-11-15T09:45:50Z,3,0,https://github.com/facebook/react/issues/31549,Syntax Error
29,facebook/react,[Compiler Bug]: eslint plugin rule only applied to first instance inside a file,"### What kind of issue is this?

- [ ] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [X] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhHCA7MAXABAMwglwF5cAKASlID4LqS7gBfAHQ3YQA8AHCGPABME+AIZQANnnxQMcbAEtMuALIBPAII8eVXMHa5c6LNKIBhURIkAjUXADWpXACUEd7ADooYBBau2HckIIKkoDI0wcXFsYPxs7RzJXdy8fOID7IKJQ9nCYBGxYDFwAHkEFADcaAAkEK2IAdX4JQRKAenKqgG52NgwQZiA

### Repro steps

For the rule 'Expected the first argument to be an inline function expression', it is only applied to the first violation even if there is more than one violation. (Example in playground link.) Moreover, on my setup if I eslint-disable the first violation and then eslint-enable after, then subsequent violations still aren't shown. I couldn't get eslint-disable to work in the playground though.

### How often does this bug happen?

Every time

### What version of React are you using?

18.3.1

### What version of React Compiler are you using?

n/a eslint-plugin issue","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-11-14T21:27:01Z,0,0,https://github.com/facebook/react/issues/31545,Logical Bug
30,facebook/react,"[Compiler Bug]: Incorrect ""Writing to a variable defined outside a component or hook is not allowed."" error","### What kind of issue is this?

- [ ] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [X] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhASwLYAcIwC4AEwBUYCAgllgQL4EBmMEGBA5GgHYDWrA3ADodMOfERJkAwgEMANjIBGUuFwA04hBIgc8CAB6E6jZmxgIlePoOG5CxUggCiMJjABC0DgBMpMAJ60GJhZWU3MAWgRnXDD5D28-Sw4rbBsxLCYAcxgpDE1tPQNA41YAOgB6Th0YDlkwEoArMETBMoAqVsECVoJyAgAlMzhCAAsICC4GXAIlRDAwTgyiAAEZTgmABUzsjDpOMDwpDkRprwIAAz00PDOGKCO8NC0CPGGpQjQwdU9JmAIwUYA7gsTgRIi4CAAKABuaCkILBU1id3ivgAlCdvpcHhwMiVOq0yoI9CJCPQ7kNHhx1JsIFkchD0cBOgQZAhbH9Ae5kT5-HQALzqJwuLleHkMgRUllssRY5DTKgOXRXAIC+yULDi5ms9npWnbFXqPI6fQQ3V03JaY14VESrXSrEEVWSWQKJRcCHMgiQhEwOV3LgcCAAjjovkAPiInq9BF1szqWM0ngQjoIAEZbZLoxygyKURCfTao16pAqlXh81EYIXM7QVFGANolrCKq5qf45uI8gC6dcl1eZpjwsCpxDN2zUDpoEpoghANCAA

### Repro steps

1. Run ESLint with eslint-plugin-react-compiler enabled on the code from the repro and observe an error ""Writing to a variable defined outside a component or hook is not allowed. Consider using an effect"".

The error is caused by using `process.exitCode = 1` inside a `useCallback` hook, which does seem like a false positive. Or am I missing something? Thank you.

### How often does this bug happen?

Every time

### What version of React are you using?

18.3.1

### What version of React Compiler are you using?

eslint-plugin-react-compiler@19.0.0-beta-a7bf2bd-20241110","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-11-14T20:22:10Z,0,0,https://github.com/facebook/react/issues/31544,Logical Bug
31,facebook/react,[Compiler Bug]: Cannot alter scroll values on a element -  Mutating a value returned from 'useState',"### What kind of issue is this?

- [X] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [ ] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhAMygOzgFwJYSYAEAggBTBFhwwQA2dAChGEQL4CURwAOsUXEJgcRANoI6AGioIcAUToBdIgF4iAJQQBDXADooYBAGUcWnAjIcA3Hz5EiBhABktAT2jy0aBLjKXVAHzcRHb2RBK61LQMTghoImpR9EwsNvxs0uJSVDTJzGCKHLb8MLKwxAA8ACZ4AG5EpWgqwIbydGwBFQD0NbUBaWwgbEA

### Repro steps

Sometimes we need to ""mutate"" a html element, e.g. when dealing with scrolling.

But with this code we get an error:
> Mutating a value returned from 'useState()', which should not be mutated. Use the setter function to update instead

### How often does this bug happen?

Every time

### What version of React are you using?

18.3.1

### What version of React Compiler are you using?

19.0.0-beta-a7bf2bd-20241110","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-11-12T09:07:07Z,0,0,https://github.com/facebook/react/issues/31483,Logical Bug
32,facebook/react,[Compiler Bug]: `eslint-plugin-react-compiler`: npm warn deprecated `@babel/plugin-proposal-private-methods`,"### What kind of issue is this?

- [ ] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [X] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

`npm install eslint-plugin-react-compiler@beta --save-dev`

### Repro steps

1. 
```sh
npm install eslint-plugin-react-compiler@beta --save-dev
```

Message: `npm warn deprecated @babel/plugin-proposal-private-methods@7.18.6: This proposal has been merged to the ECMAScript standard and thus this plugin is no longer maintained. Please use @babel/plugin-transform-private-methods instead.`

### How often does this bug happen?

Every time

### What version of React are you using?

18.3.1

### What version of React Compiler are you using?

N/A","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-11-12T08:10:34Z,3,6,https://github.com/facebook/react/issues/31481,Logical Bug
33,facebook/react,[Compiler Bug]: Getting false eslint error from compiler,"### What kind of issue is this?

- [ ] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [X] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

Not Applicable. 

### Repro steps

import { useEffect, useRef } from 'react'

const usePrevious = <T>(value: T): T => {
  // The ref object is a generic container whose current property is mutable ...
  // ... and can hold any value, similar to an instance property on a class
  // eslint-disable-next-line @typescript-eslint/no-explicit-any
  const ref: any = useRef<T>()
  // Store current value in ref
  useEffect(() => {
    ref.current = value
  }, [value]) // Only re-run if value changes
  // Return previous value (happens before update in useEffect above)
  return ref.current
}

export default usePrevious

**Getting false eslint error, above is a custom hook to store previous state value.** 

Ref values (the `current` property) may not be accessed during render. (https://react.dev/reference/react/useRef)eslint(react-compiler/react-compiler)




### How often does this bug happen?

Every time

### What version of React are you using?

18

### What version of React Compiler are you using?

19.0.0-beta-63b359f-20241101","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-11-10T16:00:15Z,0,0,https://github.com/facebook/react/issues/31474,Logical Bug
34,facebook/react,"[Compiler Bug]: ""Mutating a value returned from 'useContext()', which should not be mutated"" When the value is a Ref","### What kind of issue is this?

- [X] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [X] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhAgHgBwjALgAjggDswCBZATwGETcMCBeQmBAQ3tuPvVwApgAHWKCebALaYANggBKCAGbJ8wOLFbdlxKFKkBfYXoCUw4Rmx58AE0VsdBBVGJxcASxL4ACmw25akkgRuPiMVYXxCEjJ8DAlpOUV8ZigwBIU+AHIAOQgMkxFiCNZcWEK+cIj8AB4APgrK6qouHlwAOk8YCAA3VxsYfC62KSgERmBgWMkZeQU9PTrChsqq6gALVykrf2xiIIIAegWl6v2mugZ2zp6+o+XDiqMAbkNTYkdnNw81ja2IAN3gqEhIsiKQCMAYug4tNEnokvgUghmgw+GduAx8hVEQBRBQKBAuPghJI1MKLCKTeIzVpqGC+eEZACaCDAGQqegANPgANqUmEKAC6+QiFWKpWqVlcXXuxAMxBAeiAA

### Repro steps

1. Instantiate a Context
2. In Parent, Instantiate a ref
3. Wrap the child in the Context's Provider, and pass the ref as a value
4. Get the ref in the child, and mutate it in a useEffect

### How often does this bug happen?

Every time

### What version of React are you using?

18.3.1

### What version of React Compiler are you using?

19.0.0-beta-63b359f-20241101","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-11-10T03:11:53Z,2,0,https://github.com/facebook/react/issues/31470,Logical Bug
35,facebook/react,"[Compiler Bug]: ""InvalidReact: Mutating component props or hook arguments is not allowed"" When Passing a MutableRef as a prop, then mutating it in child","### What kind of issue is this?

- [X] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [X] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhAgHgBwjALgAgBMEAzAQygBsCSoA7OXASwjvwAUyYE7cBhCAFtsdHrgAUASnzAAOm3xxWYAhjLDKCAEql8AXnxQw20uIDkAOQhnJ8+fnzdcsNuPsP8AHgB87j174ACyZKQgFhVjEZADpY4DUNExIAX2T8AHpfBX9PQiYAN3xWPkomOABrPWApPW85bP9FZQhNaMoIAHNzAAkyfIR8IJDCQ2MAURISBEYwfAAjBB5HegB+MwAafATMTR0SaLhYbl5bBodUjKyczPdJAG55ZLs6WgZmVkHg0PCRMXF49DqHZJZLSeoOIwICZTRjiKT6bwyPxbQGJPYHI5RAxmACaCDAZncyU2AG1trtSABdU7uJwuLx5fI3OhPOggZJAA

### Repro steps

1. Instantiate a ref in the parent
2. Mutate the current property in a useEffect in the child

### How often does this bug happen?

Every time

### What version of React are you using?

18.3.1

### What version of React Compiler are you using?

19.0.0-beta-63b359f-20241101","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-11-10T02:49:42Z,3,1,https://github.com/facebook/react/issues/31469,Logical Bug
36,facebook/react,"[DevTools Bug] getCommitTree(): Invalid commit ""7"" for root ""1"". There are only ""7"" commits.","### Website or app

private

### Repro steps

profile re-renders click on individual re-renders. Clicked on the last re-render and it crashed instead of displaying info.

### How often does this bug happen?

Only once

### DevTools package (automated)

react-devtools-extensions

### DevTools version (automated)

6.0.0-d66fa02a30

### Error message (automated)

getCommitTree(): Invalid commit ""7"" for root ""1"". There are only ""7"" commits.

### Error call stack (automated)

```text
ve/<@moz-extension://beb769c0-41a5-4f80-ba39-12fab791919f/build/main.js:1:1159236
CommitFlamegraphAutoSizer@moz-extension://beb769c0-41a5-4f80-ba39-12fab791919f/build/main.js:1:1404914
renderWithHooks@moz-extension://beb769c0-41a5-4f80-ba39-12fab791919f/build/main.js:1:52244
updateFunctionComponent@moz-extension://beb769c0-41a5-4f80-ba39-12fab791919f/build/main.js:1:81718
beginWork@moz-extension://beb769c0-41a5-4f80-ba39-12fab791919f/build/main.js:1:95937
performUnitOfWork@moz-extension://beb769c0-41a5-4f80-ba39-12fab791919f/build/main.js:1:154622
workLoopSync@moz-extension://beb769c0-41a5-4f80-ba39-12fab791919f/build/main.js:1:154498
renderRootSync@moz-extension://beb769c0-41a5-4f80-ba39-12fab791919f/build/main.js:1:154249
performWorkOnRoot@moz-extension://beb769c0-41a5-4f80-ba39-12fab791919f/build/main.js:1:149824
performSyncWorkOnRoot@moz-extension://beb769c0-41a5-4f80-ba39-12fab791919f/build/main.js:1:164884
flushSyncWorkAcrossRoots_impl@moz-extension://beb769c0-41a5-4f80-ba39-12fab791919f/build/main.js:1:163205
processRootScheduleInMicrotask@moz-extension://beb769c0-41a5-4f80-ba39-12fab791919f/build/main.js:1:163662
1519/ensureRootIsScheduled/<@moz-extension://beb769c0-41a5-4f80-ba39-12fab791919f/build/main.js:1:162805
```


### Error component stack (automated)

```text
CommitFlamegraphAutoSizer@moz-extension://beb769c0-41a5-4f80-ba39-12fab791919f/build/main.js:1:1404715
div@unknown:0:0
div@unknown:0:0
div@unknown:0:0
SettingsModalContextController@moz-extension://beb769c0-41a5-4f80-ba39-12fab791919f/build/main.js:1:1297733
wl<@moz-extension://beb769c0-41a5-4f80-ba39-12fab791919f/build/main.js:1:1536567
fa@moz-extension://beb769c0-41a5-4f80-ba39-12fab791919f/build/main.js:1:1315530
div@unknown:0:0
div@unknown:0:0
ThemeProvider@moz-extension://beb769c0-41a5-4f80-ba39-12fab791919f/build/main.js:1:1318230
portaledContent/<@moz-extension://beb769c0-41a5-4f80-ba39-12fab791919f/build/main.js:1:1318420
div@unknown:0:0
div@unknown:0:0
div@unknown:0:0
ThemeProvider@moz-extension://beb769c0-41a5-4f80-ba39-12fab791919f/build/main.js:1:1318230
TimelineContextController@moz-extension://beb769c0-41a5-4f80-ba39-12fab791919f/build/main.js:1:1395885
ProfilerContextController@moz-extension://beb769c0-41a5-4f80-ba39-12fab791919f/build/main.js:1:1387636
TreeContextController@moz-extension://beb769c0-41a5-4f80-ba39-12fab791919f/build/main.js:1:1209953
SettingsContextController@moz-extension://beb769c0-41a5-4f80-ba39-12fab791919f/build/main.js:1:1238133
ModalDialogContextController@moz-extension://beb769c0-41a5-4f80-ba39-12fab791919f/build/main.js:1:1375334
DevTools_DevTools@moz-extension://beb769c0-41a5-4f80-ba39-12fab791919f/build/main.js:1:1544294
```


### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=getCommitTree(): Invalid commit  for root . There are only  commits. in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react
```
","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-11-08T18:59:44Z,1,0,https://github.com/facebook/react/issues/31463,Runtime Error
37,facebook/react,[Compiler Bug]: useMemo does not provide stable results across renders for specific functions when compiler enabled,"### What kind of issue is this?

- [X] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [ ] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhAejQAgMIBsCWcA1vgHYDmmALgBYKYK4IC2CpVmA7vrrpmXBgs2HWvTgFimONHYAdUhkwBDUgBNMAMwjxxEZgAcIpEZiEBaIeoQwFSgMoD6AN2W4oCAIwr1mV+4QAJhUhTCgwMkoAA3CEAFkWCCiufFpMOyxVBkMqAE9MNQQDNkLSOHzlGBhlXIAaajp8sBpoXA1SCA44GlVyBAA6DMwAdVSaHH0DHhsGUmUAIyY1ev8PYO7ehDBB0gUEAA8jGA5CzWUoXA5NKDKqfGNMONyAQQMDAAoASkxgBUxMJRgKgLJgqQQQMBgMwlGxgP7SYxAvxuDzeAC8YTA8US7y+mDRAD5HspaP1qup9F96gBtAC6nwA3Ap4UoOhwgSD6MpwZDodYYFDOFgZIZpjB0qR-kp5lAOPhBWNoF1JmKmZKAcKspwdEQQrINOFIhKpcLERxqasgrUAPq0-GYhD2YFUBC476E4mk8lqSnfADUmE8n0+8JkpCRluCGNiCWYEDd+KJcRJNDJqh9zDxAc8NPpapZwskJAoKV40MsMNs6rDSOpAiErHY9SxVAAkmUGyI7dGsU6Sa6AAyM5nqoRUWCSgA8anwzkwxjwhCIaOAeI9LfbgmE7He+ET-Ew2c+AF8CRIl8hgPXt1RjysUV5L5bPHfkQFAk+H4Fj5O0DPnASarHiAx5AA

### Repro steps

1. Write a `useMemo` function that uses Math.random() AND some other value or function, for example:
-  `const val = useMemo(() => Math.random() + 0, []);`
- `const val = useMemo(() => Math.floor(Math.random()), []);`
2. Cause the component to re-render
3. The resulting value will be re-computed on re-render

In associated repro link, clicking the component increments a counter which triggers re-render. Without compiler both memoized values are stable; with compiler, only the first is.

### How often does this bug happen?

Every time

### What version of React are you using?

18.3.1

### What version of React Compiler are you using?

19.0.0-beta-8a03594-20241020","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-11-08T17:36:46Z,5,0,https://github.com/facebook/react/issues/31462,Logical Bug
38,facebook/react,[DevTools Bug]: Element selector mode not working with coarse pointer,"### Website or app

https://react.dev/

### Repro steps



https://github.com/user-attachments/assets/159b1f24-dd54-4c8e-b726-1d37a131316e

Using the device emulation mode, switch to a mobile device and ensure the pointer is that used for touch devices (circular, rather than the regular fine pointer). 

Toggle on the element selector mode. 

Try to select an element on the page. 

No overlay when you hover the coarse pointer on the emulated device.




### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-11-07T13:00:18Z,1,0,https://github.com/facebook/react/issues/31447,Syntax Error
39,facebook/react,"[DevTools Bug] Cannot remove node ""2546"" because no matching node was found in the Store.","### Website or app

e-comerce

### Repro steps

login

### How often does this bug happen?

Every time

### DevTools package (automated)

react-devtools-extensions

### DevTools version (automated)

6.0.1-c7c68ef842

### Error message (automated)

Cannot remove node ""2546"" because no matching node was found in the Store.

### Error call stack (automated)

```text
at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1173889
    at v.emit (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1140783)
    at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1142390
    at bridgeListener (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1552529)
```


### Error component stack (automated)

_No response_

### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=Cannot remove node  because no matching node was found in the Store. in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react
```
","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-11-06T11:24:01Z,2,2,https://github.com/facebook/react/issues/31436,Syntax Error
40,facebook/react,[Compiler Bug]: Does not check for ref access in setState initial value function,"### What kind of issue is this?

- [X] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [ ] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhAMygOzgFwJYSYAEAKgmDgBQCURwAOsUXIRUTgIYBGASgmkQC8RKGAR80NRkRFiAypxwJKNIQD523CQDo4sGAkw5qAbkYBfEOaA

### Repro steps

The playground compiles, but it should fail (Rules of React)

### How often does this bug happen?

Every time

### What version of React are you using?

latest playground

### What version of React Compiler are you using?

latest playground","['Type: Bug', 'Component: Optimizing Compiler']",2024-11-05T02:09:57Z,0,1,https://github.com/facebook/react/issues/31418,Logical Bug
41,facebook/react,[DevTools Bug]: Settings / Components / Hide components where...  - need to be set on each reload.,"### Website or app

https://react.dev/

### Repro steps

_When filtering components under ""Hide components where... "" you need to modify the filter each time you've reloaded the page and/or hide/show the Chrome DevTools. Otherwise the filter doesn't bite and the hidden components still show._

**For example:**
Name matches Anonymous

Works fine the first time you enter it - all Anonymous components are hidden.
Reload the page and the filter no longer applies. You need to open:  Settings / Components / Hide components where...  and modify the entry and it works again:

**For example:**
Name matches Anonymous*

Or toggle OFF - close the dialog - open the dialog and toggle ON - Now Anonymous is hidden again.


<img width=""820"" alt=""Screenshot 2024-11-04 at 13 10 37"" src=""https://github.com/user-attachments/assets/7d7bf89f-d801-4605-9100-140036e67589"">


Using 6.0.1-c7c68ef842 of the extension
Chrome Version 130.0.6723.92 (Official Build) (arm64)

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-11-04T12:12:54Z,3,4,https://github.com/facebook/react/issues/31410,Syntax Error
42,facebook/react,[Compiler Bug]: `'Unused 'use no memo' directive'` lint warning even though the directive is used,"### What kind of issue is this?

- [ ] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [X] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhAegFQYDoDsAEG+AKgBYCWY+l+Y5AtuQDYCGM+ALhPlGAgMocWHBABp8AIygdqMlkyYQA7lQDmCDh3K5VnUgnysRYGSeEGEANwS48hSQgBmEGAY77aQkflIsqEhBseAAcAE3NQyQBPfFcWOA4AOjsMNDwEAA9glxlHKFwE8ggCXgEogsFzAAptci15AEp8YDt8AHJS-FxuegR6CDbWuGKTfABtcT4OADV5KAQAXXwAXh4+SpEa3DryRoBuIZGZV0cVtYQAJSctnf3W1w5YAjHW-HwqpuWAPlinRLhYK5cBxRK93pY5ghPj8WgQ3vDyKcqid-oCbDIAITLVYQpjzJqw+FE36OVEwIEyHGQg5w4m0DSzPEIKq4-E0ukAXzBHNBcIWNK5tlwmBwBCIAEEfBAIABrTjcGWBYKcGDxOUQU7uCyhOosCRMAxmbwavQGbTBaTJMX4AByEG87mE+CUBlwgUiXB8LFwoQN+BY+GGUGCfpNCFC6kDfgQYGQKXwAEZEoGIPRGDJ6CwYgEowpw9QCFraCxer8fQh2IoIMq-CFwiIAKI6maQ+MAJmTwfrCCbdUZ83wmezBjg8gNkRYjhE7GGabq1Coo7zoXjZBjBjYBlCA89Rcc8RkjpkNqg9ACMAAkrgLTJpMxyAAvGOyKjKAhGhAAWgk0ZX1tZBhduYVDepEs7pgW+AuKEFbyvgwQVs4MD0Cm5IIAk+BIZmmjaKoVqEGkbpZDkmH5IUxTnL2Qj6syhJQbgADCvg6GIrTFAAQniMC8m8cShAA8rgTAxKs+5MHwPH4ABknFEx3rqFeN79qxcKyd6iBMJJMH7lATAcFRuFnGJEl4ByBKtB0fBdD0fQDIcuCjGM6gtky7EILhVHhpMDKQm5HnNuGSyrKU-DlHAGzMmC2ksLp+nNoZAD8zRSZC+AcvgyBdLpmmtA0NL2aM4HzqsHwrDCYLDA5MgAX5OieZEqzOcptWqPVHzsgiSI1e5dUBZEWKrLg2X4AAZCNKWuT1rV9YkAH4ANE34s0YJvLJzHqAliQsr5U31bNkJ5dyYJTM1u19VUQ0KIdtL0ZxsCbe1rQcvlcKVYV6kIEwZyld8y03SdO3+XU4YXdl11Emt8kIIp0jKQ9AHg-CakFJ9D2I6tuB3TAaMdc9eAFTI6IVlREXfdCf1Eoi7wYnxgnCeZN1vADk1AyIoRVMAi0GGZHVvIKfMvW8b23mE5hUcp31ukoynk3RGNySxMMufMD1SzLvMplVXMtfVZxNYDvXA+z6PUF1BvTUbo3jd1rPhvtTLzdiXQINLB0U8SzPzDr52cwBmVq6lPPcvgn1WXL8JoGgJAUFQNCOOQrgTlOsFFSCtDcPOYCkNATCRKo3AmKq5CqKQh7cJDLErfgkf4AA6huYBgKebi+DI85KMwX1utY7A5vHicOEhFjAsTzYReI2cuj3+HEhXG1bQHTIm-zaWC5row24bbN6z5LNbyDiMPE87tvH72tnZbSWbxbbP2wOmXSWClAGToD-m7rC2XV9Y3zbTQlRJJIWqZ0yAKjCjHKN0iYwBJl4FSRIgKNmbMpSSgpBQgA5EAA

### Repro steps

`useSyncState` and `useEditable` break when the React Compiler runs on it. So I added `'use no memo'` to the top of `useSyncState` and `useEditable`. In both these places, `eslint-plugin-react-compiler` reports that the `'use no memo'` directive is unused. Even though this directive is the only difference between a passing E2E test and a failing one!

<img width=""561"" alt=""image"" src=""https://github.com/user-attachments/assets/fa72f31a-2d00-4d2a-8f90-b39db1c69185"">

* Related to https://github.com/facebook/react/issues/31406, where I report that the compiler should ideally bail out on these hooks so the `'use no memo'` directive becomes unnecessary.

### How often does this bug happen?

Every time

### What version of React are you using?

18.3.1

### What version of React Compiler are you using?

19.0.0-beta-6fc168f-20241025","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-11-02T17:25:16Z,0,7,https://github.com/facebook/react/issues/31407,Performance Issue
43,facebook/react,[Compiler Bug]: Compiler doesn't catch ref access in render,"### What kind of issue is this?

- [X] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [ ] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhAegFQYDoDsAEG+AKgBYCWY+l+Y5AtuQDYCGM+ALhPlGAgMocWHBABp8AIygdqMlkyYQA7lQDmCDh3K5VnUgnysRYGSeEGEANwS48hSQgBmEGAY77aQkflIsqEhBseAAcAE3NQyQBPfFcWOA4AOjsMNDwEAA9glxlHKFwE8ggCXgEogsFzAAptci15AEp8YDt8OGKTfABtcT4OADV5KAQAXXwAXh4+SpEa3DryRoBuVvbcTtdHCamEACUnOYXl1tcOWAIu1vx8KqbxgD5Yp0S4WFdcDlErm8shhDvHi0CNcQeQtlVNi83jYZABCcaTX5MYZNIEg9FPRxQmDvGSIv4rYEY2gaQbIhBVJEownEgC+31pX2BI0J9NsuEwOAIRAAgj4IBAANacbiCwLBTgweLCiBbdwWUJ1FgSJgGMzeWV6AzaYLSZLc-AAOQg3ncwnwSgMuECkS4PhYuFCqvwLDa0GCzs1CFC6jafgQYGQKXwAEZEm76IwZPQWDEAn6FN7qAR5bQWPQDO9Qgh2IoIBK-CFwiIAKKKgZ-YMAJnDUDC5jLdTJw3wMbjBjg8lVkRYjhE7Hakbq1ConcToWDZADBjYBlCLbtqcc8RkZpkhqg9ACMAAkrhdTJpMxyAAvAOyKjKAjqhAAWgk-onBqpBjrxfPDsig6jyfwLmz7B2sEObODA9BujiCAJPgoExpo2iqPqhBpNaWQ5DB+SFMUOyNkIKoUmif64AAwr4OhiK0xQAELIjATLXHEoQAPK4EwMSTMuTB8PR+AvjxxSkQ66h7gezYUcCAkOogTA8dmy5QEwHC4Qh2ycdxeC0qiqwdDIXTqBW5JUQgCG4d6vSkn8RkmeW3pjJMpT8OUcAzBS3xySwClKeWKkAPzNLxfz4LS+DIPguAKTJrQNIS2nrDI37DpMtwTIC3xrJ0L5WTopmRJM+liVlqg5bcNKguCmXGdlNmRPCkzhQo+AAGSNQFhmVUV1WJC++C1a1KLNN81wCWR6g+YklKWe1OVdX80UMt8fQFVN1VVPVTBzUSRE0bAY0la0tIxcC6XxVJCBMNsyUPANm2LZN1l1N6q0RRt6LDUJCAidIYm7S+L0gpJBRnbtf1Dbg20wMDpUHXgsWdDCOa4S5F0Atd6JgjcsKMSxbFaZt1y3W190iKEVTAH1BiaaV1xstTh3XMdRYNuWYkXdaShiSjhGg4J5GfQZwy7WzHNU26cXk4VOXbPld1VQ9JMg9Q5Uyx1ctNS1FVE96M3kj1CJhQg7OzajGIE8MEsrWTL6hULgWUwy+BnXwxvomgaAkBQVA0I45CuD2fY5hGUa9Nww5gKQ0BMJEqjcCYUrkKopCrtwb3kYN+Cu-gADqM5gGAm5uL4MjDkozDnda1jsPG3u+w4oEWB8CPli54jh5aFdIRiKejeNNvkgrNNBXTosZcrkt5RZhOy8Te3Aqc5zO+ToUa1PSZ+cvKvE9rLZL38PHXJQyk6Dvk8b0mvVrWrPVY6xUR74HdR352gORZt8MwIjXjieib5M02u-7RpPAIBaRAA

### Repro steps

Hi! I'm hoping the React compiler catches this invalid ref access and bails out of optimizing code like this, but I understand that catching this kind of issue is probably a bigger undertaking than normal.

Our team's codebase has some dubious core library hooks which break React's rules, or at least make it easy to break React's rules without knowing what you're doing. Here, `useSyncState` advertises itself as a cooler `useState` that lets you see the freshest state, even before React does! (But after memoization, this just means you see stale state). This leads to it being used incorrectly in `useEditable`, when we call `getValueBeingEdited()` inside of a render.

When I installed the compiler on our codebase, many E2E tests started failing. One of the tests showed us that when we update one EditableCell, the state change doesn't propagate to another cell like it was supposed to. The test passed after I added `'use no memo'` to *either* `useSyncState.ts` *or* `useEditable.ts`. For now, I'm going to add `'use no memo'` to both of these files, but my understanding is that every time I add `'use no memo'`, you'd like to see why I had to do so.

### How often does this bug happen?

Every time

### What version of React are you using?

Playground

### What version of React Compiler are you using?

Playground","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-11-02T17:05:03Z,1,0,https://github.com/facebook/react/issues/31406,Logical Bug
44,facebook/react,[Compiler Bug]: ,"### What kind of issue is this?

- [X] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [ ] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhASwLYAcIwC4AEwBUYCAsghhADQlkBKCAZnaQgMICGANjwEZc4AawIBfAsxgQMBADogYCIXgUBuOQDtMOfEQJ4AFtLx4eCcZOmyFPCABMuYQ+q1aEAD12F7LLlB5CZihNODw0CE0CcgBPAEEsLAAKAEoiLQICOEiwQiVmAgBeegQmZlSNKIysnMIjEzMEewAxCDhSIpLKaiTqzNSigD4+zINjCFNzXqjR2YHCwYJ8gDp2mCVNPAB+ZeY20lSaEdmAVgAGM6OZ2czgY5vzLns0TQBzZEleMiubm7wYLhoHgvd4GGBQBA-X7iKGzFKwggAbT27TAAF0oSlKtV2ABRZjMBBhJLzRbAeoTRotfZgVJiOiIimTJqtVFolJuGZKPCwKIAHmeADclixCsB8mJBgAJBB8CAEADquB49j5AHohYNKmItCAxEA

### Repro steps

The compiler assumes that `ref.current` is called during render when inside of `useMemo()`, even when `useMemo` is returning a callback that is only called in a `useEffect` and never during render. See playground for the code.

The most common use case for specifying a callback with `useMemo` instead of `useCallback`, is when the callback is wrapped in a debouncing technique, like `lodash/throttle`:

```tsx
  const throttledFocus = useMemo(
    () =>
      throttle(
        () => ref.current?.focus(),
        500,
        {
          leading: false,
          trailing: true,
        },
      ),
    [focus],
  );
```
It's as if the compiler isn't differentiating the closure that returns the memoized value (and thus is indeed firing during render), and `useMemo` returning a callback ?? 

### How often does this bug happen?

Every time

### What version of React are you using?

^18.3.1

### What version of React Compiler are you using?

19.0.0-beta-6fc168f-20241025","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-11-01T12:50:54Z,3,2,https://github.com/facebook/react/issues/31396,Logical Bug
45,facebook/react,"[DevTools Bug] Could not find commit data for root ""1""","### Website or app

Shadow

### Repro steps

Steps:-

1.Rendering the FlatList with my below code - 
<FlatList
          data={numbersArray}
          keyExtractor={item => item.toString()}
          renderItem={({item}) => (
            <SquircleView
              style={{width: 300, height: 200}}
              squircleParams={{
                cornerSmoothing: 0.7,
                cornerRadius: 30,
                fillColor: 'green',
              }}
            />
          )}
        />  // data length is 1000
2. Start Scrolling Continuously in the flatlist, then this error happens
![Screenshot 2024-10-29 at 11 51 15?AM](https://github.com/user-attachments/assets/e835ad91-d8fa-4382-97aa-2c5eb4677e45)
![Screenshot 2024-10-29 at 11 51 15?AM](https://github.com/user-attachments/assets/b0cf7f5a-6342-4bc6-821e-bc11141ae069)


### How often does this bug happen?

Sometimes

### DevTools package (automated)

react-devtools-core

### DevTools version (automated)

6.0.1-c7c68ef842

### Error message (automated)

Could not find commit data for root ""1""

### Error call stack (automated)

_No response_

### Error component stack (automated)

```text
at v_ (/Users/sunaina/.npm/_npx/8ea6ac5c50576a3b/node_modules/react-devtools-core/dist/standalone.js:2:1368389)
    at div (<anonymous>)
    at div (<anonymous>)
    at div (<anonymous>)
    at ts (/Users/sunaina/.npm/_npx/8ea6ac5c50576a3b/node_modules/react-devtools-core/dist/standalone.js:2:1157861)
    at /Users/sunaina/.npm/_npx/8ea6ac5c50576a3b/node_modules/react-devtools-core/dist/standalone.js:2:1376165
    at Ks (/Users/sunaina/.npm/_npx/8ea6ac5c50576a3b/node_modules/react-devtools-core/dist/standalone.js:2:1173575)
    at /Users/sunaina/.npm/_npx/8ea6ac5c50576a3b/node_modules/react-devtools-core/dist/standalone.js:2:1176231
    at div (<anonymous>)
    at div (<anonymous>)
    at div (<anonymous>)
    at Ys (/Users/sunaina/.npm/_npx/8ea6ac5c50576a3b/node_modules/react-devtools-core/dist/standalone.js:2:1176065)
    at Zc (/Users/sunaina/.npm/_npx/8ea6ac5c50576a3b/node_modules/react-devtools-core/dist/standalone.js:2:1247244)
    at Lc (/Users/sunaina/.npm/_npx/8ea6ac5c50576a3b/node_modules/react-devtools-core/dist/standalone.js:2:1239735)
    at xt (/Users/sunaina/.npm/_npx/8ea6ac5c50576a3b/node_modules/react-devtools-core/dist/standalone.js:2:1079120)
    at ca (/Users/sunaina/.npm/_npx/8ea6ac5c50576a3b/node_modules/react-devtools-core/dist/standalone.js:2:1106654)
    at Ec (/Users/sunaina/.npm/_npx/8ea6ac5c50576a3b/node_modules/react-devtools-core/dist/standalone.js:2:1227871)
    at Y_ (/Users/sunaina/.npm/_npx/8ea6ac5c50576a3b/node_modules/react-devtools-core/dist/standalone.js:2:1382695)
```


### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=Could not find commit data for root  in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react
```
","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-10-29T06:27:45Z,0,3,https://github.com/facebook/react/issues/31380,Syntax Error
46,facebook/react,"[Compiler Bug]: Error when calling `React.createElement(..., { ref })`","### What kind of issue is this?

- [X] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [ ] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhAMygOzgFwJYSYAEMCaAkpgBI4C2ANgKL0K0KY4AUAlEcADrEicQmBwkyRALxEoYBACUynTFHr1uAbkFEJOWMSUBDXADo4pIzgTNW7LvxBwjmAG5GwjgDR8JaIgC+WoIBIAFAA

### Repro steps

[Playground link](https://playground.react.dev/#N4Igzg9grgTgxgUxALhAMygOzgFwJYSYAEMCaAkpgBI4C2ANgKL0K0KY4AUAlEcADrEicQmBwkyRALxEoYBACUynTFHr1uAbkFEJOWMSUBDXADo4pIzgTNW7LvxBwjmAG5GwjgDR8JaIgC+WoIBIAFAA)

This code:

```js
function refInHtmlElement() {
  const ref = useRef(null);
  return React.createElement(""canvas"", { ref });
}
```

Has this error:

> InvalidReact: Ref values (the `current` property) may not be accessed during render. (https://react.dev/reference/react/useRef) (3:3)

Even though we're using a ref in the way it's meant to be used. If we rewrite it in JSX, the error goes away:

```jsx
function refInHtmlElement() {
  const ref = useRef(null);
  return <canvas ref={ref} />;
}
```

I find this behavior surprising, because I always thought that JSX desugared down to `React.createElement` anyway....

### How often does this bug happen?

Every time

### What version of React are you using?

Playground

### What version of React Compiler are you using?

Playground","['Type: Bug', 'Component: Optimizing Compiler']",2024-10-25T20:11:09Z,5,0,https://github.com/facebook/react/issues/31357,Logical Bug
47,facebook/react,[DevTools Bug]: React profiler reporting false rendering times,"### Website or app

https://codesandbox.io/p/sandbox/suspicious-darkness-zpfcld

### Repro steps

Visit sandbox: https://codesandbox.io/p/sandbox/suspicious-darkness-zpfcld?file=%2Fsrc%2FApp.js%3A19%2C22
(This is a modified version of a sandbox from Dan Abramov's blog https://overreacted.io/before-you-memo/) 

Observe that ExpensiveTree does not actually render when you type in the text input. I confirmed this with the Chrome CPU profiler (basically 100% idle):
<img width=""341"" alt=""Screenshot 2024-10-24 at 1 36 54?PM"" src=""https://github.com/user-attachments/assets/e6444e4a-1543-4122-b9f4-5b22e41312b0"">

Also, ExpensiveTree waits a random amount of time every time it updates. It renders the resulting delay, and you can observe that the value never changes.

However, React Profiler falsely reports that ExpensiveTree is actually rendering:

<img width=""1590"" alt=""Screenshot 2024-10-24 at 1 38 06?PM"" src=""https://github.com/user-attachments/assets/8d09c18e-2a5f-473e-b65a-13d4c6b92449"">

The times are all the same, which suggests that the Profiler UI is:

- falsely marking ExpensiveTree as rendered when it wasn't
- probably using the initial render time as the value



### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-10-24T20:38:21Z,1,2,https://github.com/facebook/react/issues/31353,Syntax Error
48,facebook/react,[Compiler Bug]: `useLayoutEffect` without dependency array should be allowed by either `react-hooks/exhaustive-deps` or `react-compiler/react-compiler`,"### What kind of issue is this?

- [ ] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [X] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

N/A

### Repro steps

Use `useLayoutEffect` without dependency array, for example:

```tsx
export default function Breadcrumb({ children, to }) {
  const itemRef = useRef<HTMLLIElement>(null);
  const [isLast, setIsLast] = useState<boolean>();

  useLayoutEffect(() => {
    setIsLast(itemRef.current?.matches(':last-child') ?? false);
  });

  return (
    <li ref={itemRef}>
      <a to={to} aria-current={isLast ? 'page' : undefined}>
        {children}
      </a>
    </li>
  );
}
```

This will generate a `react-hooks/exhaustive-deps` warning for using `useLayoutEffect` without dependencies, but the dependency array is optional when you want the effect to run on every render, which I do in this case. Up till now I had just ignored this warning using `// eslint-disable-next-line react-hooks/exhaustive-deps`, but now this will then generate a `react-compiler/react-compiler` warning:

> React Compiler has skipped optimizing this component because one or more React ESLint rules were disabled. React Compiler only works when your components follow all the rules of React, disabling them may result in unexpected or incorrect behavior 

So... either you should fix the `react-hooks/exhaustive-deps` rule to allow effects without dependencies (`useEffect` seem to allow this, but not `useLayoutEffect` for some reason), or the compiler should be smarter about what disabled ESLint rules to take into account...

### How often does this bug happen?

Every time

### What version of React are you using?

react@18.3.1

### What version of React Compiler are you using?

eslint-plugin-react-compiler@19.0.0-beta-8a03594-20241020","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-10-24T08:23:42Z,5,0,https://github.com/facebook/react/issues/31341,Logical Bug
49,facebook/react,[Compiler Bug]: False positive calling WebGLContext.useProgram,"### What kind of issue is this?

- [ ] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [X] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhAgHgBwjALgAgBMEAzAQygBsCSoA7OXASwjvwFkBPAQU0wAoAlPmAAdNvihgEAURIkEjfkPwBeAHwjx+HfjiswBAOaU1RCHCgBbBHVwA6IwlwzKCG3YBCnAJKF+AORWnAC0cGR0AG5kYAGCjs4Awqy4GLiBAO4IAEYmAExxANzauvp0hvjBAAowEEYwZFZmJvZwMAhkqTV1DVZCxRI6LVII3fWN-NW141aCAzoAvgA0+ADaALpz4gviIAtAA

### Repro steps

Call `gl.useProgram` within an effect:

```ts
export default function MyApp() {
  useEffect(() => {
    const gl = document.getElementById('my-canvas').getContext('webgl2');
    const myProgram = gl.createProgram();
    gl.useProgram(myProgram); // this should not error; useProgram is not a React hook
  }, []);
}
```

`WebGLRenderingContext.useProgram` is not a hook, and is part of a built-in Web API


### How often does this bug happen?

Every time

### What version of React are you using?

19.0.0-rc-65a56d0e-20241020

### What version of React Compiler are you using?

19.0.0-rc-65a56d0e-20241020","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-10-23T21:40:26Z,0,3,https://github.com/facebook/react/issues/31339,Logical Bug
50,facebook/react,[Compiler Bug]: TS types missing for `eslint-plugin-react-compiler`,"### What kind of issue is this?

- [ ] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [X] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://www.typescriptlang.org/play/?#code/JYWwDg9gTgLgBFApgQwMYwMIXMANoqOAMymzgHJEBnXYAOxgFoxcBXAc3saTSdWzB4C5ANwAoIA

### Repro steps

1. Configure `compilerOptions.checkJs = true` in `tsconfig.json`
2. Import from `eslint-plugin-react-compiler` in `eslint.config.js`
3. ?? Observe the error below

```
Could not find a declaration file for module 'eslint-plugin-react-compiler'. 'node_modules/eslint-plugin-react-compiler/dist/index.js' implicitly has an 'any' type.
  Try `npm i --save-dev @types/eslint-plugin-react-compiler` if it exists or add a new declaration (.d.ts) file containing `declare module 'eslint-plugin-react-compiler';`ts(7016)
```

![Screenshot 2024-10-23 at 18 52 33](https://github.com/user-attachments/assets/7545d733-9ed7-4a1b-aeb1-6bb03bb2e270)


### How often does this bug happen?

Every time

### What version of React are you using?

19.0.0-rc-69d4b800-20241021

### What version of React Compiler are you using?

19.0.0-beta-8a03594-20241020


### Alternatives Considered

I thought maybe there would be types at [`@types/eslint-plugin-react-compiler`](https://www.npmjs.com/package/@types/eslint-plugin-react-compiler) (DefinitelyTyped), but this does not exist
","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-10-23T16:57:36Z,2,5,https://github.com/facebook/react/issues/31334,Logical Bug
51,facebook/react,[Compiler Bug]: Lint plugin is too strict about passing hooks as values,"### What kind of issue is this?

- [ ] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [X] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://github.com/adobe/react-spectrum/issues/7220

### Repro steps

In React Aria, we have several instances where we use dependency injection to reduce bundle size impact and allow global configuration.

* [RouterProvider](https://react-spectrum.adobe.com/react-aria/routing.html#react-router) accepts a `useHref` prop that allows globally configuring all links in an app. Usually you pass a value directly imported from another library like `react-router-dom`, which should be safe (the function never changes).
* Our implementation of [drag and drop](https://react-spectrum.adobe.com/react-aria/ListBox.html#reorderable) is dependency injected to reduce bundle size. Rather than building the entire drag and drop implementation (which can be quite large) into all components that support it and bloating their bundle size even if you aren't using drag and drop, the drag and drop hooks are injected only if you actually use it. Again, since the actual function implementation of these hooks are static and never change, this can be done safely.

The new lint plugin now causes errors in these cases for users of our library (see https://github.com/adobe/react-spectrum/issues/7220), which I believe to be safe. The [documentation](https://react.dev/reference/rules/react-calls-components-and-hooks#never-pass-around-hooks-as-regular-values) describes a few reasons why this might be avoided in regular app code, such as debuggability and locality of behavior, but does not describe any reason why this would actually break anything. Swapping to a different function at runtime would be one such case, but if you don't do that I think it is safe.

Is it possible to loosen this rule so that the _value_ of the hook that is passed into a component is checked to determine if it is static? For example, if you pass down a function in module scope, or something imported from another module, this should be safe since the value never changes, but if you pass down an unmemoized callback declared within a component as a hook this would not be allowed.

### How often does this bug happen?

Every time

### What version of React are you using?

N/A

### What version of React Compiler are you using?

N/A","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-10-22T22:28:49Z,6,1,https://github.com/facebook/react/issues/31327,Logical Bug
52,facebook/react,"[DevTools Bug] Could not find node with id ""18006"" in commit tree","### Website or app

npx react-devtools

### Repro steps

clicking on the record button and stop in it produces this error

### How often does this bug happen?

Sometimes

### DevTools package (automated)

react-devtools-core

### DevTools version (automated)

6.0.1-c7c68ef842

### Error message (automated)

Could not find node with id ""18006"" in commit tree

### Error call stack (automated)

```text
at /Users/macgr/.npm/_npx/8ea6ac5c50576a3b/node_modules/react-devtools-core/dist/standalone.js:2:1033341
    at Map.forEach (<anonymous>)
    at /Users/macgr/.npm/_npx/8ea6ac5c50576a3b/node_modules/react-devtools-core/dist/standalone.js:2:1033290
    at Er.getRankedChartData (/Users/macgr/.npm/_npx/8ea6ac5c50576a3b/node_modules/react-devtools-core/dist/standalone.js:2:1033791)
    at Nf (/Users/macgr/.npm/_npx/8ea6ac5c50576a3b/node_modules/react-devtools-core/dist/standalone.js:2:1258069)
    at di (/Users/macgr/.npm/_npx/8ea6ac5c50576a3b/node_modules/react-devtools-core/dist/standalone.js:2:44095)
    at ts (/Users/macgr/.npm/_npx/8ea6ac5c50576a3b/node_modules/react-devtools-core/dist/standalone.js:2:64373)
    at gs (/Users/macgr/.npm/_npx/8ea6ac5c50576a3b/node_modules/react-devtools-core/dist/standalone.js:2:75284)
    at rc (/Users/macgr/.npm/_npx/8ea6ac5c50576a3b/node_modules/react-devtools-core/dist/standalone.js:2:120293)
    at Ju (/Users/macgr/.npm/_npx/8ea6ac5c50576a3b/node_modules/react-devtools-core/dist/standalone.js:2:120221)
```


### Error component stack (automated)

```text
at Nf (/Users/macgr/.npm/_npx/8ea6ac5c50576a3b/node_modules/react-devtools-core/dist/standalone.js:2:1257826)
    at div (<anonymous>)
    at div (<anonymous>)
    at div (<anonymous>)
    at ts (/Users/macgr/.npm/_npx/8ea6ac5c50576a3b/node_modules/react-devtools-core/dist/standalone.js:2:1157861)
    at /Users/macgr/.npm/_npx/8ea6ac5c50576a3b/node_modules/react-devtools-core/dist/standalone.js:2:1376165
    at Ks (/Users/macgr/.npm/_npx/8ea6ac5c50576a3b/node_modules/react-devtools-core/dist/standalone.js:2:1173575)
    at /Users/macgr/.npm/_npx/8ea6ac5c50576a3b/node_modules/react-devtools-core/dist/standalone.js:2:1176231
    at div (<anonymous>)
    at div (<anonymous>)
    at div (<anonymous>)
    at Ys (/Users/macgr/.npm/_npx/8ea6ac5c50576a3b/node_modules/react-devtools-core/dist/standalone.js:2:1176065)
    at Zc (/Users/macgr/.npm/_npx/8ea6ac5c50576a3b/node_modules/react-devtools-core/dist/standalone.js:2:1247244)
    at Lc (/Users/macgr/.npm/_npx/8ea6ac5c50576a3b/node_modules/react-devtools-core/dist/standalone.js:2:1239735)
    at xt (/Users/macgr/.npm/_npx/8ea6ac5c50576a3b/node_modules/react-devtools-core/dist/standalone.js:2:1079120)
    at ca (/Users/macgr/.npm/_npx/8ea6ac5c50576a3b/node_modules/react-devtools-core/dist/standalone.js:2:1106654)
    at Ec (/Users/macgr/.npm/_npx/8ea6ac5c50576a3b/node_modules/react-devtools-core/dist/standalone.js:2:1227871)
    at Y_ (/Users/macgr/.npm/_npx/8ea6ac5c50576a3b/node_modules/react-devtools-core/dist/standalone.js:2:1382695)
```


### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=Could not find node with id  in commit tree in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react
```
","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-10-21T01:51:56Z,0,3,https://github.com/facebook/react/issues/31310,UI/UX Bug
53,facebook/react,[Compiler Bug]: Memoizing a debounced function complains about ref access,"### What kind of issue is this?

- [ ] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [X] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhAgHgBwjALgAgBMEAzAQygBsCSoA7OXASwjvwFkBPAQU0wAoAlPmAAdNvjiswBQhAC2AUUoAlUvgC8+NWUYA6KGARqSQ8fknSClJjIDyUXAhgnN2hLtwGjJsxPOWdDL4APpgcDAQlJQAKhAAQhC4uApuhggAwmTRAEa6ANb8QpoAfCIBFnJKqqR6cLAwCHRe4ZHRcfxiEhYWKZjI+Db2js4mdQ1NLRFRlAASCEwA5gAWuAA0FT05CMtkAG4sMAOi4PIQScsnG934AL6CANwBt2v4ANoAuo8BUkEErTM4olkqktOl2AgzvxNsUNGViDloAwEPwwtN2gkkil5K8AIwABnxgmuPXeaLasUxIPkHxJ+G+dHEAUauFgbAAPIQmHsSvNohB8AB1HCUQjsgD0XJ5Tzot3EIFuQA

### Repro steps

Attempting to memoize a debounced function that access a ref gives me this react compiler lint violation:
> Ref values (the `current` property) may not be accessed during render. 

However, the underlying function isn't called during render, it's simply referenced, and only called when the memoized, debounced function is called. In my case, it's called in an event handler, which is safe.

### How often does this bug happen?

Every time

### What version of React are you using?

18.3.1","['Type: Bug', 'Component: Optimizing Compiler']",2024-10-18T17:58:41Z,5,2,https://github.com/facebook/react/issues/31290,Logical Bug
54,facebook/react,[DevTools Bug]: Phantom re-renders on sibling <label> components,"### Website or app

https://stackblitz.com/edit/react-devtools-bug?file=src%2FApp.jsx

### Repro steps

1. Start profiler
2. Input into ""Component with state""
3. Both of ""ComponentWithState"" and ""AnotherReactComponent"" were re-rendered will be shown in the report but why?

![image](https://github.com/user-attachments/assets/a62f5168-b986-4ec1-8d99-a8731f7a21ff)


### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-10-18T08:08:40Z,8,0,https://github.com/facebook/react/issues/31285,Syntax Error
55,facebook/react,[DevTools Bug]:  `gl.useProgram(program);` will cause react-refresh to perform incorrect code injection.,"### Website or app

https://github.com/Yukiniro/reproduce/tree/master/rspack-issue-hot-update-worker

### Repro steps

1. clone `https://github.com/Yukiniro/reproduce/tree/master/rspack-issue-hot-update-worker`
2. Run pnpm run dev
3. Go to http://localhost:8080/

```js
      const setup = () => {
        const offscreenCanvas = new OffscreenCanvas(100, 100);
        const gl = offscreenCanvas.getContext(""webgl2"");

        const program = gl.createProgram();
        gl.linkProgram(program);
        gl.useProgram(program);
      };
 ``` 
    will be transform to be:
    
```js
      var _s = $RefreshSig$();
      const setup = () => {
        _s();
        const offscreenCanvas = new OffscreenCanvas(100, 100);
        const gl = offscreenCanvas.getContext(""webgl2"");

        const program = gl.createProgram();
        gl.linkProgram(program);
        gl.useProgram(program);
      };
 ``` 
 Then, I use the `setup` string to create a worker.

```js
const worker = new Worker(URL.createObjectURL(new Blob([`(${setup})()`])));
console.log(worker);
```

There will throw a error in the worker becuase of `_s()`.

I am not sure if this is a bug. If not, what could I do sometion to skip the generation of `_s()`.
    

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-10-17T06:40:12Z,3,0,https://github.com/facebook/react/issues/31279,Logical Bug
56,facebook/react,[DevTools Bug]: v6.0.0 (9/26/2024) of devtools makes a page extremely slow in dev (even when devtools are closed),"### Website or app

difficult to build a repor for now, since 

### Repro steps

I'm unsure what's the best way to reproduce the issue, but I'm loading a page with React Router v6 with React@19.0.0-rc-6cf85185-20241014 (using the latest version of the compiler), and v6.0.0 of devtools. Chrome version 129.0.6668.101 (Official Build) (arm64) on MacOS.

Even with devtools closed, page loads become very sluggish in development. If I run a Chrome performance profiler, it completely stalls on opening a new page for 5 seconds (albeit we're not running the React profiler):
<img width=""1249"" alt=""Screenshot 2024-10-15 at 15 52 16"" src=""https://github.com/user-attachments/assets/8a61346e-fb56-4611-adab-36b2c0567111"">

When I turn off React Developer tools, page loads become instant when devtools are closed, and Chrome profiler is also 10x faster.

The problem is so bad that we thought we had a memory leak in our app somewhere, but it was all good in the built version of the app. Turns out devtools had updated in the background and everything became sluggish in development as a result. After we disabled the extensions, everything became supper snappy in development again.

Would love to provide a repro, but I'm not exactly sure what conditions trigger the issue, as a barebones react router setup doesn't seem to do the trick.

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-10-15T14:24:44Z,4,3,https://github.com/facebook/react/issues/31266,Performance Issue
57,facebook/react,[Compiler Bug]: false positive when accessing `window.location` from the props object,"### What kind of issue is this?

- [ ] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [X] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://github.com/iamakulov/react-compiler-bug-repro

### Repro steps

1. Clone the repo
2. `yarn && yarn eslint --ext .js,.ts,.tsx src/*`
3. Observe ESLint logging the following (false positive) error:

   ![Screenshot 2024-10-15 at 13 56 31](https://github.com/user-attachments/assets/e46a0bb6-03ce-4cb8-b8e9-942ddd1a8eeb)

4. Open `src/Component.jsx` and inline the `miniCarouselProps` object:

    ```diff
    - const miniCarouselProps = {
    -   ...props,
    -   cards: cardListTransformed,
    -   slug: props.locationSlug,
    -   onCardClick: (card) => {
    -     location.pathname = card.slug;
    -   },
    -   forceAnchorTag: false,
    - };
    -
    - return <MiniCarousel {...miniCarouselProps} />;
    + return (
    +   <MiniCarousel
    +     {...props}
    +     cards={cardListTransformed}
    +     slug={props.locationSlug}
    +     onCardClick={(card) => {
    +       location.pathname = card.slug;
    +     }}
    +     forceAnchorTag={false}
    +   />
    );
    ```
   
5. `yarn eslint --ext .js,.ts,.tsx src/*`
6. Observe ESLint not logging the error anymore

### How often does this bug happen?

Every time

### What version of React are you using?

19","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-10-15T13:16:29Z,1,0,https://github.com/facebook/react/issues/31264,Logical Bug
58,facebook/react,[Compiler Bug]: Does not correctly identify components returned from factory,"### What kind of issue is this?

- [X] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [X] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhASwLYAcIwC4AEAVAQIZgEBKCpchAZjBBgQOQw12sDcAOgHYCEADxz4CAEwT1SUADYMo-Omgj8CAWQCeAQSxYAFAEoCwAQQIc8sdQB4JaAG4A+ABII5ciAQDquORK2APQOLnz8AL4CAvRKKmoEAGIQEMam5gRwamCEANr8pBgIADQEYAh4AHKFCAC6BAC8VJx4AHRQ5QDKeKR4CAasrEbhFlY2BLYAFgCMbh5epgVFEcEzzgJRgvyxyniq6nAcvQjJqSZm6pYV4zvx6qdpFxYWWfw5BPk1peVVNfVN1FobQ6CG6xwGQxGzzGMDsa3cnm8wCWCBWQTWGU2mxAESAA

even without state, the output is questionable: https://playground.react.dev/#N4Igzg9grgTgxgUxALhASwLYAcIwC4AEAVAQIZgEBKCpchAZjBBgQOQw12sDcAOgHYCEADxz4CAEwT1SUADYMo-Omgj8CAWQCeAQSxYAFAEoCwAQQIc8sdQB4JaAG4A+ABII5ciAQDquORK2APQOLnz8AL4CAvRKKmoEAGIQEMam5gRwamCEANr8pBgIADQEYAh4AHKFCAC6BAC8VJx4AHRQ5QDKeKR4CAasrEbhFlY2BLYAFgCMbh5epgVFEcEzzgJRgvyxyniq6nAcvQjJqSZm6pYV4zvx6qdpFxYWQUGZ2XlLJWUV1UX1TWotDaHQQ3WOAyGI2eYxgdjW7k8EFKAHd-IEgmsMptNiAIkA

### Repro steps

Simply create a function that returns a React function component. This is completely valid code.

### How often does this bug happen?

Every time

### What version of React are you using?

19","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-10-15T10:36:02Z,0,5,https://github.com/facebook/react/issues/31262,Logical Bug
59,facebook/react,"[DevTools Bug] Cannot remove node ""820"" because no matching node was found in the Store.","### Website or app

fix

### Repro steps

fix

### How often does this bug happen?

Often

### DevTools package (automated)

react-devtools-extensions

### DevTools version (automated)

6.0.0-d66fa02a30

### Error message (automated)

Cannot remove node ""820"" because no matching node was found in the Store.

### Error call stack (automated)

```text
at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1173591
    at v.emit (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1141200)
    at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1142807
    at bridgeListener (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1552441)
```


### Error component stack (automated)

```text
fix
```


### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=Cannot remove node  because no matching node was found in the Store. in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react
```
","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-10-15T09:44:46Z,0,0,https://github.com/facebook/react/issues/31259,Syntax Error
60,facebook/react,[DevTools Bug]: React Devtools do not show source position for host component,"### Website or app

none

### Repro steps

<img width=""1715"" alt=""image"" src=""https://github.com/user-attachments/assets/86400e7a-d653-4ee5-a9c7-f7287931a224"">
As you see, it should show source filed

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-10-14T06:48:03Z,0,2,https://github.com/facebook/react/issues/31236,Syntax Error
61,facebook/react,[Compiler Bug]: TypeError: Cannot read properties of undefined (reading 'length'),"### What kind of issue is this?

- [X] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [ ] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhHCA7MAXABAYQgFsAHTBDPAXlwApgSYISEZsBPAXwEpcqA+ADoZcuADwATAJYA3XI2asOVYLV4D5TFm3YA6ADYUA5tgAWnAPT8QnIA

### Repro steps

1. render the component

> We do not call the property function named `property`, but the error occurs regardless (when the component is rendered).

other versions:
`babel-plugin-react-compiler`: `experimental`
`react-compiler-runtime-polyfill`: `0.x`

### How often does this bug happen?

Every time

### What version of React are you using?

18.x","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-10-11T21:13:40Z,5,0,https://github.com/facebook/react/issues/31205,Runtime Error
62,facebook/react,[Compiler Bug]: Compiler modified and broke external react component default export,"### What kind of issue is this?

- [X] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [X] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [ ] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://github.com/reinismu/react-native-video-react-compiler-bug

### Repro steps

Hi I already raised the issue with `react-native-video` team and they made a workaround for now to use named export.

https://github.com/TheWidlarzGroup/react-native-video/issues/4222

### How often does this bug happen?

Every time

### What version of React are you using?

18","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-10-10T09:46:18Z,1,0,https://github.com/facebook/react/issues/31172,Logical Bug
63,facebook/react,[DevTools Bug]: Profiler fail at createing profile for large pages,"### Website or app

My Project

### Repro steps

If you have a large enough page the profiler fails to create a profile even for a small time window and the page freezes

I need a way to profile my pages. I think a file output instead of the visualizer can be helpful.

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-10-07T10:55:00Z,0,0,https://github.com/facebook/react/issues/31133,Runtime Error
64,facebook/react,[Compiler Bug]: Performance - `useEffect` without dependencies should be left alone,"### What kind of issue is this?

- [X] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [ ] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhAMygOzgFwJYSYAEUYCAwgBYCGmA5gmAKIBuCMAngCp4C2CACgCURYAB1iROITA4iAbRbUANgBoiZHADUVAXSIBeEmQDKOajkHDDAPiIBZC5QB0MWgBMIvYUIDcEiSJjBCY0NARcAWsDO3FJIM0dZQFHHBc3TE9vIT9AogBfXMw8mAQcWGIlZX9MfIDMDGx8QmCAdTcABySoBABBMAAlBDRrOKDpTFkiKsNgqloGZjZOHn5hGvGZOVK0WdIEIZGqorz90PDI6Ni8oJ3nOFhSzDkjKo2Ck8lS8phiHZq6pgQPkgA

### Repro steps

I was playing around with a small repo I had and noticed something similar to #30782. (Essentially, I was tracking a variable so that the callback identity could be stable to avoid rapid-fire rerenders of the whole page)

Wrapping it in a useEffect works and probably more correct, but it generates redundant memoization:

```js
function useWrapValueAsRef() {
  const $ = _c(2);
  const val = useChangesEveryTime();
  const ref = useRef(val);
  let t0;
  if ($[0] !== val) {
    t0 = () => {
      ref.current = val;
    };
    $[0] = val;
    $[1] = t0;
  } else {
    t0 = $[1];
  }
  useEffect(t0);
  return ref;
}
```

where I would expect it to just leave everything alone.

Ignoring the contrived source of the variable (in the real app I'm testing with, it probably changes a couple times on page load), it does the check every time, which is redundant because the useEffect will always run the latest closure anyways. I'm not sure if this is because of some sort of optimization in useEffect but I don't see why that would be the case.

I don't imagine this to be a huge issue, but it's technically less performant as the code size is bigger and it uses 2 array slots.

### How often does this bug happen?

Every time

### What version of React are you using?

React Playground (19-RC)","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-10-06T20:43:03Z,4,0,https://github.com/facebook/react/issues/31130,Performance Issue
65,facebook/react,[DevTools Bug] Cannot destructure property 'duration' of 'e[g]' as it is undefined.,"### Website or app

App

### Repro steps

Click view other component

### How often does this bug happen?

Often

### DevTools package (automated)

react-devtools-core

### DevTools version (automated)

6.0.0-d66fa02a30

### Error message (automated)

Cannot destructure property 'duration' of 'e[g]' as it is undefined.

### Error call stack (automated)

```text
at vp (C:\Users\vanta\AppData\Local\npm-cache\_npx\8ea6ac5c50576a3b\node_modules\react-devtools-core\dist\standalone.js:2:1444134)
    at vi (C:\Users\vanta\AppData\Local\npm-cache\_npx\8ea6ac5c50576a3b\node_modules\react-devtools-core\dist\standalone.js:2:56396)
    at ts (C:\Users\vanta\AppData\Local\npm-cache\_npx\8ea6ac5c50576a3b\node_modules\react-devtools-core\dist\standalone.js:2:76674)
    at gs (C:\Users\vanta\AppData\Local\npm-cache\_npx\8ea6ac5c50576a3b\node_modules\react-devtools-core\dist\standalone.js:2:87585)
    at nc (C:\Users\vanta\AppData\Local\npm-cache\_npx\8ea6ac5c50576a3b\node_modules\react-devtools-core\dist\standalone.js:2:132774)
    at rc (C:\Users\vanta\AppData\Local\npm-cache\_npx\8ea6ac5c50576a3b\node_modules\react-devtools-core\dist\standalone.js:2:132702)
    at ec (C:\Users\vanta\AppData\Local\npm-cache\_npx\8ea6ac5c50576a3b\node_modules\react-devtools-core\dist\standalone.js:2:132550)
    at Bu (C:\Users\vanta\AppData\Local\npm-cache\_npx\8ea6ac5c50576a3b\node_modules\react-devtools-core\dist\standalone.js:2:129172)
    at Hc (C:\Users\vanta\AppData\Local\npm-cache\_npx\8ea6ac5c50576a3b\node_modules\react-devtools-core\dist\standalone.js:2:142218)
    at Immediate.M [as _onImmediate] (C:\Users\vanta\AppData\Local\npm-cache\_npx\8ea6ac5c50576a3b\node_modules\react-devtools-core\dist\standalone.js:2:193522)
```


### Error component stack (automated)

```text
at vp (C:\Users\vanta\AppData\Local\npm-cache\_npx\8ea6ac5c50576a3b\node_modules\react-devtools-core\dist\standalone.js:2:1442947)
    at div (<anonymous>)
    at fa (C:\Users\vanta\AppData\Local\npm-cache\_npx\8ea6ac5c50576a3b\node_modules\react-devtools-core\dist\standalone.js:2:1152427)
    at dp (C:\Users\vanta\AppData\Local\npm-cache\_npx\8ea6ac5c50576a3b\node_modules\react-devtools-core\dist\standalone.js:2:1442557)
    at div (<anonymous>)
    at mp (C:\Users\vanta\AppData\Local\npm-cache\_npx\8ea6ac5c50576a3b\node_modules\react-devtools-core\dist\standalone.js:2:1445963)
    at div (<anonymous>)
    at div (<anonymous>)
    at div (<anonymous>)
    at cu (C:\Users\vanta\AppData\Local\npm-cache\_npx\8ea6ac5c50576a3b\node_modules\react-devtools-core\dist\standalone.js:2:1235700)
    at C:\Users\vanta\AppData\Local\npm-cache\_npx\8ea6ac5c50576a3b\node_modules\react-devtools-core\dist\standalone.js:2:1453739
    at rc (C:\Users\vanta\AppData\Local\npm-cache\_npx\8ea6ac5c50576a3b\node_modules\react-devtools-core\dist\standalone.js:2:1251400)
    at C:\Users\vanta\AppData\Local\npm-cache\_npx\8ea6ac5c50576a3b\node_modules\react-devtools-core\dist\standalone.js:2:1254056
    at div (<anonymous>)
    at div (<anonymous>)
    at div (<anonymous>)
    at nc (C:\Users\vanta\AppData\Local\npm-cache\_npx\8ea6ac5c50576a3b\node_modules\react-devtools-core\dist\standalone.js:2:1253890)
    at sv (C:\Users\vanta\AppData\Local\npm-cache\_npx\8ea6ac5c50576a3b\node_modules\react-devtools-core\dist\standalone.js:2:1324943)
    at Xd (C:\Users\vanta\AppData\Local\npm-cache\_npx\8ea6ac5c50576a3b\node_modules\react-devtools-core\dist\standalone.js:2:1317466)
    at ja (C:\Users\vanta\AppData\Local\npm-cache\_npx\8ea6ac5c50576a3b\node_modules\react-devtools-core\dist\standalone.js:2:1170090)
    at gi (C:\Users\vanta\AppData\Local\npm-cache\_npx\8ea6ac5c50576a3b\node_modules\react-devtools-core\dist\standalone.js:2:1184521)
    at Td (C:\Users\vanta\AppData\Local\npm-cache\_npx\8ea6ac5c50576a3b\node_modules\react-devtools-core\dist\standalone.js:2:1305602)
    at Zp (C:\Users\vanta\AppData\Local\npm-cache\_npx\8ea6ac5c50576a3b\node_modules\react-devtools-core\dist\standalone.js:2:1460269)
```


### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=Cannot destructure property 'duration' of 'e[g]' as it is undefined. in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react
```
","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-10-05T08:05:35Z,1,0,https://github.com/facebook/react/issues/31121,Syntax Error
66,facebook/react,"[DevTools Bug] Cannot add node ""20468"" because a node with that id is already in the Store.","### Website or app

https://demo.ragflow.io/

### Repro steps

Login into the site and checkout components at any page. The error will pop up.

### How often does this bug happen?

Every time

### DevTools package (automated)

react-devtools-extensions

### DevTools version (automated)

5.3.1-ccb20cb88b

### Error message (automated)

Cannot add node ""20468"" because a node with that id is already in the Store.

### Error call stack (automated)

```text
at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1172435
    at v.emit (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1141877)
    at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1143565
    at bridgeListener (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1551564)
```


### Error component stack (automated)

_No response_

### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=Cannot add node  because a node with that id is already in the Store. in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react
```
","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-09-27T06:57:03Z,5,6,https://github.com/facebook/react/issues/31086,Syntax Error
67,facebook/react,[Compiler Bug]: setState in useEffect / react compiler and eslint hooks plugin,"### What kind of issue is this?

- [ ] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [X] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhAgHgBwjALgAgBMEAzAQygBsCSoA7OXASwjvwFkBPAQU0wApg+TGTBgEhAEql8AXwCU+YAB02+OKzAEA2rjIwA5glwAafONwAVfUdwBdfAF58UcQGU9uBPzpVK81VV8fAB6EPwEMEomOlwAWkImMDIAI0oEOLoMeOis-BgEMkY4jQBbTCZ0mBCCoviyiqqg0PDI3PjE5LSMrPQcmIR8wuKACwgIAGswEIwRii0mADcM4kwwZuk6gDpXBABREhIERn5+RUcAPiVm4KYSfH4RMQlpEi24WALY-ABCR2c9IZjIoVGpgsELNYgbhHqJxFJSO9PghYvIANw3OTNBQYujNDR0LRKcy4TjpMByJwucQABQgfAQMH4gNs6MCagKuFgbAAPIlFiSyZFHMAtEKwLILgAJBCUSgQfAAdRwlEIPJC-IuuNk7Iw2DwRFIFGo+FoDGYrA4PD4ACZBMI4S8ZAprmoCUTdDZjGZIV77FTdh4yF4fH4Ani1GbGCw2FBMIRgwgobYzq7wfg7g8nvDXkiYF8CH8AX6QZiIcZk8ZYc8EW8PvmUbg2WCsWodRHgptGDtxAcjidU5c0+C4wmvJWYc3gjj2cF3QQhGLyZTnLs6QymSzgbjmpzufg+UtBeSRUvIpKZXKFcqYKr1ZrtaoQLIgA

### Repro steps

the eslint plugin react hook complains about calling setState in a useEffect:
more discussion here: https://github.com/facebook/react/issues/15329

I'm happy with the eslint error ;- it is potentially dangerous.

but the eslint-plugin-react-compiler errors if you disable the react hook rule ;- in this particular case this seems over the top.

Will it stop the react compiler compiling this file or its just a eslint extra warning?

In the 2nd example, I've abstracted the setState to another function and I get no errors. This is fine in the context of the eslint plugin but what about react compiler?

I was lead to believe a eslint compiler plugin warning means it will *not* be compiled and bail out, but I guess for warnings because of disabling eslint rules, this is not the case?

In my opinion:
* The react compiler eslint plugin should not error on disabling the react hooks plugin
* if the react compiler thinks something is a problem for the compiler, it should generate its own warning and as in this case it would need to be more thorough than the eslint plugin hooks plugin

### How often does this bug happen?

Every time

### What version of React are you using?

0.0.0-experimental-92aaa43-20240924","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-09-26T09:46:43Z,1,0,https://github.com/facebook/react/issues/31070,Logical Bug
68,facebook/react,[DevTools Bug]: No way to debug suspense events,"### Website or app

n/a

### Repro steps

The react dev-tools have not been updated with support for debugging suspense issues.

For examples:
- In the profiler, you can see that a suspense even happened and caused a re-render, but you cannot see which component actually caused the suspense (ie. called `use` or similar) to trigger.
- There doesn't appear to be any kind of logging that can be turned on of suspense events (which would tell you which component suspended)


### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-09-23T14:21:03Z,0,0,https://github.com/facebook/react/issues/31025,Syntax Error
69,facebook/react,[Compiler Bug]: function parameter inside component override outer parameter incorrectly,"### What kind of issue is this?

- [X] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [ ] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhHCA7MAXABASwwBMEAPAfQAZcBeXGBARynwYAoAdEAOgHpIAtgl6ESpLgEoA3BwyyAZlAxxs+TLgBiMfAmIAZfDjbACxMrgC+E3MFm5c6LHnnbdRAAoBDDAgA2YWlwXHWIwbgFPAAc2NmC3ABpTMWsaAD4bO3tcXl5cMARHIlxPGABzXAh5XAjIioA3BBhtElxsAAsECqhsRqSyKmL5HpgHCAFI-F8ETPsGbFgMXAAeUX7KbgBlMYQvH19UmayuOOJkLlwAaiDXYku+0hlFrKWRMwp1raFdvwOnq0fZgh5jBFksiPg6r8sjYTh5vH4wBZMi9wZDZLIkRgQBYgA

### Repro steps

Using webpack with typescript.
`import { SomePanel } ""./some/index"";` may compiled into something like `const index_0 = __importDefault(__webpack_require__(""./some/index.js""));`

React compiler don't recongize it, and compile the `index` arg in `array.map((value, index)=>{})` into `index_0`, which falsy override the imported module and become a number.

### How often does this bug happen?

Every time

### What version of React are you using?

19.0.0-rc-4c58fce7-20240904","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-09-21T00:14:44Z,0,0,https://github.com/facebook/react/issues/31014,Logical Bug
70,facebook/react,[React 19] [bug] SVG with dangerouslySetInnerHTML content does not trigger first click,"## Summary

Hi all,

Here is the scenario that we found out while testing with both the latest rc and the beta that works correctly with React 18.
We have an SVG element that does not trigger its first click if it is focusable (or positioned inside a focusable element) that changes some state on focus.

**Steps to reproduce:** 
Open the Stackblitz example and open its console
Click 1 time on the triangle svg element
**Expected**:
'svg click' message is logged
**Current**: 
no message is logged

(On the second and all next clicks the message is shown as expected - only the first click is not triggered)
**Here are the stackblitz examples where the issue can be observed:**
rc: https://stackblitz.com/edit/react-vsxt51-w3ktmp?file=app%2Fapp.tsx - not working
beta: https://stackblitz.com/edit/react-vsxt51-ssqptj?file=app%2Fapp.tsx - not working
**And here is how it is working in React 18:**
React 18: https://stackblitz.com/edit/react-vsxt51-xsg1yu?file=app%2Fapp.tsx - working


**Code**:

```
const App = () => {
  const [focused, setFocused] = React.useState(false);
  const handleFocus = () => {
    setFocused(true);
  };

  return (
    <svg
      onFocus={handleFocus}
      tabIndex={1}
      onClick={() => {
        console.log('svg click');
      }}
      viewBox=""0 0 512 512""
      dangerouslySetInnerHTML={{
        __html: '<path d=""M256 352 128 160h256z"" />',
      }}
    ></svg>
  );
};
```
","['Type: Bug', 'React 19']",2024-09-18T13:52:05Z,12,10,https://github.com/facebook/react/issues/30994,Logical Bug
71,facebook/react,"[DevTools Bug] The ""path"" argument must be of type string. Received undefined","### Website or app

private repo

### Repro steps

- Just opening the devtools in a React Native App and inspecting components I got this error: The ""path"" argument must be of type string. Received undefined.
<img width=""1046"" alt=""Screenshot 2024-09-06 at 4 54 59?PM"" src=""https://github.com/user-attachments/assets/50d942d8-85f4-4bb1-8a1f-039fe302b370"">

### Development Environment
Device: MacBook Air M1 (2020)
Processor: Apple Silicon (M1)
Operating System: macOS Sonoma v.14.6.1
Architecture: ARM64
Package Manager: Yarn 

### Dependencies
React: 18.2.0
React Native: 0.74.2
React Navigation:
@react-navigation/native: 6.1.17
@react-navigation/stack: 6.3.29
@react-navigation/drawer: 6.6.15
@react-navigation/bottom-tabs: 6.5.20
@react-navigation/native-stack: 6.9.26


### How often does this bug happen?

Every time

### DevTools package (automated)

react-devtools-core

### DevTools version (automated)

4.28.5-ef8a840bd

### Error message (automated)

The ""path"" argument must be of type string. Received undefined

### Error call stack (automated)

```text
at __node_internal_captureLargerStackTrace (node:internal/errors:484:5)
    at new NodeError (node:internal/errors:393:5)
    at validateString (node:internal/validators:163:11)
    at isAbsolute (node:path:1157:5)
    at f_ (/Users/cayolegal/Documents/BDP/labarra-app-py/node_modules/react-devtools-core/dist/standalone.js:2:1371384)
    at k_ (/Users/cayolegal/Documents/BDP/labarra-app-py/node_modules/react-devtools-core/dist/standalone.js:2:1376557)
    at xu (/Users/cayolegal/Documents/BDP/labarra-app-py/node_modules/react-devtools-core/dist/standalone.js:2:1212586)
    at an (/Users/cayolegal/Documents/BDP/labarra-app-py/node_modules/react-devtools-core/dist/standalone.js:2:39841)
    at Ns (/Users/cayolegal/Documents/BDP/labarra-app-py/node_modules/react-devtools-core/dist/standalone.js:2:117187)
    at Il (/Users/cayolegal/Documents/BDP/labarra-app-py/node_modules/react-devtools-core/dist/standalone.js:2:101534)
    at Rl (/Users/cayolegal/Documents/BDP/labarra-app-py/node_modules/react-devtools-core/dist/standalone.js:2:101463)
    at Nl (/Users/cayolegal/Documents/BDP/labarra-app-py/node_modules/react-devtools-core/dist/standalone.js:2:101281)
    at Sl (/Users/cayolegal/Documents/BDP/labarra-app-py/node_modules/react-devtools-core/dist/standalone.js:2:98382)
    at pl (/Users/cayolegal/Documents/BDP/labarra-app-py/node_modules/react-devtools-core/dist/standalone.js:2:97812)
    at Immediate.D [as _onImmediate] (/Users/cayolegal/Documents/BDP/labarra-app-py/node_modules/react-devtools-core/dist/standalone.js:2:185245)
    at process.processImmediate (node:internal/timers:471:21)
```


### Error component stack (automated)

```text
at xu (/Users/cayolegal/Documents/BDP/labarra-app-py/node_modules/react-devtools-core/dist/standalone.js:2:1211637)
    at Fl (/Users/cayolegal/Documents/BDP/labarra-app-py/node_modules/react-devtools-core/dist/standalone.js:2:1182513)
    at Suspense
    at ms (/Users/cayolegal/Documents/BDP/labarra-app-py/node_modules/react-devtools-core/dist/standalone.js:2:1166739)
    at div
    at Hs (/Users/cayolegal/Documents/BDP/labarra-app-py/node_modules/react-devtools-core/dist/standalone.js:2:1172940)
    at cu (/Users/cayolegal/Documents/BDP/labarra-app-py/node_modules/react-devtools-core/dist/standalone.js:2:1202150)
    at div
    at div
    at si (/Users/cayolegal/Documents/BDP/labarra-app-py/node_modules/react-devtools-core/dist/standalone.js:2:1127258)
    at ko (/Users/cayolegal/Documents/BDP/labarra-app-py/node_modules/react-devtools-core/dist/standalone.js:2:1151045)
    at /Users/cayolegal/Documents/BDP/labarra-app-py/node_modules/react-devtools-core/dist/standalone.js:2:1231603
    at ms (/Users/cayolegal/Documents/BDP/labarra-app-py/node_modules/react-devtools-core/dist/standalone.js:2:1166739)
    at /Users/cayolegal/Documents/BDP/labarra-app-py/node_modules/react-devtools-core/dist/standalone.js:2:1169395
    at div
    at div
    at div
    at Ss (/Users/cayolegal/Documents/BDP/labarra-app-py/node_modules/react-devtools-core/dist/standalone.js:2:1169229)
    at ic (/Users/cayolegal/Documents/BDP/labarra-app-py/node_modules/react-devtools-core/dist/standalone.js:2:1233344)
    at Wu (/Users/cayolegal/Documents/BDP/labarra-app-py/node_modules/react-devtools-core/dist/standalone.js:2:1225803)
    at ut (/Users/cayolegal/Documents/BDP/labarra-app-py/node_modules/react-devtools-core/dist/standalone.js:2:1073442)
    at jt (/Users/cayolegal/Documents/BDP/labarra-app-py/node_modules/react-devtools-core/dist/standalone.js:2:1100719)
    at Os (/Users/cayolegal/Documents/BDP/labarra-app-py/node_modules/react-devtools-core/dist/standalone.js:2:1173613)
    at i_ (/Users/cayolegal/Documents/BDP/labarra-app-py/node_modules/react-devtools-core/dist/standalone.js:2:1367821)
```


### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=The ""path"" argument must be of type string. Received undefined in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react
```
","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-09-06T21:05:13Z,1,4,https://github.com/facebook/react/issues/30898,Syntax Error
72,facebook/react,[Compiler Bug]: eslint-plugin-react-compiler errors when updating initialization of ref.current,"### What kind of issue is this?

- [ ] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [X] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhAHRFMCAEcA2AlggHYAuGA3GiTYQLYAOEMZOwOWCASggGY4Avjj4wI9HBhgIAhnAohqtEnAgkwbAKoA5AJJ6AKroCCAGV0AtAKIARHAF4cAZQCe9AEYR8ACgw79ukZmlrYYAJRKNAgAHsyseGoanNgA8iq4jgA8BgA0AHzehCSEZIQy+ABq5VAIyDgGOAA+ON7eYQ559WHt9p3ANDgJ6mzSAo5cvAKZ9U04ZC6MCBAC-oYm5tZ2nd6rgeshNhE0AziEAt6jAHRwsNLkDvaOu0Ebtu39JIODVzcwd2yOeaLZanYqlcpVfA1B6ODB8KAqUpqDA4AD8oJKZUq1QQbRwdSKmIhOKUg0Ex0+OGkZFgnx+t1IZCUgkiJBicTYABN+DIoPg2PDEYQ1DgALIuYyMRh4j7fBA0mCfTKcwgANzyAAkEPh8BAcAB1Fj4TmZAD0KvVzJoIEEQA

### Repro steps

1. Initialize `useRef` with some dummy value (e.g. null, Symbol, undefined, etc.) to be changed after initialization/during render.
2. Update `ref.current` by checking whether it is equivalent to its initial condition (as per documentation: [useRef#Avoiding recreating the ref contents](https://react.dev/reference/react/useRef#avoiding-recreating-the-ref-contents))
  - > To solve it, you may initialize the ref like this instead:
  ```
  function Video() {
    const playerRef = useRef(null);
    if (playerRef.current === null) {
      playerRef.current = new VideoPlayer();
    }
    // ...
  ```

  - > Normally, writing or reading ref.current during render is not allowed. However, its fine in this case because the result is always the same, and the condition only executes during initialization so its fully predictable.
  
3. eslint-plugin-react-compiler gives error

```
InvalidReact: Ref values (the `current` property) may not be accessed during render. (https://react.dev/reference/react/useRef)
```

### How often does this bug happen?

Every time

### What version of React are you using?

19.0.0-rc-1d989965-20240821","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-08-21T23:52:41Z,9,10,https://github.com/facebook/react/issues/30782,Logical Bug
73,facebook/react,"[DevTools Bug]: inspecting pseudo-elements in Firefox gives error `Permission denied to access property ""__reactFiber$sofadm08s2""`","### Website or app

https://wk82tp.csb.app/

### Repro steps

1. Go to the Sandbox link in Firefox (129.0.2), with React DevTools (5.3.1)
2. Open the inspector.
3. Select the `::after` pseudo-element next to the `<h1>`.

### More Info
I add a screenshot of the issue.
<img width=""1305"" alt=""Screenshot 2024-08-21 at 09 06 24"" src=""https://github.com/user-attachments/assets/d3e869af-80f1-44d5-a9ec-a47ed8472974"">

This is happening from a while. Of course, is not a big issue, because if I close the error on the main screen, I can keep working. And until now I wasn't using much of pseudo-elements. 

But now, I'm working on a new feature in our app, where I'm relying hardly on `::after` en `::before` pseudo elements. And it is quite annoying.

This is happening since DevTools 4.28.4. Until v4.27.8 I didn't had problems. On this version (4.27.8) the error is shown only when opening the tab ""(React) Components"" in the inspector... which kind of make sense, right?. 

What doesn't make sense (to me) is that I got this error when inspecting the pseudo-element in the basic firefox inspector (trying to apply css properties on it).

### How often does this bug happen?

Every time
","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-08-21T07:08:14Z,2,8,https://github.com/facebook/react/issues/30772,Syntax Error
74,facebook/react,[DevTools Bug]: Inconsistent behavior; React dev tools does not recognize a react website; 'service worker(inactive)',"### Website or app

https://healthbridge-silk.vercel.app/

### Repro steps

I have a two profiles on my chrome browser one personal other work related.
1. Installed dev tool extension about a few months back on work profile.
2. Installed the same extension on my personal profile.
3. Works flawlessly on my work profile but in my personal profile has error ""service worker(inactive)""

On my personal profile it does not recognize any react websites and on clicking the extension gives ""Page does not seem to be using react"". Works flawlessly on my work profile.

Image from my personal account:
![Screenshot_20240820_223428](https://github.com/user-attachments/assets/ef86ea22-a0f2-4cbb-80c2-97aab630afe2)

Image from my work account:
![image](https://github.com/user-attachments/assets/599160ca-61a5-4b7d-9924-04aed66a6aea)


EDIT: I checked the extension errors in my personal account and here is a screen shot of it:
There are no stack traces for any of the errors.
![image](https://github.com/user-attachments/assets/0b1805c9-4ce0-4ae6-96a0-e1d2e0ef5b04)



### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-08-20T17:22:41Z,0,2,https://github.com/facebook/react/issues/30754,Syntax Error
75,facebook/react,"[React 19] `use()` promise from state causes ""async/await is not yet supported in Client Components"" error","## Summary

https://stackblitz.com/edit/vitejs-vite-kbccdh?file=src%2FApp.tsx

```tsx
import { use, useState } from 'react';

export default function App() {
  const [p] = useState(() => new Promise((res) => setTimeout(res, 500)));

  use(p);
  return 'hello!';
}
```

Note: I do not have a parent Suspense boundary.

### Actual behaviour

An error is thrown

> Error: async/await is not yet supported in Client Components, only Server Components. This error is often caused by accidentally adding `'use client'` to a module that was originally written for the server.

### Expected behaviour

I think this should render ""hello!"". If I lift the promise out of the state initialiser into the module, there is no error - React holds from rendering the app until the promise resolves.

```tsx
// This works fine, even without a parent <Suspense>
const p = new Promise((res) => setTimeout(res, 500));
export default function App() {
  use(p);
  return 'hello!';
}
```

If it's expected to throw an error in this scenario, then I think the error message should be improved. It should log the error message about the component suspended without a parent suspense boundary. I do think this is inconsistent though, and in original example should just work.","['Type: Bug', 'React 19']",2024-08-15T10:03:34Z,3,3,https://github.com/facebook/react/issues/30709,Syntax Error
76,facebook/react,[React 19] No re-render after 'useActionState' action queue finishes,"## Summary

When multiple client side actions are scheduled via `useActionState`, the ""Action queue"" promises are processed sequentially as expected. However after the last action promise resolves, the component is not re-rendered. This means, the component is stuck in ""loading"" without access to ""data"".

### Steps to reproduce

1. Open the demo here: https://codesandbox.io/p/sandbox/use-action-state-stuck-xl72xk?file=%2Fsrc%2FApp.js
2. Click the ""Send request"" button two times.
3. After 10 seconds (each request is 5 seconds and processed sequentially), the component still shows ""Loading..."" and not the dummy data (as I would expect).


#### Notes
* When only one ""action"" is scheduled (button clicked once), the component re-renders when the action is done, as expected.
* The promise ""delay"" seems to have an effect. When `REQUEST_DELAY` is set lower i.e. 1000ms, this ""issue"" is not present.
* Possibly related: https://github.com/facebook/react/issues/27630

Is this behavior intentional?

","['Type: Bug', 'React 19']",2024-08-14T12:04:29Z,2,0,https://github.com/facebook/react/issues/30691,UI/UX Bug
77,facebook/react,[DevTools Bug]: Cannot view source with remote sourcemap containing absolute `sources`,"### Website or app

www.airbnb.com

### Repro steps

1. Visit www.airbnb.com
2. Use component inspector to inspect a React component
3. Attempt to jump to source and observe that it fails

You won't be able to repro this since the sourcemaps aren't publicly accessible, but hopefully my issue description below explains the matter clearly:

Our sourcemaps contain no `sourceRoot`, but the `sources` are absolute paths (e.g `/foo/bar/baz/main.js`). The sourcemaps are uploaded to a domain `sourcemaps.d.musta.ch` and our minified JS files contain `sourceMappingURL=https://sourcemaps.d.musta.ch/foo/bar/baz.js.map` comments pointing to them. 

Per the [spec](https://sourcemaps.info/spec.html#h.75yo6yoyk7x5):
> Resolving Sources
If the sources are not absolute URLs after prepending of the sourceRoot, the sources are resolved relative to the SourceMap (like resolving script src in a html document).

Chrome follows the spec. `/foo/bar/baz/main.js` is an absolute *filesystem path*, but it is not an absolute `URL` - it would need to be something like `file:///foo/bar/baz/main.js` to be an absolute URL. Therefore, Chrome resolves the path relative to the sourcemap, resulting in `https://sourcemaps.d.musta.ch/foo/bar/baz/main.js`. This is the path that shows up in the Sources tab. 

However, the React code here does not follow the spec:
https://github.com/facebook/react/blob/8e60bacd08215bd23f0bf05dde407cd133885aa1/packages/react-devtools-shared/src/symbolicateSource.js#L101

As a result, the sourceURL remains `/foo/bar/baz/main.js`. The ""View Source"" functionality is broken since that doesn't point to a valid path. 

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-08-13T22:22:45Z,3,0,https://github.com/facebook/react/issues/30682,Runtime Error
78,facebook/react,"[DevTools Bug] Cannot add node ""1"" because a node with that id is already in the Store.","### Website or app

local repo

### Repro steps

just loaded the local  react app

### How often does this bug happen?

Every time

### DevTools package (automated)

react-devtools-extensions

### DevTools version (automated)

5.3.1-ccb20cb88b

### Error message (automated)

Cannot add node ""1"" because a node with that id is already in the Store.

### Error call stack (automated)

```text
at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1172435
    at v.emit (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1141877)
    at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1143565
    at bridgeListener (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1551564)
```


### Error component stack (automated)

_No response_

### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=Cannot add node  because a node with that id is already in the Store. in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react
```
","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-08-06T09:20:37Z,12,8,https://github.com/facebook/react/issues/30607,Syntax Error
79,facebook/react,[React 19] Controlled `<select>` component is subject to automatic form reset,"The controlled component also resets the ""select"" after the action is triggered.
but the ""input"" component does not.

```jsx
""use client"";
import { useActionState, useState } from ""react"";
function add() {
  return Date.now();
}
export default function Page() {
  const [state, formAction] = useActionState(add, 0);
  const [name, setName] = useState("""");
  const [type, setType] = useState(""2"");
  return (
    <form action={formAction}>
      <p>{state}</p>
      <p>
        <input
          type=""text""
          value={name}
          onChange={(e) => setName(e.target.value)}
        />
      </p>
      <p>
        <select
          name=""gender""
          value={type}
          onChange={(e) => setType(e.target.value)}
        >
          <option value=""1"">1</option>
          <option value=""2"">2</option>
          <option value=""3"">3</option>
        </select>
      </p>
      <button>submit</button>
    </form>
  );
}
```

![20240802-193357](https://github.com/user-attachments/assets/c61f2b1c-a00c-4982-aba3-5061770f719a)

Repro: https://codesandbox.io/p/sandbox/stupefied-cohen-n578l6","['Type: Bug', 'React 19']",2024-08-02T10:01:56Z,20,8,https://github.com/facebook/react/issues/30580,UI/UX Bug
80,facebook/react,"[DevTools Bug] Cannot remove node ""366"" because no matching node was found in the Store.","### Website or app

http://localhost:3000/welcome

### Repro steps

### I created token for user authentication and pass into context so that user can reuse that token to call an API 
when i logout or login on my localhost i see this error 

**STEP 1 Create a token** 
export const executeBasicAuthenticationService
    = (token) => apiClient.get(`/basicauth`,{
        headers: {
            Authorization: token
        }
    })

**STEP-2 Pass into context**

async function login(username, password) {



  const baToken = 'Basic ' + window.btoa( username + "":"" + password )
  
  try{

  
  const response = await executeBasicAuthenticationService(baToken)
  
  if(response.status==200){
        setAuthenticated(true)
        setUsername(username)
        settoken(baToken)
         return true
       
    } else {
       logout()
        return false
      
     }
}  catch(error){
  logout()
  return false
}

 }

function logout(){
setAuthenticated(false)
settoken(null)
setUsername(null)
}

    return (
  <AuthContext.Provider value={ {isAuthenticated,setAuthenticated,login,logout,username,token} }>

    {children}
  </AuthContext.Provider>


    )
}

    

### How often does this bug happen?

Every time

### DevTools package (automated)

react-devtools-extensions

### DevTools version (automated)

5.3.1-ccb20cb88b

### Error message (automated)

Cannot remove node ""366"" because no matching node was found in the Store.

### Error call stack (automated)

```text
at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1174132
    at v.emit (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1141877)
    at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1143565
    at bridgeListener (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1551564)
```


### Error component stack (automated)

_No response_

### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=Cannot remove node  because no matching node was found in the Store. in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react
```
","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-08-02T08:17:10Z,2,1,https://github.com/facebook/react/issues/30577,Syntax Error
81,facebook/react,"[Compiler Bug]: eslint-plugin-react-compiler reports ""Hooks may not be referenced as normal values"" if property begins ""use""","### What kind of issue is this?

- [ ] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [X] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhASwLYAcIwC4AEcEAdgGZoDmBZMEGBA5GPAPTHlWMDcAOifwQAPHPgIATBGQCGUADaEyUEnDxpSBALIBPAIJYsACix0sYAJQFg-AkVJhCYABbQ54gKpgEADQIBeO05KADppYKgvbz4SWxgEPFgY51cPSIIAfiYhRgJkJm0efgBffhAioA

### Repro steps

We have a config object with a property starting ""use"" - its a boolean.

It seems very restrictive that we cannot have any properties beginning ""use"".

I guess we could destructure outside the react component or make a abstracted function to get the boolean - is that the recommended solution? Or should react compiler be less restrictive in detecting hooks? It seems unlikely to be a hook if its a property name thats not on a import?

### How often does this bug happen?

Every time

### What version of React are you using?

0.0.0-experimental-9ed098e-20240725","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-07-28T07:31:17Z,2,1,https://github.com/facebook/react/issues/30493,Logical Bug
82,facebook/react,Bug: useFormStatus pending state is reset when component state is updated,"If you have a component that relies on the `pending` return value of `useFormStatus`, the `pending` state will incorrectly reset to `false` if the component is updated due to a `useState` update. This does not happen if the `useState` hook is placed in a child component. 

React version: 19.0.0-rc-512b09b2-20240718

## Steps To Reproduce

[codesandbox.io/p/sandbox/react-useformstatus-pending-reset-on-unrelated-state-update-m59zw8](https://codesandbox.io/p/sandbox/react-useformstatus-pending-reset-on-unrelated-state-update-m59zw8)

1. Create a react app that uses form actions (this uses NextJS starter code)
2. Have the form action delay for a set period of time before resolving
3. Create a child component that uses `useFormStatus().pending`. Have the component also use a `useState` hook that updates on an interval using `useEffect`. 
4. Place this child component as a child of the `<form />` element
5. Verify that `useFormStatus().pending` is reset to false as soon as a call to `setState` happns

Example component

```

export default function SubmissionState() {
  const formStatus = useFormStatus();
  const [counter, setCounter] = useState(0);
  useEffect(() => {
    const id = setTimeout(() => {
      if (!formStatus.pending) {
        setCounter(0);
        return;
      }
      setCounter(counter + 1);
    }, 1000);
    return () => clearTimeout(id);
  }, [counter, formStatus.pending]);
  return (
    <div>
      {formStatus.pending ? `Pending for ${counter} seconds` : ""Not pending""}
    </div>
  );
}
```

this example works as expected, `useFormStatus().pending` state matches the server actions state

```
function SubmissionStateBody({ pending }: { pending: boolean }) {
  const [counter, setCounter] = useState(0);
  useEffect(() => {
    if (!pending) {
      setCounter(0);
      return;
    }
    const id = setTimeout(() => {
      setCounter(counter + 1);
    }, 1000);
    return () => clearTimeout(id);
  }, [counter, pending]);
  return (
    <div>{pending ? `Pending for ${counter} seconds` : ""Not pending""}</div>
  );
}

export default function SubmissionStateCorrect() {
  const formStatus = useFormStatus();
  return <SubmissionStateBody pending={formStatus.pending} />;
}
``` 

Link to code example:

[Github repro using nextjs starter template](https://github.com/jatwood/repro-use-form-issue)

## The current behavior

The UI shows the submission as pending for the length of the server action.


## The expected behavior

The UI shows the submission as not-pending as soon as the counter is updated. 
","['Type: Bug', 'React 19']",2024-07-18T01:59:20Z,8,7,https://github.com/facebook/react/issues/30368,Logical Bug
83,facebook/react,Independent re-renders from UNSAFE_componentWillReceiveProps cause maximum update depth error,"
In this added test case, each render causes a second pass render follow up, but it always settles.

Repeating this sufficiently often triggers the ""Maximum update depth exceeded."" error because the `nestedUpdateCount` in `ReactFiberWorkLoop.js` doesn't reset.
","['Type: Bug', 'CLA Signed', 'React Core Team', 'React 19']",2024-07-01T19:43:31Z,1,0,https://github.com/facebook/react/pull/30175,Syntax Error
84,facebook/react,"[DevTools Bug] getCommitTree(): Invalid commit ""1"" for root ""445"". There are only ""1"" commits.","### Website or app

https://abhayyportfolio.netlify.app/

### Repro steps

I am just checking my website performance by the use of profiler 

### How often does this bug happen?

Every time

### DevTools package (automated)

react-devtools-extensions

### DevTools version (automated)

5.2.0-1717ab0171

### Error message (automated)

getCommitTree(): Invalid commit ""1"" for root ""445"". There are only ""1"" commits.

### Error call stack (automated)

```text
at getCommitTree (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1150777)
    at fe.getCommitTree (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1154452)
    at CommitFlamegraphAutoSizer (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1396842)
    at renderWithHooks (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:76682)
    at updateFunctionComponent (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:103097)
    at beginWork (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:116771)
    at performUnitOfWork (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:175653)
    at workLoopSync (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:175521)
    at renderRootSync (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:175252)
    at recoverFromConcurrentError (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:171121)
```


### Error component stack (automated)

```text
at CommitFlamegraphAutoSizer (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1396643)
    at div
    at div
    at div
    at SettingsModalContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1291561)
    at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1528595
    at ua (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1309094)
    at div
    at div
    at ThemeProvider (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1311805)
    at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1312002
    at div
    at div
    at div
    at ThemeProvider (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1311805)
    at TimelineContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1387831)
    at ProfilerContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1379486)
    at TreeContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1203530)
    at SettingsContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1231781)
    at ModalDialogContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1316268)
    at DevTools_DevTools (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1536331)
```


### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=getCommitTree(): Invalid commit  for root . There are only  commits. in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react
```
","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-06-27T06:27:24Z,0,1,https://github.com/facebook/react/issues/30114,Performance Issue
85,facebook/react,[Compiler Bug]:  healthcheck do not check next.js StrictMode,"### What kind of issue is this?

- [ ] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [ ] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [X] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://github.com/coleea/bug-report-next15-server-action

### Repro steps

just run command `npx react-compiler-healthcheck@latest`.
then, react-compiler-healthcheck does not check StrictMode even though Next.js is actually StrictMode.

Next.js is StrictMode by default under these two conditions are met

1) Next.js version 13.4+ 
2) App router

You can check this : https://rc.nextjs.org/docs/app/api-reference/next-config-js/reactStrictMode

So, It needs extra three steps to check whether StrictMode or Not.
1) check package.json if Next.js version is over 13.4 or not.
2) If so, Check if `reactStrictMode: false` is not set.
3) check if project is App-Router-based.

If three conditions are met, this project is based on StrictMode even though `reactStrictMode: true` is not set on `next.config.mjs` file.



### How often does this bug happen?

Every time

### What version of React are you using?

19.0.0-rc.0","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-06-23T02:21:47Z,5,0,https://github.com/facebook/react/issues/30049,Logical Bug
86,facebook/react,[React 19] requestFormReset reports TypeError Cannot read properties of null (reading 'queue') on repeated form submissions,"## Summary

Hi, React team,

I've recently been trying the new form actions in React 19, I'm trying to reproduce a race condition with multiple form submissions in a short time. However, I occasionally get the error `TypeError
Cannot read properties of null (reading 'queue')` after a few consecutive submissions.

After some investigations, I'm able to create the minimal reproducing steps below:

1. Open [codesandbox.io/p/sandbox/confident-sky-8vr69k](https://codesandbox.io/p/sandbox/confident-sky-8vr69k)
```jsx
function App() {
  const formAction = async () => {
    await new Promise((resolve) => setTimeout(resolve, 3000));
  };

  return (
    <form action={formAction}>
      <input type=""text"" name=""name"" />
      <input type=""submit"" />
    </form>
  );
}

export default App;
```
2. Input ""1"" in the text field
3. Submit form
4. Within 3 seconds (before the Client Action resolved), submit the form again

Expected behavior:
Form fields resetted.

Actual behavior:
The page breaks reporting a TypeError below:
```
TypeError: Cannot read properties of null (reading 'queue')
requestFormReset$1
https://gwprwq.csb.app/node_modules/react-dom/cjs/react-dom-client.development.js:7001:74
eval
https://gwprwq.csb.app/node_modules/react-dom/cjs/react-dom-client.development.js:6956:15
startTransition
https://gwprwq.csb.app/node_modules/react-dom/cjs/react-dom-client.development.js:6908:27
startHostTransition
https://gwprwq.csb.app/node_modules/react-dom/cjs/react-dom-client.development.js:6948:7
listener
https://gwprwq.csb.app/node_modules/react-dom/cjs/react-dom-client.development.js:16008:21
processDispatchQueue
https://gwprwq.csb.app/node_modules/react-dom/cjs/react-dom-client.development.js:16066:17
eval
https://gwprwq.csb.app/node_modules/react-dom/cjs/react-dom-client.development.js:16665:9
batchedUpdates$1
https://gwprwq.csb.app/node_modules/react-dom/cjs/react-dom-client.development.js:2689:40
dispatchEventForPluginEventSystem
https://gwprwq.csb.app/node_modules/react-dom/cjs/react-dom-client.development.js:16221:7
dispatchEvent
https://gwprwq.csb.app/node_modules/react-dom/cjs/react-dom-client.development.js:20127:11
dispatchDiscreteEvent
https://gwprwq.csb.app/node_modules/react-dom/cjs/react-dom-client.development.js:20095:11
```

Am I missing anything? Thanks.","['Type: Bug', 'React 19']",2024-06-22T11:14:36Z,4,0,https://github.com/facebook/react/issues/30041,Runtime Error
87,facebook/react,[React 19] useEffect does not re-fire on hot reload with React 19 and vite,"In prior versions of react, saving a file will trigger the components `useEffect` hooks to run. This does not work for react 19.
This applies to both [@vitejs/plugin-react-swc](https://github.com/vitejs/vite-plugin-react-swc) and [@vitejs/plugin-react](https://github.com/vitejs/vite-plugin-react)

Repo: https://github.com/gkiely/swc-issue

Steps to reproduce:
- npm i
- npm run dev
- open repo and press save in App.tsx
- console.log will not fire after pressing save
- npm i react@18 react-dom@18
- npm run dev
- press save in App.tsx
- console.log will fire

Video reproduction:
https://www.loom.com/share/b493602e3f7244d2948c5bb871531881?sid=c9bdec15-5b87-4375-a659-6c63804cb032


Notes:
I previously opened a ticket here but it is perhaps an issue with react 19: https://github.com/vitejs/vite-plugin-react/issues/335 ","['Type: Bug', 'React 19']",2024-06-16T17:05:39Z,6,7,https://github.com/facebook/react/issues/29915,Logical Bug
88,facebook/react,[Compiler Bug]: Constants or properties named `use*` trigger compiler errors re: hooks,"### What kind of issue is this?

- [ ] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [ ] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhHCA7MAXABFMBAYQENCxcBeXAbQB0NdcByAcQgEsMBzXbCPgAsEuHBBgJmAGgZNmABQ5wA1l15QADkJGqAJmGmyWAdRLY4gtbgAqANWYMAugwbosebJbABJMAGUSADMEACEoPGpgIwJiMgQwZFojOQAjcKEOCkzcDAhsB0ZcZwwAXxcMBAAPDXE8XQRAkigAGzxAqAw4bA5MXABZAE8AQQ0NAAoASlwowolsWEYAHgA+ZOmY0nIAOgBbEnGNuKpl3DG1pkXdDgA3XGUEAcpgQ8IS1cKmT-XCTYQyj8+iwA9Fdru8vhMJv81sBPJlfAFgmFsFsXvFdvsxmjjqdzrhLjc7g8nmi3nimM8fnF-l8LiCbuDPpCafige9-iASkA

### Repro steps

Try to reference an object or property with a name starting with `use*`. Seems it could at least narrow its scope to functions named `use*`?

### How often does this bug happen?

Every time

### What version of React are you using?

^19.0.0-rc-f994737d14-20240522","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-06-14T18:39:33Z,2,0,https://github.com/facebook/react/issues/29900,Logical Bug
89,facebook/react,"[DevTools Bug]: Open in editor , Path not found error ","### Website or app

I am using a local app

### Repro steps

1. Open devtools
2. Select a component
3. Click open in editor
4. 
```
The path '/data:application/json;base64,eyJ2ZXJzaW9uIjozLCJtYXBwaW5ncyI6IkFBa0VNLG1CQVFRLGNBUlI7MkJBbEVOO0FBQWUsTUFBUSxjQUFpQjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUN4QyxTQUFTQSxZQUFZO0FBRXJCLFNBQVNDLG1CQUFtQjtBQUU1QixTQUFTQyxPQUFPQyxNQUFNQyxtQkFBbUI7QUFFekMsU0FBU0Msa0JBQWtCQyxzQkFBc0I7QUFDakQsU0FBU0Qsa0JBQWtCRSxlQUFlO0FBQzFDLFNBQVNGLGtCQUFrQkcscUJBQXFCO0FBVWhELE1BQU1DLHNCQUFzQkMsT0FBT1AsTUFBTTtBQUFBLEVBQ3ZDUSxRQUFRO0FBQUEsRUFFUkMsU0FBUztBQUFBLEVBQ1RDLFlBQVk7QUFBQSxFQUVaQyxRQUFRO0FBQUEsRUFFUkMsVUFBVTtBQUFBLElBQ1JDLE9BQU87QUFBQSxNQUNMQyxTQUFTO0FBQUEsUUFDUEgsUUFBUTtBQUFBLE1BQ1Y7QUFBQSxNQUNBSSxVQUFVO0FBQUEsUUFDUkosUUFBUTtBQUFBLE1BQ1Y7QUFBQSxJQUNGO0FBQUEsRUFDRjtBQUNGLENBQUM7QUFBRUssS0FsQkdWO0FBb0JDLGFBQU1XLGFBQXFDQyxHQUFHckI7QUFBQUEsRUFBSXNCLE1BQUFEO0FBQUFBLElBQ3ZELENBQUMsRUFBRUUsTUFBTUwsVUFBVU0sY0FBY0MsWUFBNkIsTUFBTTtBQUFBSixTQUFBO0FBQ2xFLFlBQU1LLGtCQUFrQkEsTUFBTTtBQUM1QixZQUFJUixVQUFVO0FBQ1o7QUFBQSxRQUNGO0FBRUFPLHNCQUFjO0FBQUEsTUFDaEI7QUFFQSxZQUFNRSxzQkFBc0JBLENBQzFCQyxVQUNHO0FBQ0hBLGNBQU1DLGVBQWU7QUFDckIsWUFBSVgsVUFBVTtBQUNaO0FBQUEsUUFDRjtBQUNBLFlBQUlVLE1BQU1FLFdBQVdGLE1BQU1HLFdBQVcsR0FBRztBQUN2Q0MsaUJBQU9DLEtBQUssS0FBSyxRQUFRO0FBQUEsUUFDM0I7QUFBQSxNQUNGO0FBRUEsWUFBTUMsV0FBV2pDLFlBQVk7QUFFN0IsWUFBTWtDLGtCQUFrQkgsT0FBT0ksY0FBYztBQUU3QyxhQUNFLG1DQUNFO0FBQUEsUUFBQztBQUFBO0FBQUEsVUFDQyxTQUFTVjtBQUFBQSxVQUNULGFBQWFDO0FBQUFBLFVBQ2IsT0FBT1QsV0FBVyxhQUFhO0FBQUEsVUFFL0IsaUNBQUMsZUFDRU0seUJBQ0MsdUJBQUMsV0FBUSxPQUFNLFFBQU8sUUFBTyxVQUE3QjtBQUFBO0FBQUE7QUFBQTtBQUFBLGlCQUFtQyxJQUNqQ1UsV0FDRix1QkFBQyxpQkFBYyxRQUFPLFVBQXRCO0FBQUE7QUFBQTtBQUFBO0FBQUEsaUJBQTRCLElBQzFCQyxrQkFDRjtBQUFBLFlBQUM7QUFBQTtBQUFBLGNBQ0MsS0FBSztBQUFBLGdCQUNIdkIsU0FBUztBQUFBLGdCQUNUeUIsZ0JBQWdCO0FBQUEsZ0JBQ2hCeEIsWUFBWTtBQUFBLGdCQUNaeUIsS0FBSztBQUFBLGNBQ1A7QUFBQSxjQUVBO0FBQUEsdUNBQUMsV0FBUSxRQUFRLElBQUksT0FBTyxNQUE1QjtBQUFBO0FBQUE7QUFBQTtBQUFBLHVCQUErQjtBQUFBLGdCQUMvQjtBQUFBLGtCQUFDO0FBQUE7QUFBQSxvQkFDQyxLQUFLO0FBQUEsc0JBQ0hDLE9BQU87QUFBQSxzQkFDUEMsWUFBWTtBQUFBLHNCQUNaQyxVQUFVO0FBQUEsc0JBQ1ZDLFlBQVk7QUFBQSxzQkFDWkMsWUFBWTtBQUFBLHNCQUVaQyxVQUFVO0FBQUEsb0JBQ1o7QUFBQSxvQkFBRTtBQUFBO0FBQUEsa0JBVEo7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBLGdCQVlBO0FBQUE7QUFBQTtBQUFBLFlBckJGO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQSxVQXNCQSxJQUVBLHVCQUFDLGtCQUFlLFFBQU8sVUFBdkI7QUFBQTtBQUFBO0FBQUE7QUFBQSxpQkFBNkIsS0E5QmpDO0FBQUE7QUFBQTtBQUFBO0FBQUEsaUJBZ0NBO0FBQUE7QUFBQSxRQXJDRjtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUEsTUFzQ0EsS0F2Q0Y7QUFBQTtBQUFBO0FBQUE7QUFBQSxhQXdDQTtBQUFBLElBRUo7QUFBQSxJQUFDO0FBQUE7QUFBQTtBQUFBLGNBL0NrQjNDLFdBQVc7QUFBQTtBQUFBO0FBZ0RoQyxHQUFDO0FBQUEsVUFoRG9CQSxXQUFXO0FBQUE7QUFnRDlCNEMsTUF0RVd6QjtBQXdFYixlQUFlQTtBQUFXLElBQUFELElBQUFHLEtBQUF1QjtBQUFBQyxhQUFBM0IsSUFBQTtBQUFBMkIsYUFBQXhCLEtBQUE7QUFBQXdCLGFBQUFELEtBQUEiLCJuYW1lcyI6WyJtZW1vIiwidXNlSXNNb2JpbGUiLCJUZXh0UyIsIlZpZXciLCJWaWV3VkNlbnRlciIsIlJlYWN0Q29tcG9uZW50IiwiRGVza3RvcExvZ29TVkciLCJMb2dvU1ZHIiwiTW9iaWxlTG9nb1NWRyIsIkhlYWRlckxvZ29Db250YWluZXIiLCJzdHlsZWQiLCJoZWlnaHQiLCJkaXNwbGF5IiwiYWxpZ25JdGVtcyIsImN1cnNvciIsInZhcmlhbnRzIiwic3RhdGUiLCJlbmFibGVkIiwiZGlzYWJsZWQiLCJfYyIsIkhlYWRlckxvZ28iLCJfcyIsIl9jMiIsInR5cGUiLCJzaG93SWNvbk9ubHkiLCJvbkxvZ29DbGljayIsImhhbmRsZUxvZ29DbGljayIsImhhbmRsZUxvZ29Nb3VzZURvd24iLCJldmVudCIsInByZXZlbnREZWZhdWx0IiwibWV0YUtleSIsImJ1dHRvbiIsIndpbmRvdyIsIm9wZW4iLCJpc01vYmlsZSIsImlzVjIwUHJvbXB0UGFnZSIsImlubmVyV2lkdGgiLCJqdXN0aWZ5Q29udGVudCIsImdhcCIsImNvbG9yIiwiZm9udEZhbWlseSIsImZvbnRTaXplIiwiZm9udFdlaWdodCIsImxpbmVIZWlnaHQiLCJ0ZXh0V3JhcCIsIl9jMyIsIiRSZWZyZXNoUmVnJCJdLCJzb3VyY2VzIjpbIkhlYWRlckxvZ28udHN4Il0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHN0eWxlZCB9IGZyb20gXCJAc3RpdGNoZXMvcmVhY3RcIjtcbmltcG9ydCB7IG1lbW8gfSBmcm9tIFwicmVhY3RcIjtcblxuaW1wb3J0IHsgdXNlSXNNb2JpbGUgfSBmcm9tIFwiaG9va3MvdXNlSXNNb2JpbGVcIjtcblxuaW1wb3J0IHsgVGV4dFMsIFZpZXcsIFZpZXdWQ2VudGVyIH0gZnJvbSBcImNvbXBvbmVudHMvQ29yZVwiO1xuXG5pbXBvcnQgeyBSZWFjdENvbXBvbmVudCBhcyBEZXNrdG9wTG9nb1NWRyB9IGZyb20gXCJpY29ucy9kZXNrdG9wLWxvZ28uc3ZnXCI7XG5pbXBvcnQgeyBSZWFjdENvbXBvbmVudCBhcyBMb2dvU1ZHIH0gZnJvbSBcImljb25zL2xvZ28uc3ZnXCI7XG5pbXBvcnQgeyBSZWFjdENvbXBvbmVudCBhcyBNb2JpbGVMb2dvU1ZHIH0gZnJvbSBcImljb25zL21vYmlsZS1sb2dvLnN2Z1wiO1xuXG5leHBvcnQgaW50ZXJmYWNlIEhlYWRlckxvZ29Qcm9wcyB7XG4gIHR5cGU6IFwiYmx1ZVwiIHwgXCJwdXJwbGVcIjtcbiAgb25Mb2dvQ2xpY2s/OiAoKSA9PiB2b2lkO1xuICBvbkxvZ29Db21tYW5kQ2xpY2s/OiAoKSA9PiB2b2lkO1xuICBkaXNhYmxlZD86IGJvb2xlYW47XG4gIHNob3dJY29uT25seT86IGJvb2xlYW47XG59XG5cbmNvbnN0IEhlYWRlckxvZ29Db250YWluZXIgPSBzdHlsZWQoVmlldywge1xuICBoZWlnaHQ6IFwiMTAwJVwiLFxuXG4gIGRpc3BsYXk6IFwiZmxleFwiLFxuICBhbGlnbkl0ZW1zOiBcImNlbnRlclwiLFxuXG4gIGN1cnNvcjogXCJwb2ludGVyXCIsXG5cbiAgdmFyaWFudHM6IHtcbiAgICBzdGF0ZToge1xuICAgICAgZW5hYmxlZDoge1xuICAgICAgICBjdXJzb3I6IFwicG9pbnRlclwiLFxuICAgICAgfSxcbiAgICAgIGRpc2FibGVkOiB7XG4gICAgICAgIGN1cnNvcjogXCJub3QtYWxsb3dlZFwiLFxuICAgICAgfSxcbiAgICB9LFxuICB9LFxufSk7XG5cbmV4cG9ydCBjb25zdCBIZWFkZXJMb2dvOiBSZWFjdC5GQzxIZWFkZXJMb2dvUHJvcHM+ID0gbWVtbyhcbiAgKHsgdHlwZSwgZGlzYWJsZWQsIHNob3dJY29uT25seSwgb25Mb2dvQ2xpY2sgfTogSGVhZGVyTG9nb1Byb3BzKSA9PiB7XG4gICAgY29uc3QgaGFuZGxlTG9nb0NsaWNrID0gKCkgPT4ge1xuICAgICAgaWYgKGRpc2FibGVkKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cblxuICAgICAgb25Mb2dvQ2xpY2s/LigpO1xuICAgIH07XG5cbiAgICBjb25zdCBoYW5kbGVMb2dvTW91c2VEb3duID0gKFxuICAgICAgZXZlbnQ6IFJlYWN0Lk1vdXNlRXZlbnQ8SFRNTERpdkVsZW1lbnQsIE1vdXNlRXZlbnQ+LFxuICAgICkgPT4ge1xuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIGlmIChkaXNhYmxlZCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpZiAoZXZlbnQubWV0YUtleSB8fCBldmVudC5idXR0b24gPT09IDEpIHtcbiAgICAgICAgd2luZG93Lm9wZW4oXCIvXCIsIFwiX2JsYW5rXCIpO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBjb25zdCBpc01vYmlsZSA9IHVzZUlzTW9iaWxlKCk7XG5cbiAgICBjb25zdCBpc1YyMFByb21wdFBhZ2UgPSB3aW5kb3cuaW5uZXJXaWR0aCA+PSA2NDA7XG5cbiAgICByZXR1cm4gKFxuICAgICAgPD5cbiAgICAgICAgPEhlYWRlckxvZ29Db250YWluZXJcbiAgICAgICAgICBvbkNsaWNrPXtoYW5kbGVMb2dvQ2xpY2t9XG4gICAgICAgICAgb25Nb3VzZURvd249e2hhbmRsZUxvZ29Nb3VzZURvd259XG4gICAgICAgICAgc3RhdGU9e2Rpc2FibGVkID8gXCJkaXNhYmxlZFwiIDogXCJlbmFibGVkXCJ9XG4gICAgICAgID5cbiAgICAgICAgICA8Vmlld1ZDZW50ZXI+XG4gICAgICAgICAgICB7c2hvd0ljb25Pbmx5ID8gKFxuICAgICAgICAgICAgICA8TG9nb1NWRyB3aWR0aD1cIjI1cHhcIiBoZWlnaHQ9XCIyNXB4XCIgLz5cbiAgICAgICAgICAgICkgOiBpc01vYmlsZSA/IChcbiAgICAgICAgICAgICAgPE1vYmlsZUxvZ29TVkcgaGVpZ2h0PVwiMjdweFwiIC8+XG4gICAgICAgICAgICApIDogaXNWMjBQcm9tcHRQYWdlID8gKFxuICAgICAgICAgICAgICA8Vmlld1xuICAgICAgICAgICAgICAgIGNzcz17e1xuICAgICAgICAgICAgICAgICAgZGlzcGxheTogXCJmbGV4XCIsXG4gICAgICAgICAgICAgICAgICBqdXN0aWZ5Q29udGVudDogXCJjZW50ZXJcIixcbiAgICAgICAgICAgICAgICAgIGFsaWduSXRlbXM6IFwiY2VudGVyXCIsXG4gICAgICAgICAgICAgICAgICBnYXA6IDgsXG4gICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIDxMb2dvU1ZHIGhlaWdodD17MjB9IHdpZHRoPXsyMH0gLz5cbiAgICAgICAgICAgICAgICA8VGV4dFNcbiAgICAgICAgICAgICAgICAgIGNzcz17e1xuICAgICAgICAgICAgICAgICAgICBjb2xvcjogXCIkd2hpdGVcIixcbiAgICAgICAgICAgICAgICAgICAgZm9udEZhbWlseTogXCJJbnRlclwiLFxuICAgICAgICAgICAgICAgICAgICBmb250U2l6ZTogMTgsXG4gICAgICAgICAgICAgICAgICAgIGZvbnRXZWlnaHQ6IDcwMCxcbiAgICAgICAgICAgICAgICAgICAgbGluZUhlaWdodDogXCIyNHB4XCIsXG5cbiAgICAgICAgICAgICAgICAgICAgdGV4dFdyYXA6IFwibm93cmFwXCIsXG4gICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgIGludmlkZW8gQUlcbiAgICAgICAgICAgICAgICA8L1RleHRTPlxuICAgICAgICAgICAgICA8L1ZpZXc+XG4gICAgICAgICAgICApIDogKFxuICAgICAgICAgICAgICA8RGVza3RvcExvZ29TVkcgaGVpZ2h0PVwiMzdweFwiIC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvVmlld1ZDZW50ZXI+XG4gICAgICAgIDwvSGVhZGVyTG9nb0NvbnRhaW5lcj5cbiAgICAgIDwvPlxuICAgICk7XG4gIH0sXG4pO1xuXG5leHBvcnQgZGVmYXVsdCBIZWFkZXJMb2dvO1xuIl0sImZpbGUiOiIvVXNlcnMvYS1jLXNyZWVkaGFyLXJlZGR5L2ludmlkZW8vaXYtcHJvL2l2LXByby13ZWIvd2ViL3NyYy9jb21wb25lbnRzL0hlYWRlci9IZWFkZXJMb2dvLnRzeCJ9/HeaderLogo.tsx:41' does not exist on this computer.
```

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-06-14T09:22:54Z,3,2,https://github.com/facebook/react/issues/29895,Syntax Error
90,facebook/react,[Compiler Bug]: Compiler incorrectly removes memoization of an expensive operation in useMemo,"### What kind of issue is this?

- [X] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [ ] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhAMygOzgFwJYSYAEUYCAsgJ4ASEEA1gBQCGAlEcADrFFyFg4iaOkQC8JMuQQBbCI0btRAPg7ci63v0GRpCHAAs8mAOZiiCAB4AHBJjB4AbghasA3Go0w9sYsyIBqIh09QxN3HgBfABoiAG1mAF1WDy8cHyE6cIiQCKA

### Repro steps

The compiler seems to incorrectly erase memoization of possibly expensive operations using `useMemo` in some cases.

Compare the compiler output of the two similar examples, in the first all memoization will be replaced, in the 2nd it will be correctly added in

```
// all memoization is removed, incorrectly
function useMyHook(a) {
  const foo = useMemo(() => {
    const something = expensive(a);
    return a + something;
  }, [a])
  return foo;
}

```

```
// memoization is preserved/added, correctly
function useMyHook(a) {
  const foo = useMemo(() => {
    const something = expensive(a);
    return something;
  }, [a])
  return foo;
}

```

I believe this is a byproduct of how memoization is dependent on the `return` value.

Another side effect of that decision (although already a rule break) is that someone incorrectly using `useMemo` instead of `useEffect` would likely force that effect to run every render (regardless of their deps array that would normally prevent it)



### How often does this bug happen?

Every time

### What version of React are you using?

v17.0.2","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-06-13T20:40:41Z,5,0,https://github.com/facebook/react/issues/29892,Logical Bug
91,facebook/react,Bug: onPointerDown not called when rendered in 'display: contents' root,"`onPointerDown` listeners are not called in iOS Safari when a React application is rendered within an element that has the `display: contents` CSS rule. This issue seems to be specific to iOS, as it works fine on macOS and Windows.

This bug was discovered through a report in the Astro framework. A user noted that a React component became unclickable after a View Transition, which Astro emulates using JavaScript. Upon investigation, I traced the issue to elements with the `display: contents` rule.

The issue may be related to the `trapClickOnNonInteractiveElement` hack. When a fake `pointerdown` listener is added, the bug disappears and everything works correctly. However, I haven't found any documentation on this behavior, so this is just a hypothesis.

React version: 18.3.1

## Steps To Reproduce

Render React component with <button onPointerDown={() => console.log('called')}>Click me</button> in an element with `display: contents` applied. Try clicking the button in iOS Safari.

See [this page](https://v3ron.github.io/react-pointer-down-ios-bug/) for reproduction.
See [this repository](https://github.com/V3RON/react-pointer-down-ios-bug) for source code.

## The current behavior

`onPointerDown` listener is not called

## The expected behavior

`onPointerDown` listener should be called
","['Type: Bug', 'Component: DOM']",2024-06-13T17:45:37Z,5,8,https://github.com/facebook/react/issues/29890,UI/UX Bug
92,facebook/react,[React 19] Controlled number input does not update defaultValue when value prop has changed,"## Summary

Controlled inputs with the `type=number` are not setting the `defaultValue` when the value state is altered. This causes the state and value to become out of sync when a form is reset (for instance after a form action is sent).

<img width=""313"" alt=""Screenshot 2024-06-11 at 1 12 08?PM"" src=""https://github.com/facebook/react/assets/1565184/636f1974-1e36-4742-9075-58ee35a87882"">


https://codesandbox.io/p/github/BrendonSled/react-19-controlled-input-number-bug/","['Type: Bug', 'React 19']",2024-06-11T19:15:35Z,6,3,https://github.com/facebook/react/issues/29862,Logical Bug
93,facebook/react,[Compiler Bug]: Runtime error with Higher Order Components,"### What kind of issue is this?

- [X] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [ ] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://codesandbox.io/p/devbox/vite-react-forked-w7lfc7?file=%2Fsrc%2FApp.tsx&workspaceId=5309445f-fc83-4685-b2a0-3050725a1482

### Repro steps

We're just going through our codebase and fixing issues that we're getting when enabling the compiler.

Not sure if this is something we are doing wrong, or a compiler issue.

We get 'TypeError: Cannot read properties of null (reading 'useMemoCache')' when running something similar to the following code in NextJS (minimal repro):

Passing in a string as ElementType seems to be something that's fairly commonly recommended (https://www.aleksandrhovhannisyan.com/blog/dynamic-tag-name-props-in-react/ is the first result on Google for me).

```
import React, { ElementType, FC } from ""react"";

function TagChangingHOC(Tag: ElementType): FC<{text: string}> {
    return function({text}) {
        return <Tag>{text}</Tag>
    }
}

const DivTag = TagChangingHOC('div');
const SpanTag = TagChangingHOC('span');

export default function MyApp() {
    return (<> <DivTag text=""foo""/> <SpanTag text=""bar""/> </>)
}
```

https://playground.react.dev/#N4Igzg9grgTgxgUxALhAHQHaYGZQ3AFwEsIMACAFQEMBzAYQAsqMaiWAJAeToApqaAlGWCYyZGAgKxyufMVJkewMgQQAPAmQC+QkeTHjJ0sgB5+APmCqNWkwHoLo7Zi2ZMcUmE0ARIgDd+MgBeSlpGZlYObh4AcgATfxiBAG53T00AZQAHZkCQ-nCWNhouXhiwHIwk1KwMdSyIGE04hGwqKAAbTVlCEnIAWQBPAEEsrJ5dJwkpGHIeE3NTXwDaFXUCILQQbAgILbtFk2zc1esNrYAjKhh9w4OBF0wQLSA


I'm very happy to accept an alternative solution if this is too much of an edge case.



### How often does this bug happen?

Every time

### What version of React are you using?

19.0.0-rc.0","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-06-04T14:19:13Z,2,0,https://github.com/facebook/react/issues/29755,Runtime Error
94,facebook/react,[Compiler Bug]: healthcheck vs eslint,"### What kind of issue is this?

- [ ] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [X] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [X] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

n/a

### Repro steps

I've ran the healthcheck against my app which states that 72 out of 80 components have been compiled. The documentation states the higher the better. I don't have any eslint violations (there were 2 but those have been fixed). The app is working with some good improvements, so thanks!

```
% npx react-compiler-healthcheck@latest

Successfully compiled 72 out of 80 components.
StrictMode usage found.
Found no usage of incompatible libraries.
```

So how do i find the remaining components? Should there not be a minimum of 8 eslint violations or is that not how it works? What's the recommended approach to getting all 80 optimised?

### How often does this bug happen?

Every time

### What version of React are you using?

19.0.0-rc-38e3b23483-20240529","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-05-31T05:32:01Z,1,0,https://github.com/facebook/react/issues/29677,Logical Bug
95,facebook/react,[DevTools Bug]: Unable to edit props,"### Website or app

https://react.dev/

### Repro steps

## Steps to reproduce
1. Navigate to the website (i.e. [React Dev](https://react.dev/))
2. Open React Developer Tools
3. Select an element in the page to inspect the component
4. Try to edit the props, they appear to be read-only

## Demo

> attempt to edit props not working

![Kapture 2024-05-29 at 12 59 10](https://github.com/facebook/react/assets/25286675/dbd8aca8-0cd4-470d-b5ab-75437f857418)

## Extension info

<img width=""418"" alt=""image"" src=""https://github.com/facebook/react/assets/25286675/fdee9f6a-feb3-480f-ac03-038ca403f1ea"">


### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-05-29T17:03:30Z,1,0,https://github.com/facebook/react/issues/29651,Syntax Error
96,facebook/react,[DevTools Bug]: devtools does not works on null origin(sandbox),"### Website or app

none

### Repro steps

## How to reproduce?
Using the development version of React on a local server with sandbox specified in the Content-Security-Policy header reproduces this problem.
For example, in webpack-dev-server, apply the following configuration: 
```ts
  devServer: {
    headers: {
      ""Content-Security-Policy"": ""sandbox allow-scripts"",
      ""Access-Control-Allow-Origin"": ""*"",
    },
  },
```


### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-05-29T12:44:16Z,0,0,https://github.com/facebook/react/issues/29647,Syntax Error
97,facebook/react,[Compiler Bug]: react native reanimated shared value mutation,"### What kind of issue is this?

- [ ] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [X] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [X] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://github.com/AlirezaHadjar/react-compiler-shared-value-bug

### Repro steps

Hi, 
I'm using polyfill in react native to get the compiler working and noticing that the compiler is complaining about reanimated shared value mutations which is a very common pattern in [react native](https://docs.swmansion.com/react-native-reanimated/docs/fundamentals/your-first-animation/#using-a-shared-value).

```tsx
  const onPress = () => {
    translateX.value = withTiming((Math.random() - 0.5) * 100);
  };
```
![Screenshot 2024-05-29 at 12 40 14?PM](https://github.com/facebook/react/assets/57192409/dc33fd69-0637-4575-801d-5b31977f350a)

And the health-check command also confirms that `App.tsx` is not compiled.

![Screenshot 2024-05-29 at 12 42 33?PM](https://github.com/facebook/react/assets/57192409/c4d685ba-b775-4e12-a5ce-c68f1ed68fc1)

Steps to build the project:
1. yarn install
2. yarn ios

@josephsavona this is the issue that we discussed on [Twitter](https://x.com/alireza_hadjar/status/1795575101670519124?s=46&t=HIMTmQZ1qNgFDe3f7YV9kQ)


### How often does this bug happen?

Every time

### What version of React are you using?

18.2","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-05-29T09:16:03Z,6,1,https://github.com/facebook/react/issues/29640,Logical Bug
98,facebook/react,[Compiler Bug]: Health check --src option only works with one file (so a glob needs to be quoted),"### What kind of issue is this?

- [ ] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [ ] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [X] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

Any project with several component files (e.g. https://github.com/guillaumebrunerie/LD55)

### Repro steps

Running the compiler health check with a normal glob only checks the first file it finds:
```
> npx react-compiler-healthcheck --src src/**/*.{tsx,ts}
Successfully compiled 1 out of 1 components.
```
This is a bit surprising as most command line utilities handle multiple input files, here we need to quote the glob to have it work as intended:
```
> npx react-compiler-healthcheck --src ""src/**/*.{tsx,ts}""
Successfully compiled 379 out of 399 components.
```

I would suggest making the first one work as well, that is the `--src` argument should accept an arbitrary number of files and process all of them.

### How often does this bug happen?

Every time

### What version of React are you using?

-","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-05-29T08:57:33Z,2,0,https://github.com/facebook/react/issues/29639,
99,facebook/react,"[DevTools Bug]: version 5.2.0  icon opien in editor cannot click , color is gray","### Website or app

https://github.com/YingchenWang999/react-demo

### Repro steps

cd  react-demo   
npm run dev 
 open in chrome 
open reactdevtools 
set open in editor url  is vscode 
choose seletor component 

see 

<img width=""1509"" alt=""image"" src=""https://github.com/facebook/react/assets/56105589/07538d58-2fb1-4745-a4a6-969fbd22b7b4"">



### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-05-25T03:47:26Z,0,1,https://github.com/facebook/react/issues/29588,UI/UX Bug
100,facebook/react,[React 19] React 19 runs extra effects when elements are reordered,"## Summary

When React elements with stable keys are reordered with no other prop changes, React 19 re-runs their effects even though dependencies have not changed. This did not occur in React 18. In addition, this only happens for some of the elements, and not others. As far as we can tell, when reordering an earlier element to be later, the earlier element's effects are run, and the later element's are not. When reordering a later element to be earlier, no effects are run. In React 18, no effects are run in either case.

The below code sandboxes swap the keys of two elements to simulate re-ordering. When the keys are swapped, the first element's effects run but the second's do not. In React 18, no effects are run.

We think React 18's behavior is correct: since no dependencies have changed and the component is not being unmounted and remounted, it should not call any effects.

Note that this only happens in strict mode. Without strict mode, no effects are run.

**Steps:**
* Open sandbox and open console.
* After initial load, clear the js console.
* Click the swap button.

Note that the effects run for the first element, but not the second.

* [React 19 Sandbox](https://codesandbox.io/p/sandbox/rough-worker-xfptmg?file=%2Fsrc%2FApp.js%3A1%2C1-24%2C1)
* [React 18 Sandbox](https://codesandbox.io/p/sandbox/rough-worker-forked-y6jht6?file=%2Fsrc%2FApp.js%3A24%2C1)

It appears this changed between the last 18.3 canary, and the first 19 canary:
* Not working - [19.0.0-canary-2b036d3f1-20240327](https://www.npmjs.com/package/react/v/19.0.0-canary-2b036d3f1-20240327)
* Working - [18.3.0-canary-c3048aab4-20240326](https://www.npmjs.com/package/react/v/18.3.0-canary-c3048aab4-20240326)

## Context

We noticed this in our tests while upgrading React Aria to React 19. However, it does not only occur in tests, it also occurs in development builds in browser. Specifically, we are seeing this in our drag and drop implementation, where users can drag to reorder elements in a list. The extra effects are causing our code to emit additional events compared with React 18.

cc. @LFDanLu @snowystinger","['Type: Bug', 'React 19']",2024-05-25T00:28:02Z,1,8,https://github.com/facebook/react/issues/29585,UI/UX Bug
101,facebook/react,[Compiler Bug]: Usage of `in` operator is reported as a syntax error,"### What kind of issue is this?

- [X] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [ ] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhHCA7MAXABAQ1wF5dgBfAHQwDMoM5sBLTXAZQgFsFsALRjAOYAKAJSkquXI2q4hAcnxypGAmOATJuGN1gqFcjZRVadMPQCMDGMiDJA

### Repro steps

Any code with an `in` is reported as a syntax error

```js
const a = {}
function Something() {
  if ('a' in a) {
    return 'a'
  }
  return 'b'
}
```

### How often does this bug happen?

Every time

### What version of React are you using?

0.0.0-experimental-592953e-20240517","['Type: Bug', 'Component: Optimizing Compiler']",2024-05-23T06:00:51Z,3,0,https://github.com/facebook/react/issues/29227,Syntax Error
102,facebook/react,[Compiler Bug]: Can't handle identifiers that refer to both type and value ,"### What kind of issue is this?

- [ ] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [X] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [ ] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhASwLYAcIwC4AEwBAwhBhggHZ4BKCAhnHmhFQQL4EBmM5BAHRAA6APR4AnlgRghAbgFVFaGghjcmCAgAU+WMEUUECMRs1ZVkpcpRr0mLNgqodFi7lCrm21itTpmjlQAFMSmDhacVroQ+gCUhuwmCHiw7FRQADaZzq5UIBxAA

### Repro steps

Apply React Compiler to 
```tsx
import { CommentReaction } from ""./types"";

interface Props {
  reaction: CommentReaction;
}

function CommentReaction({ reaction }: Props) {
  return null;
}
```

resulting JS issues `TypeError: Duplicate declaration ""CommentReaction""` when passed through `babel-plugin-react-compiler`. The playground produces a build error.

This is easily fixable by changing the code to 
```diff
-import { CommentReaction } from ""./types"";
+import { type CommentReaction } from ""./types"";
```

The original code is actually valid TypeScript (though I would not recommend authoring it this way). Despite `CommentReaction` being both a type and value, TypeScript is able to distinguish when it's used as a value vs type.

### How often does this bug happen?

Every time

### What version of React are you using?

19.0.0-beta-04b058868c-20240508","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-05-22T22:28:15Z,3,1,https://github.com/facebook/react/issues/29224,Logical Bug
103,facebook/react,[Compiler Bug]: A bug with i18n translation after react compiler,"### What kind of issue is this?

- [X] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [ ] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://github.com/YYGod0120/yyblog

### Repro steps

1. Change the var in `app/[language]/components/Typewrite.tsx` to const (use var to skip the compiler and fix the bug)
2. use `pnpm dev` to start project
3. Click twice on the `lanswitcher`  and find that the `Banner` is not translated after the second click.

### How often does this bug happen?

Every time

### What version of React are you using?

v19.0.0-rc-3f1436cca1-20240516","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-05-21T11:57:09Z,3,0,https://github.com/facebook/react/issues/29195,Logical Bug
104,facebook/react,[DevTools Bug]: Icon bug in Edge DevTools,"### Website or app

https://www.facebook.com/

### Repro steps

1. Have React DevTools extension installed (Version `5.2.0 from revision 1717ab0171 on 5/8/2024`)
2. Open page with React in Edge (Version `125.0.2535.51 (Official build) (64-bit)`)
3. Open Edge DevTools
4. See these weird gray blobs next to the actual tab icon:

![image](https://github.com/facebook/react/assets/142162/909705d4-ccc8-42d4-9b06-5a9a94233b38)


### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-05-21T09:38:19Z,2,0,https://github.com/facebook/react/issues/29191,UI/UX Bug
105,facebook/react,[Compiler Bug]: Values used as indexes are not memoized,"### What kind of issue is this?

- [X] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [ ] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhAMygOzgFwJYSYAEAwhALYAOhCmOAFMEQG4CGANlAkQL4CURYAB1iROITA4ieTABMEADyIBeIosq0weZggBiWXAUz02nBHxFEi7BFOg5KUKatNcwAbRnyFAXQDclkQA9EH2js7ScooBojC2sMQAPLLaAHzAYU48iUEpzKkxPDEgPEA

### Repro steps

In the code below, the call to `expensiveFunction(value)` does not appear to be memoized (it is preserved as is at the top level in the JS output).

This seems to be due to it being used as an index in `let output = values[index]`, because when setting `output` to be `index` itself instead, it gets memoized properly.

Code:
```js
function Component({ value }) {
  const index = expensiveFunction(value)
  let output = values[index];
  //output = index;
  return <div>{output}</div>;
};
```

**_Edit:_** 
Additionally, if `index` was manually memoized with `useMemo`, the compiler will remove the manual memoization, resulting in potentially much slower code than the original code.

### How often does this bug happen?

Every time

### What version of React are you using?

19","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-05-20T10:21:44Z,5,0,https://github.com/facebook/react/issues/29172,Performance Issue
106,facebook/react,[Compiler Bug]: false positive when using hooks in a nested component,"### What kind of issue is this?

- [ ] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [X] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhAgHgBwjALgAgBMEAzAQygBsCSoA7OXASwjvwFkBPAQU0wAoAlPmAAdNvjiswBANoBbaHVwJCAGnxgEudkpWEAuvgC8+KFoDKuMiv7lKWwePyTpBAJJ06CGAGEI8tjeyiZmWr5klJQARmRwANZ29IwsbJ7efgFBCMpCIs4uYQgAoiQkCIz8ecYAfPkShZrauvT6-LgwUAiCANwFLgC+GrIGveL9+DDasGwAPIRMAG41TF4+swD0C8t9EkP4I2N0BVO4M-izAGIQEK6BrDm4xsDpPv73wbgD+Bs1uwPjOi0BjMVj4a4QfiYGAQTBgYRiCSnc6zaGwsAAOikH0ePxq4gGIAGQA

### Repro steps

The ESLint plugin for React Compiler seems to not recognise inner function components as components, so it reports an error when you try to use hooks inside such nested components. `eslint-plugin-react-hooks` does recognise this pattern and doesnt warn about it.

> Hooks must be called at the top level in the body of a function component or custom hook, and may not be called within function expressions. See the Rules of Hooks (https://react.dev/warnings/invalid-hook-call-warning).

I understand that defining a component like this isnt ideal because `useMemo` / `useCallback` dont have strong guarantees or can get invalidated due to dependencies changing, leading to remounts so would be good to know if code should be rewritten away from this pattern or whether this is a false positive that will eventually get resolved. 

### How often does this bug happen?

Every time

### What version of React are you using?

19.0.0-rc-3f1436cca1-20240516","['Type: Bug', 'Component: Optimizing Compiler']",2024-05-19T03:57:44Z,8,1,https://github.com/facebook/react/issues/29165,Logical Bug
107,facebook/react,[DevTools Bug]: Version 5.2 shows incorrect source for all the components,"### Website or app

https://github.com/codedthemes/mantis-free-react-admin-template/

### Repro steps

1. npm install
2. npm run start

Point to any component in the page (for example the text ""Hi, Welcome back ??"") , you will see the the source is wrong
it points to the build tool output chunk file and not to the source of the file in the project.
This is how it displays it now
<img width=""266"" alt=""image"" src=""https://github.com/facebook/react/assets/18378585/4599adf5-42ef-416b-837c-67da92584acc"">
This should point to the source in the project, the `fileName` should point to the file inside the `src` directory, as pointing to the output chunk is pointless for debug reasons.
Thank you


### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-05-19T02:48:48Z,2,0,https://github.com/facebook/react/issues/29164,Logical Bug
108,facebook/react,[Compiler Bug]: Compiler disagrees with `exhaustive-deps` linter on whether `React.Ref<T>.current` must be in a deps array,"### What kind of issue is this?

- [X] React Compiler core (the JS output is incorrect, or your app works incorrectly after optimization)
- [ ] babel-plugin-react-compiler (build issue installing or using the Babel plugin)
- [ ] eslint-plugin-react-compiler (build issue installing or using the eslint plugin)
- [ ] react-compiler-healthcheck (build issue installing or using the healthcheck script)

### Link to repro

https://playground.react.dev/#N4Igzg9grgTgxgUxALhAMygOzgFwJYSYAEUYCA6hDANYIwAUAlEcADrFFyFg5EDuVWjABKCNEQC8JMqLT1MUADaLGAbnbsi0hAFE0aBLnpNJAPhaat-QXVkA6OLBgJMvKZgR8ilGnXqsQOwB6AV8YOwArMAC1Sy1QoTtCAFsEMDAAQwBzBEkiegRmCXM2DitObghFBDtFCCz-EABZNMycojQYCGTrMLt+gIAaIkL1MqIAXzHy5xxYYhNii3H4mxExAH47HDpkvEwMnaZp8t6he0cYZ1c8hWUTrSnLCdjMS1n5s9sxMYmNTAw2HwhCITQytAAgj4hCZSlouJgeF91uIpKQKGtjv8tEEAFS4uK4ogASXEAE9oJwABYZTDtAAGCW+aHpRBwECIjLWFycLhw9OGOCpCEJFWSAAc8NUYPwpYoxZLqmyqXgwBUACa5LhXQw4RRkuyi0UAISgvCFuQg+jwcDwGXlCAAHjTSPgAG4IAC0mvFasU+x2Mr4cuVXS8QtVor4GRgmH2WSIhyIFKgyCNZSJogyuCIAAkIBBqEQs7g7OiAML2xQAI2zRZpatpJEwHkQ6RjZKIPpcmuwZLTGaIAHImSiHLzXEO7EQdHgLTKnXBFFBNUQ50QqERnMkIB7lSLB93ML24J2YzAMgbQWaMtWlW77VA0kR-bRh6OeTrJ6KYy4h7wH39dUuwQcUexcW1n2rQwMnRIhkhvfA6X3Hp1QgNJMH-UVnE9a5NRlC0FUIPk7DSf1XGcbMcE9KkC2oMAgidF0eDwD1vVA6JB1FMiA0o3AaLohimNgli2J9TirFxIJLARJEaWPapy39OAizRMhK2UWsVOMIoSjiZFP2uHAtnFCAeBadscnoIclxtWhgJBQjqzNdlMNeR5hgAbX0j8xEGfSgiCAyxHHL8cH8jgAF1XneBA5ljfJ9IAHmcnBXI3TAlLsiRgHk9VFOU6gJiIIJTEsV4JhACYgA

### Repro steps

I have a hook called `useWorker()` which creates and configures a WebWorker, returning it as a `React.RefObject<Worker>`, while careful to never perform a side effect during a render.

The compiler fails to compile my code as written, but succeeds if I specify `workerRef.current` as a dependency. But you're not supposed to express `Ref.current` as a dependency, per the `react-hooks/exhaustive-deps` linter:

> React Hook `React.useCallback` has an unnecessary dependency: `'workerRef.current'`. Either exclude it or remove the dependency array. Mutable values like `'workerRef.current'` aren't valid dependencies because mutating them doesn't re-render the component. eslint[react-hooks/exhaustive-deps](https://github.com/facebook/react/issues/14920)

### How often does this bug happen?

Every time

### What version of React are you using?

React Playground on 2024-05-17","['Type: Bug', 'Status: Unconfirmed', 'Component: Optimizing Compiler']",2024-05-18T01:22:31Z,2,0,https://github.com/facebook/react/issues/29160,Runtime Error
109,facebook/react,Bug: Incorrect form data when using an image submit button,"<!--
  Please provide a clear and concise description of what the bug is. Include
  screenshots if needed. Please test using the latest version of the relevant
  React packages to make sure your issue has not already been fixed.
-->

React version: canary

## Steps To Reproduce

1. Render the following:
    ```jsx
    <>
      <form action={(formData) => console.log(new URLSearchParams(formData).toString())}>
        <button name=""submitter"" value=""vanilla"">Vanilla</button>
        <input type=""image"" name=""submitter"" href=""/some/image.png"" alt=""Image"" />
      </form>
   </>
    ```
2. Click on the image submit button

[Link to code example](https://codesandbox.io/p/sandbox/admiring-yalow-77vwdy?file=%2Fsrc%2FApp.js)

## The current behavior
`submitter=` is logged

## The expected behavior
Something like `submitter.x=5&submitter.y=10` should be logged

When an image submit button is activated, the form data set should include entries for the X and Y coordinates, indicating the relative position where the user clicked. This will keep the behavior consistent with a vanilla form submission ([MDN explainer](https://developer.mozilla.org/en-US/docs/Glossary/Submit_button#form_data_entries), relevant [section](https://html.spec.whatwg.org/#constructing-form-data-set) of the HTML spec)

## Additional commentary
We could probably just simplify all of [this code](https://github.com/facebook/react/blob/e7d213dfb0760dc9f6506fca6d6cfbac708a40e2/packages/react-dom-bindings/src/events/plugins/FormActionEventPlugin.js#L82-L103) to just `const formData = new FormData(form, submitter);` ... the submitter parameter is [widely available](https://caniuse.com/mdn-api_formdata_formdata_submitter) (91.52%); if we're concerned about browsers that don't support it, note that:
1. Many of them also [don't support `SubmitEvent.submitter`](https://caniuse.com/?search=SubmitEvent.submitter), which means the existing approach won't work for them either
2. FormData submitter can easily be [polyfilled](https://www.npmjs.com/package/formdata-submitter-polyfill) for developers that care about named submit buttons working correctly in old browsers

IMO React doesn't need to maintain its own hacky partial polyfill for an increasingly diminishing edge case :)

See some previous discussion on the topic [here](https://github.com/facebook/react/pull/26674/files/5a7629ddb4f22072e37ba1ae581977ce03bdf288#r1178495317).","['Type: Bug', 'React 19']",2024-05-08T00:40:11Z,3,0,https://github.com/facebook/react/issues/29018,Logical Bug
110,facebook/react,[DevTools Bug]: TypeError: ie.handlePostCommitFiberRoot is not a function,"### Website or app

https://codesandbox.io/s/goofy-bas-n5djr8

### Repro steps

I believe this is a bug when using React DevTools v4.x.x (not 5.x.x) with `react-dom@19.0.0-canary-xxx`. It currently errors in embeded code sandbox (which embeds v4 of DevTools) but not when you open in a new tab (I have DevTools 5.xx installed).

To repo, create an error boundary, and throw an error inside it using the 19 canary and v4 of DevTools.

Or, see the sandbox link above and:

1. View sandbox
2. Click ""throw error""
3. Observe ""handlePostCommitFiberRoot is not a function"" in console

### How often does this bug happen?

Every time

### DevTools package (automated)

embeded code sandbox version

### DevTools version (automated)

4.4.0-f749045a5

### Error message (automated)

handlePostCommitFiberRoot is not a function

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Component: Developer Tools', 'React 19']",2024-04-09T01:55:40Z,3,0,https://github.com/facebook/react/issues/28787,Logical Bug
111,facebook/react,[DevTools Bug] Children cannot be added or removed during a reorder operation.,"### Website or app

https://redeemerllc.com

### Repro steps

when searching the products


### How often does this bug happen?

Often

### DevTools package (automated)

react-devtools-extensions

### DevTools version (automated)

5.0.2-47cf347e4

### Error message (automated)

Children cannot be added or removed during a reorder operation.

### Error call stack (automated)

```text
at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1134857
    at A.emit (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1101500)
    at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1103188
    at bridgeListener (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1509150)
```


### Error component stack (automated)

_No response_

### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=Children cannot be added or removed during a reorder operation. in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react
```
","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-04-07T08:30:58Z,6,0,https://github.com/facebook/react/issues/28777,Logical Bug
112,facebook/react,[DevTools Bug]: Cant import chrome trace into react devtools,"### Website or app

https://tsk9sq.csb.app/

### Repro steps

1. Go to the page and open devtools
2. Go to performance tab and start recording
3. Interact with the application
4. Stop recording
5. Download trace
6. Upload to react devtools
7. Expected - React timeline tab should display trace
8. Actual - React devtools fails to import the trace and shows an error - ""e.sort is not a function. Try importing another Chrome performance profile.""
![image](https://github.com/facebook/react/assets/5317985/a292d82b-36d0-4924-9e9d-1681b60fe17a)

I think its is an issue with how we are parsing the chrome trace [here](https://github.com/facebook/react/blob/e3ebcd54b98a4f8f5a9f7e63982fa75578b648ed/packages/react-devtools-timeline/src/import-worker/importFile.js#L22C1-L23C1).
Chrome outputs the trace file in the following format:
```json
{
  ""traceEvents"": [
    {""name"": ""Asub"", ""cat"": ""PERF"", ""ph"": ""B"", ""pid"": 22630, ""tid"": 22630, ""ts"": 829},
    {""name"": ""Asub"", ""cat"": ""PERF"", ""ph"": ""E"", ""pid"": 22630, ""tid"": 22630, ""ts"": 833}
  ],
  ""displayTimeUnit"": ""ns"",
  ""systemTraceEvents"": ""SystemTraceData"",
  ""otherData"": {
    ""version"": ""My Application v1.0""
  },
  ""stackFrames"": {...}
  ""samples"": [...],
}
```
 
 but react devtools expects the file to contain only `traceEvents` array. 
React DevTools should be able to handle both formats because they are valid according to this document: https://docs.google.com/document/d/1CvAClvFfyA5R-PhYUmn5OOQtYMH4h6I0nSsKchNAySU/preview
 

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-04-05T15:34:48Z,2,2,https://github.com/facebook/react/issues/28767,Logical Bug
113,facebook/react,[DevTools Bug]: React Profiler reports higher hook numbers than shown in Components,"### Website or app

https://github.com/3perf/react-workshop-fwdays-mar24

### Repro steps

- Clone the https://github.com/3perf/react-workshop-fwdays-mar24 repository
- Switch to the branch called `day5`
- `cd widgets-editor && yarn && yarn start`
- An app will open. Reproduce the following interaction & record a Profiler trace:
   
   https://github.com/facebook/react/assets/2953267/fe0eb272-d136-44a6-bfe0-4f1b20ff27de
- Find the first render of the `ResizableComponent` component in the trace
- Observe React Profiler reporting hook 32 changed whereas the Components pane reporting only 30 hooks in the component (as in the video)

Sorry for not having a minimal repro! I was only able to reproduce this in big apps like the one attached. However, it reproduces reliably.

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Component: Developer Tools']",2024-03-19T00:40:07Z,6,13,https://github.com/facebook/react/issues/28584,Logical Bug
114,facebook/react,Bug: Class component with `defaultProps` not merging props correctly in `componentDidMount`,"<!--
  Please provide a clear and concise description of what the bug is. Include
  screenshots if needed. Please test using the latest version of the relevant
  React packages to make sure your issue has not already been fixed.
-->

React version: `18.2.0`

## Steps To Reproduce

1. Have a `lazy`-wrapped, class-component with `defaultProps`, `componentDidMount` and `componentWillUnmount`.
2. Using `StrictMode`, on initial call to `componentDidMount`, `this.props` contains `defaultProps` correctly.
3. On 2nd mount - `this.props` isn't merged with `defaultProps` correctly.

```tsx
const LazyComponent = lazy(
  async () =>
    class SomeComponent extends Component {
      static defaultProps = { someProp: true };
      componentDidMount() {
        // 1st mount - `true`
        // 2nd mount - `undefined`
        console.log(this.props.someProp);
      }
      componentWillUnmount() {}
      render() { /* ... */ }
    },
);

<StrictMode>
  <LazyComponent />
</StrictMode>
```


Link to code example:
https://stackblitz.com/edit/vitejs-vite-1ptuah?file=src%2Fmain.jsx

## The current behavior
The `StrictMode`-triggered 2nd mount doesn't correctly merge `defaultProps` into `this.props`.

## The expected behavior
`this.props` contains the specified `defaultProps`.

## More context

I noticed each of the following works-around the issue:
- Wrapping the class-component in a function-component (before wrapping with `lazy`)
- Not using `lazy`
- Not defining a `componentWillUnmount`

Since this is happening in a 3rd-party which we wrap with `lazy`, the 1st option is a solid workaround for now.

## Possibly related issues
- #13960
",['Type: Bug'],2024-03-06T09:45:18Z,4,2,https://github.com/facebook/react/issues/28505,Runtime Error
115,facebook/react,[DevTools Bug]: Error: Should have a queue. This is likely a bug in React. Please file an issue.,"### Website or app

private repo, cannot disclose the full repo because NDA

### Repro steps

I got this error a few times when working in a react native app, It only showed a few times but the error instructed me to file it as issue, so I am posting here. the error said : 

> Error: Should have a queue. This is likely a bug in React. Please file an issue.

I am not sure how it is happening, but it is happening when I added  a new prop ""deleted={deletedItem}""  in the header Item :

```

<PageHeaderItemDetails
          id={id}
          watchlisted={isLiked || false}
          deleted={deletedItem}
        />
```


Here is the full screen's code: 
```import {useHeaderHeight} from '@react-navigation/elements';
import {NativeStackNavigationProp} from '@react-navigation/native-stack';
import React, {useEffect, useLayoutEffect, useState} from 'react';
import {ActivityIndicator, StyleSheet, View} from 'react-native';

import ScreenContainer from '../../components/elements/ScreenContainer';

import ImageCarousel from '../../components/ImageCarousel/ImageCarousel';

import AlreadySubmittedDetails from '../../components/itemDetailsComponents/AlreadySubmittedDetails';

import LikeAndSubmittionButtons from '../../components/itemDetailsComponents/LikeAndSubmittionButtons';
import SubmissionForm from '../../components/itemDetailsComponents/SubmissionForm';

import {useAuth} from '../../contexts/AuthContext';

import Typography from '../../components/common/Typography';
import ItemInfoDetails from '../../components/elements/ItemInfoDetails';
import PageHeaderItemDetails from '../../components/pageheader/PageHeaderItemDetails';
import {useSubmission} from '../../contexts/SubmissionContext';
import {useTreasuresData} from '../../contexts/TreasuresDataContext';
import {useUserData} from '../../contexts/UserDataContext';

interface ItemDetailsScreenProps {
  navigation: NativeStackNavigationProp<any>;
  route: any;
}

const ItemDetailsScreen = ({navigation, route}: ItemDetailsScreenProps) => {
  const {id, isLiked} = route?.params;
  const [deletedItem, setDeletedItem] = useState(false);
  useLayoutEffect(() => {
    console.log(navigation);
    navigation.setOptions({
      headerShown: true,
      header: () => (
        <PageHeaderItemDetails
          id={id}
          watchlisted={isLiked || false}
          deleted={deletedItem}
        />
      ),
    });
  }, [navigation, id, isLiked, deletedItem]);
  const headerHeight = useHeaderHeight();

  const {getTreasureById} = useTreasuresData();
  const [itemData, setItemData] = useState<any>({});
  const {user} = useAuth();
  const {userData} = useUserData();
  const {getSubmittedItemInfo} = useSubmission();
  const isAlreadySubmittedItem =
    userData && userData.mysubmissions && userData?.mysubmissions.includes(id);
  const [loading, setLoading] = useState(false);
  const [loadingPage, setLoadingPage] = useState(false);
  const [submittedInfo, setSubmittedInfo] = useState({});
  useEffect(() => {
    const getSubmissionData = async () => {
      try {
        setLoading(true);
        console.log('getting submission data');
        const submissionData = await getSubmittedItemInfo(id);
        setSubmittedInfo(submissionData);

        setLoading(false);
      } catch (error) {
        console.log(error);
        setLoading(false);
      }
    };
    if (isAlreadySubmittedItem) {
      getSubmissionData();
    }
    console.log('isAlreadySubmittedItem:', isAlreadySubmittedItem);
  }, [isAlreadySubmittedItem, id]);

  useEffect(() => {
    const getData = async () => {
      try {
        setLoadingPage(true);
        const data = await getTreasureById(id);
        setItemData(data);
        setLoadingPage(false);
      } catch (error) {
        // Handle the error if needed
        console.log('Error fetching data:', error);

        setLoadingPage(false);
        if (error.message === 'Treasure does not exist') {
          setDeletedItem(true);
        }
      }
    };

    getData();
  }, [id, getTreasureById]);
  useEffect(() => {
    console.log('ITem data -- ', itemData, 'ID ->', itemData.id);
  }, [itemData]);
  return (
    <ScreenContainer style={styles.container} keyboardSafe nestedScrollEnabled>
      {itemData && itemData.id ? (
        <>
          <ImageCarousel data={itemData} />
          <LikeAndSubmittionButtons
            id={id}
            numOfLikes={itemData.likesCount}
            numOfSubmittions={itemData.submissionsCount}
          />
          <ItemInfoDetails data={itemData} />
          {isAlreadySubmittedItem ? (
            <AlreadySubmittedDetails data={submittedInfo} loading={loading} />
          ) : (
            <SubmissionForm data={itemData} />
          )}
        </>
      ) : null}
      {!loadingPage && (!itemData || !itemData.id) ? (
        <View style={{flex: 1, justifyContent: 'center'}}>
          <Typography centered small>
            {deletedItem ? 'Item has been deleted' : 'No Data'}
          </Typography>
        </View>
      ) : null}
      {loadingPage ? (
        <View style={{flex: 1, justifyContent: 'center'}}>
          <ActivityIndicator size=""large"" color=""#818181"" />
        </View>
      ) : null}
    </ScreenContainer>
  );
};

export default ItemDetailsScreen;

const styles = StyleSheet.create({
  container: {
    minHeight: '100%',
    width: '100%',
    paddingBottom: 20,
    paddingTop: 20,
  },
  headerTitleStyle: {
    fontSize: 16,
    color: '#2C2C2C',
    fontWeight: '600',
    fontFamily: 'Poppins-SemiBold',
  },
});
```


this is the Pageheader component:
```import {useNavigation} from '@react-navigation/native';

import React from 'react';
import {StyleSheet, TouchableOpacity} from 'react-native';

import WatchlistEyeIconButton from '../buttons/WatchlistEyeIconButton';
import Typography from '../common/Typography';
import BackButton from './BackButton';
import PageHeaderContainer from './PageHeaderContainer';

interface PageHeaderItemDetailsProps {
  id: string;
  watchlisted: boolean;
  itemOwner?: boolean;
  deleted?: boolean;
}
const PageHeaderItemDetails = ({
  id,
  watchlisted,
  itemOwner,
  deleted = true,
}: PageHeaderItemDetailsProps) => {
  const navigation = useNavigation();
  const goToEdit = () => {
    navigation.navigate('MyItemsStack', {
      screen: 'EditAnItem',
      params: {
        id: id,
      },
    });
  };
  return (
    <PageHeaderContainer>
      <BackButton />
      <Typography style={styles.headerTitleStyle}>Item details</Typography>
      {deleted ? null : (
        <>
          {itemOwner ? (
            <TouchableOpacity activeOpacity={0.8} onPress={goToEdit}>
              <Typography style={styles.editText}>Edit</Typography>
            </TouchableOpacity>
          ) : (
            <WatchlistEyeIconButton
              itemDetailsPage
              id={id}
              watchlisted={watchlisted}
            />
          )}
        </>
      )}
    </PageHeaderContainer>
  );
};

export default PageHeaderItemDetails;

const styles = StyleSheet.create({
  headerTitleStyle: {
    fontSize: 16,
    color: '#2C2C2C',
    fontWeight: '700',
    fontFamily: 'Poppins-Bold',
    flex: 1,
    textAlign: 'center',
  },
  editText: {
    color: '#E8BD70',
    fontWeight: '600',
    fontFamily: 'Poppins-SemiBold',
    fontSize: 14,
    textAlign: 'right',
  },
});

```

### How often does this bug happen?

Sometimes

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed']",2024-02-26T13:36:59Z,6,1,https://github.com/facebook/react/issues/28443,Logical Bug
116,facebook/react,[DevTools Bug]: react-devtools depends on vulnerable versions of electron and got,"### Website or app

https://github.com/facebook/react/blob/main/packages/react-devtools/package.json

### Repro steps

electron 23.3.13 has a vulnarability, should be updated to 24+, see links below

```
# npm audit report

electron  23.0.0-alpha.1 - 23.3.13
Severity: moderate
ASAR Integrity bypass via filetype confusion in electron - https://github.com/advisories/GHSA-7m48-wc93-9g85
fix available via `npm audit fix --force`
Will install react-devtools@4.27.2, which is a breaking change
node_modules/electron
  react-devtools  >=2.1.8
  Depends on vulnerable versions of electron
  Depends on vulnerable versions of update-notifier
  node_modules/react-devtools
```

Also the used update-notifier relies on a version of got that has vulnerabilities
```
got  <11.8.5
Severity: moderate
Got allows a redirect to a UNIX socket - https://github.com/advisories/GHSA-pfrx-2q88-qq97
fix available via `npm audit fix --force`
Will install react-devtools@4.27.2, which is a breaking change
node_modules/package-json/node_modules/got
  package-json  <=6.5.0
  Depends on vulnerable versions of got
  node_modules/package-json
    latest-version  0.2.0 - 5.1.0
    Depends on vulnerable versions of package-json
    node_modules/latest-version
      update-notifier  0.2.0 - 5.1.0
      Depends on vulnerable versions of latest-version
      node_modules/update-notifier
```

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-01-23T12:56:37Z,3,2,https://github.com/facebook/react/issues/28058,Dependency Issue
117,facebook/react,[DevTools Bug]: `sayHelloToBackendManager` continuously and pointlessly polls on every page,"### Website or app

(all sites)

### Repro steps

From any page:

```js
const printMessage = (event) => {console.log(event)};
window.addEventListener('message', printMessage);
```

Since there isn't a place to actually describe the bug, i'll put it here:
`sayHelloToBackendManager` is set to poll here until `backendInitialized` is `true`: https://github.com/facebook/react/blob/b3003047101b4c7a643788a8faf576f7e370fb45/packages/react-devtools-extensions/src/contentScripts/proxy.js#L17-L23

The polling message has a source `react-devtools-content-script`: https://github.com/facebook/react/blob/b3003047101b4c7a643788a8faf576f7e370fb45/packages/react-devtools-extensions/src/contentScripts/proxy.js#L41

The switch to set `backendInitialized = true` checks for the message source `react-devtools-bridge`: https://github.com/facebook/react/blob/b3003047101b4c7a643788a8faf576f7e370fb45/packages/react-devtools-extensions/src/contentScripts/proxy.js#L65-L66

the `react-devtools-bridge` sourced message is sent from the backend by whatever invokes this: https://github.com/facebook/react/blob/b3003047101b4c7a643788a8faf576f7e370fb45/packages/react-devtools-extensions/src/contentScripts/backendManager.js#L127

but the `handleMessageFromPage` function returns if the `event.source` isn't the `window` object of the page. Presumably the backend does not have the same window object as the page, or else using `postMessage()` would be pointless: https://github.com/facebook/react/blob/b3003047101b4c7a643788a8faf576f7e370fb45/packages/react-devtools-extensions/src/contentScripts/proxy.js#L59

The `'react-devtools-bridge'` message never flips `backendInitialized = true`, so the polling never terminates.

This is causing the bitwarden ppl to get a decent amount of heat, and it's actually devtools causing the problem - https://github.com/bitwarden/clients/issues/7575



### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-01-18T21:41:56Z,4,1,https://github.com/facebook/react/issues/27992,Logical Bug
118,facebook/react,[DevTools Bug]: Source map error: URL: react_devtools_backend_compact.js.map,"### Website or app

https://github.com/avenida714/alec-synth/blob/dccf984d89ae44558c70ff93dfa03b1227d5df5b/src/App.jsx#L63-L64C17

Link found on the vite getting started page: https://stackblitz.com/edit/vitejs-vite-zff6zx?file=src%2FApp.jsx&terminal=dev

### Repro steps

?? This is not my code (not public) ??. While I searched for this error I stumble upon this repo. I had this issue when adding the plugin for first time.

1. Open the website
2. Open console
3. See the error

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2024-01-15T13:25:29Z,6,4,https://github.com/facebook/react/issues/27938,Dependency Issue
119,facebook/react,Bug: [React Refresh] Unexpected behavior when adding/removing elements prior to uncontrolled inputs,"<!--
  Please provide a clear and concise description of what the bug is. Include
  screenshots if needed. Please test using the latest version of the relevant
  React packages to make sure your issue has not already been fixed.
-->

React version: 18.2.0

## Steps To Reproduce


https://github.com/facebook/react/assets/54008264/94e69206-48a1-4064-a89c-583aadcd8269



1. https://stackblitz.com/edit/vitejs-vite-cswk6t?file=src%2FApp.tsx
2. Enter 1, 2, 3, and 4 respectively in each textbox
3. Comment and uncomment the `<br />` and save


```tsx
function App() {
  return (
    <>
      <div>
        {/* COMMENT AND UNCOMMENT THIS BR AND SAVE */}
        <br />
        <input type=""text"" />
        <input type=""text"" />
        <input type=""text"" />
        <input type=""text"" />
      </div>
    </>
  );
}

export default App;
```

<!--
  Your bug will get fixed much faster if we can run your code and it doesn't
  have dependencies other than React. Issues without reproduction steps or
  code examples may be immediately closed as not actionable.
-->

Link to code example:

<!--
  Please provide a CodeSandbox (https://codesandbox.io/s/new), a link to a
  repository on GitHub, or provide a minimal code example that reproduces the
  problem. You may provide a screenshot of the application if you think it is
  relevant to your bug report. Here are some tips for providing a minimal
  example: https://stackoverflow.com/help/mcve.
-->

https://stackblitz.com/edit/vitejs-vite-cswk6t?file=src%2FApp.tsx

## The current behavior

Uncontrolled inputs' values are not synced correctly. (I tested with controlled inputs, and it worked properly.)
I verified that this bug exists in Safari (Version 17.1 (19616.2.9.11.7)) and Chrome (120.0.6099.199).
Tried in both Vite and Next.js, so I'm fairly certain it's a react refresh issue.

```
""@vitejs/plugin-react"": ""^4.2.1"",
""next"": ""^14.0.3"",
```

## The expected behavior

Each input should keep its own value.","['Type: Bug', 'Component: Fast Refresh']",2024-01-13T07:36:53Z,7,0,https://github.com/facebook/react/issues/27933,Logical Bug
120,facebook/react,Bug: `undefined` within props is not faithfully deserialized from RSC payload,"<!--
  Please provide a clear and concise description of what the bug is. Include
  screenshots if needed. Please test using the latest version of the relevant
  React packages to make sure your issue has not already been fixed.
-->

React version: `18.3.0-canary-0cdfef19b-20231211`

Related issues: https://github.com/facebook/react/issues/25687

## Steps To Reproduce

Object variant: 
1. Pass a `prop={{ x: undefined }}`  from a server component to a client component

Array variant: 
1. Pass a `prop={[0, undefined, 2]}`  from a server component to a client component


<!--
  Your bug will get fixed much faster if we can run your code and it doesn't
  have dependencies other than React. Issues without reproduction steps or
  code examples may be immediately closed as not actionable.
-->

Link to code example:

<!--
  Please provide a CodeSandbox (https://codesandbox.io/s/new), a link to a
  repository on GitHub, or provide a minimal code example that reproduces the
  problem. You may provide a screenshot of the application if you think it is
  relevant to your bug report. Here are some tips for providing a minimal
  example: https://stackoverflow.com/help/mcve.
-->

https://codesandbox.io/p/devbox/compassionate-benz-rj9dct

## The current behavior

Object properties that are `undefined` aren't present in the deserialized object, and arrays end up with empty slots instead:
```
{ x: undefined }     ->  {}
[ 0, undefined, 2 ]  ->  [ 0, <1 empty item>, 2 ]
```

## The expected behavior

If a property or array item is `undefined`, it should be deserialized as such. Object keys should remain present (with a value of `undefined`), and arrays shouldn't have empty slots.

Object properties aren't _that_ big of a deal, although a key being present (but undefined) may have some semantic meaning in the user's data model, so it's still not ideal. But empty slots behave in very surprising ways with e.g. `.map()`:

```js
> [0,,2].map((x) => x ?? 'default')
[ 0, <1 empty item>, 2 ]

> [0,undefined,2].map((x) => x ?? 'default')
[ 0, 'default', 2 ]
```

this is likely to bite anyone who maps over an array in order to display something, which is common in react.","['Type: Bug', 'Component: Flight']",2024-01-02T20:13:02Z,8,4,https://github.com/facebook/react/issues/27872,Logical Bug
121,facebook/react,[DevTools Bug]: Excessive CPU Usage,"### Website or app

Happens even after all tabs are closed

### Repro steps

I don't have clear repro steps yet. Occasionally I will notice that Chrome is using 170%-200% CPU. I close *all* my tabs, and it continues. Then I open the extensions management page and disable react devtools. This immediately fixes the problem. Re-enabling the extension does not re-engage the high cpu issue.

### How often does this bug happen?

Sometimes

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2023-12-04T21:26:04Z,5,0,https://github.com/facebook/react/issues/27791,Performance Issue
122,facebook/react,[DevTools Bug]: Extension breaks PRTG web interface,"### Website or app

presumably any PRTG installation

### Repro steps

Try to load PRTG in Firefox. Note many tabs won't load properly, browser console network panel will show NS_BINDING_ABORTED errors coming from jQuery.

Not sure what the actual problem is, but disabling React Developer Tools lets all those pages load successfully with no errors reported in the console.

It would be cool if I could tell React Developer Tools to NEVER load on certain pages, but it doesn't look like that's an option.

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2023-11-30T14:48:38Z,2,1,https://github.com/facebook/react/issues/27764,Runtime Error
123,facebook/react,[DevTools Bug]: Cannot read properties of undefined (reading 'toLowerCase'),"### Website or app

React app in development phase

### Repro steps

<img width=""1067"" alt=""image"" src=""https://github.com/facebook/react/assets/57346455/7b4b06c1-37f8-4edb-b67e-c816e983c441"">

Occurs when you click on a component on the Component tab.
Recently, I worked on replacing it with react-hot-loader -> react-refresh.
The above error has occurred since the react-refresh application.
No error occurs when react-refresh is removed from the webpack.
The react-refresh is set the same as the official document.


### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

4.28.5

### Error message (automated)

Cannot read properties of undefined (reading 'toLowerCase')

### Error call stack (automated)

```text
utils.js:626 Uncaught TypeError: Cannot read properties of undefined (reading 'toLowerCase')
    at formatDataForPreview (utils.js:626:1)
    at dehydrate (hydration.js:83:1)
    at cleanForBridge (utils.js:26:1)
    at Object.inspectElement (renderer.js:3356:1)
    at agent.js:175:1
    at Bridge.emit (events.js:37:1)
    at bridge.js:136:1
    at listener (backendManager.js:1:25284)
```


### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2023-11-30T05:56:38Z,2,0,https://github.com/facebook/react/issues/27762,Dependency Issue
124,facebook/react,"[DevTools Feature Request]: Full support for RSC server elements (component tree, props, inspect)","### Website or app

All Next.js 13/14 Apps

### Repro steps

RSC elements created on the server and sent over the network are not supported by React DevTools. Both `_debugOwner` and `_debugSource` are `null`, which breaks the component tree, props view, and the inspect feature.

According to this thread, https://twitter.com/alvarlagerlof/status/1716927277295120429, it's been considered, but no concrete plans yet.

From the official [server components RFC](https://github.com/reactjs/rfcs/blob/main/text/0188-server-components.md#open-areas-of-research):

![image](https://github.com/facebook/react/assets/15837712/62cd61f3-38b8-481d-b47c-308ff2a82bc5)


### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2023-11-29T09:17:59Z,1,0,https://github.com/facebook/react/issues/27758,Dependency Issue
125,facebook/react,[DevTools Bug]: Extension not loading for local files in Electron since 4.27.5,"### Website or app

local file (index.html)

### Repro steps

Try to load the React Devtools in an Electron app (latest 27.1.2) which uses a local file to load.

Electron now properly supports loading manifest V3 extension, but there is a problem when loading a local file to the main window.
Context: https://github.com/electron/electron/issues/36545#issuecomment-1825481015

Only workaround is to programatically close the application and re-create the window.
On some systems (Windows?) it seems plenty to just load the extension twice, but on my macOS, this does not work..

I traced the commit breaking this is: https://github.com/facebook/react/pull/26492
So v4.27.4 works fine, but the next release (and onwards) 4.27.5 suffer from this issue.

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2023-11-27T09:33:31Z,4,2,https://github.com/facebook/react/issues/27749,Dependency Issue
126,facebook/react,"[DevTools Bug] Cannot add node ""1590"" because a node with that id is already in the Store.","### Website or app

https://editor.wix.com/html/editor/web/renderer/edit/1e14587f-a72d-4b5f-866d-f00b1ede1959?metaSiteId=e0eb6e2b-eb02-4e61-8c27-b28c38ce72f9

### Repro steps

Just open web and error show

### How often does this bug happen?

Every time

### DevTools package (automated)

react-devtools-extensions

### DevTools version (automated)

4.28.5-ef8a840bd

### Error message (automated)

Cannot add node ""1590"" because a node with that id is already in the Store.

### Error call stack (automated)

```text
at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1125187
    at A.emit (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1095954)
    at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1097642
    at bridgeListener (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:1:1495532)
```


### Error component stack (automated)

_No response_

### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=Cannot add node  because a node with that id is already in the Store. in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react
```
","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2023-11-20T07:58:56Z,15,10,https://github.com/facebook/react/issues/27728,Logical Bug
127,facebook/react,[DevTools Bug]: hook parsing fails while using functional component + redux or alternative,"### Website or app

https://github.com/reduxjs/redux-templates/tree/master/packages/cra-template-redux-typescript

### Repro steps

Before the step-by-step approach, please note, this is not specific to the cra-template-redux-typescript repo mentioned above, nor to redux itself, as it can be easily reproduced by integrating redux (or even other alternative, like zustand) to any react-based project where you use functional components together with hooks.

1. set up a bare template repo: `npx create-react-app my-app --template redux-typescript`
2. cd my-app
3. npm start
4. Observe the `Counter` component in devtools -> notice hook parsing failed.
5. go to `src/features/counter/Counter.tsx` and stub out the two lines which wire redux into the component (easier to stub out than to delete them and all reference in the JSX):
```typescript
// const count = useAppSelector(selectCount);  // stubbed out
// const dispatch = useAppDispatch();          // stubbed out
const count = 1;
const dispatch = (x:any) => null;
```
6. save & reload (or let HMR do it)
7. Observe the `Counter` component in devtools -> notice hook parsing works properly.

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2023-11-17T19:44:51Z,1,1,https://github.com/facebook/react/issues/27724,Dependency Issue
128,facebook/react,[DevTools Bug]: Hide logs during second render in Strict Mode not working,"### Website or app

https://codesandbox.io/p/sandbox/sharp-cache-627m6x?layout=%257B%2522sidebarPanel%2522%253A%2522EXPLORER%2522%252C%2522rootPanelGroup%2522%253A%257B%2522direction%2522%253A%2522horizontal%2522%252C%2522contentType%2522%253A%2522UNKNOWN%2522%252C%2522type%2522%253A%2522PANEL_GROUP%2522%252C%2522id%2522%253A%2522ROOT_LAYOUT%2522%252C%2522panels%2522%253A%255B%257B%2522type%2522%253A%2522PANEL_GROUP%2522%252C%2522contentType%2522%253A%2522UNKNOWN%2522%252C%2522direction%2522%253A%2522vertical%2522%252C%2522id%2522%253A%2522clozd8em0000a356itqsl0kki%2522%252C%2522sizes%2522%253A%255B70%252C30%255D%252C%2522panels%2522%253A%255B%257B%2522type%2522%253A%2522PANEL_GROUP%2522%252C%2522contentType%2522%253A%2522EDITOR%2522%252C%2522direction%2522%253A%2522horizontal%2522%252C%2522id%2522%253A%2522EDITOR%2522%252C%2522panels%2522%253A%255B%257B%2522type%2522%253A%2522PANEL%2522%252C%2522contentType%2522%253A%2522EDITOR%2522%252C%2522id%2522%253A%2522clozd8elz0003356ivqwmdxyv%2522%257D%255D%252C%2522sizes%2522%253A%255B100%255D%257D%252C%257B%2522type%2522%253A%2522PANEL_GROUP%2522%252C%2522contentType%2522%253A%2522SHELLS%2522%252C%2522direction%2522%253A%2522horizontal%2522%252C%2522id%2522%253A%2522SHELLS%2522%252C%2522panels%2522%253A%255B%257B%2522type%2522%253A%2522PANEL%2522%252C%2522contentType%2522%253A%2522SHELLS%2522%252C%2522id%2522%253A%2522clozd8elz0007356ijh3woekp%2522%257D%255D%252C%2522sizes%2522%253A%255B100%255D%257D%255D%257D%252C%257B%2522type%2522%253A%2522PANEL_GROUP%2522%252C%2522contentType%2522%253A%2522DEVTOOLS%2522%252C%2522direction%2522%253A%2522vertical%2522%252C%2522id%2522%253A%2522DEVTOOLS%2522%252C%2522panels%2522%253A%255B%257B%2522type%2522%253A%2522PANEL%2522%252C%2522contentType%2522%253A%2522DEVTOOLS%2522%252C%2522id%2522%253A%2522clozd8elz0009356ielu54js9%2522%257D%255D%252C%2522sizes%2522%253A%255B100%255D%257D%255D%252C%2522sizes%2522%253A%255B50%252C50%255D%257D%252C%2522tabbedPanels%2522%253A%257B%2522clozd8elz0003356ivqwmdxyv%2522%253A%257B%2522id%2522%253A%2522clozd8elz0003356ivqwmdxyv%2522%252C%2522activeTabId%2522%253A%2522clozd92m7006s356idh5hwnfk%2522%252C%2522tabs%2522%253A%255B%257B%2522id%2522%253A%2522clozd8ely0002356ikf2d5bsz%2522%252C%2522mode%2522%253A%2522permanent%2522%252C%2522type%2522%253A%2522FILE%2522%252C%2522filepath%2522%253A%2522%252FREADME.md%2522%257D%252C%257B%2522type%2522%253A%2522FILE%2522%252C%2522filepath%2522%253A%2522%252Fsrc%252FApp.tsx%2522%252C%2522id%2522%253A%2522clozd92m7006s356idh5hwnfk%2522%252C%2522mode%2522%253A%2522permanent%2522%252C%2522state%2522%253A%2522IDLE%2522%257D%255D%257D%252C%2522clozd8elz0009356ielu54js9%2522%253A%257B%2522tabs%2522%253A%255B%257B%2522id%2522%253A%2522clozd8elz0008356i67rphcjv%2522%252C%2522mode%2522%253A%2522permanent%2522%252C%2522type%2522%253A%2522TASK_PORT%2522%252C%2522taskId%2522%253A%2522dev%2522%252C%2522port%2522%253A5173%252C%2522path%2522%253A%2522%252F%2522%257D%255D%252C%2522id%2522%253A%2522clozd8elz0009356ielu54js9%2522%252C%2522activeTabId%2522%253A%2522clozd8elz0008356i67rphcjv%2522%257D%252C%2522clozd8elz0007356ijh3woekp%2522%253A%257B%2522tabs%2522%253A%255B%257B%2522id%2522%253A%2522clozd8elz0004356ilbgf4wub%2522%252C%2522mode%2522%253A%2522permanent%2522%252C%2522type%2522%253A%2522TASK_LOG%2522%252C%2522taskId%2522%253A%2522dev%2522%257D%252C%257B%2522id%2522%253A%2522clozd8elz0005356inhy8tftq%2522%252C%2522mode%2522%253A%2522permanent%2522%252C%2522type%2522%253A%2522TASK_LOG%2522%252C%2522taskId%2522%253A%2522build%2522%257D%252C%257B%2522id%2522%253A%2522clozd8elz0006356iz11synx2%2522%252C%2522mode%2522%253A%2522permanent%2522%252C%2522type%2522%253A%2522TASK_LOG%2522%252C%2522taskId%2522%253A%2522preview%2522%257D%255D%252C%2522id%2522%253A%2522clozd8elz0007356ijh3woekp%2522%252C%2522activeTabId%2522%253A%2522clozd8elz0004356ilbgf4wub%2522%257D%257D%252C%2522showDevtools%2522%253Atrue%252C%2522showShells%2522%253Atrue%252C%2522showSidebar%2522%253Atrue%252C%2522sidebarPanelSize%2522%253A15%257D

### Repro steps

check console logs while turning on the 'hide logs during the second render in Strict Mode' in react dev tools. it's console logging 'rendering' twice

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2023-11-15T06:18:55Z,11,2,https://github.com/facebook/react/issues/27705,Logical Bug
129,facebook/react,Bug: useSyncExternalStore does not schedule update after mutation,"Here is a Replay recording with comments:
https://app.replay.io/recording/318114a4-3102-4732-ad1b-cb63b9c0ac22

I think the comments I've added show the following scenario:
1. A React component (`Subscriber`) uses `useSyncExternalStore` to read from a mutable store.
2. The Activity subtree containing `Subscriber` is hidden, and React unsubscribes from the store.
3. An update is scheduled to show the hidden subtree again and the `Subscriber` component re-renders (with memoized state).
4. A parent component mutates the store in a layout effect. (The `Subscriber` component is not yet listening and so it does not re-render to reflect the updated store value.)
6. React re-subscribes the `Subscriber` component (`useSyncExternalStore`) but it has already missed the mutation **and React does not check for a changed snapshot value**.

We originally observed this behavior in Replay itself but I was able to reduce it to the following simplified case:
https://codesandbox.io/s/inspiring-bird-m4wv5l

I've added comments to the Replay, including ones that bracket the problematic `commitRoot`. Here's a short Loom as well talking through the bug:
https://www.loom.com/share/2584cad5b4c44e6bba396ff8cf79db1d

I _think_ an application could work around this issue in a couple of ways:
* Only mutate stores in passive effects. (This may cause visible layout shift though so it seems bad.)
* Mutable store users should avoid memoized `getSnapshot` and `subscribe` functions. (This would schedule some unnecessary effects work which is probably nice to avoid but maybe acceptable.)
* **Store subscribe methods should always invoke the `callback` React passes.** (This would cause a lot of unnecessary `Object.is` comparisons but that's probably an acceptable cost.)

I think the third option above seems best, but needing to do that feels like a foot gun for the API. Thoughts?

cc @acdlite, @sebmarkbage in case you find this interesting.",['Type: Bug'],2023-11-08T15:52:50Z,14,1,https://github.com/facebook/react/issues/27670,Logical Bug
130,facebook/react,Bug: eslint-plugin-react-hooks: Incorrect dependency requirement when using `typeof` on nested data structures,"This issue seems related to #18828, but it's not identical. Using `typeof` on a primitive value seems to work as expected, but it fails for nested property access.

Version: `eslint-plugin-react-hooks@4.6.0`


## Steps To Reproduce

```tsx
import { useEffect, useState } from ""react"";

const Dummy = () => {
    const [foo, setFoo] = useState<{ bar: number }>({ bar: 42 });

    useEffect(() => {
        const square = (x: typeof foo.bar) => x * x;
        setFoo((previous) => ({ ...previous, bar: square(previous.bar) }));
    }, []);
};
```


## The current behavior

This effect clearly doesn't have external (value) dependencies, but I get this:

> ESLint: React Hook useEffect has a missing dependency: 'foo'. Either include it or remove the dependency array. (react-hooks/exhaustive-deps)


## The expected behavior

Using `typeof` never leads to a dependency requirement, just like in this example doesn't:

```tsx
import { useEffect, useState } from ""react"";

const Dummy = () => {
    const [bar, setBar] = useState<number>(42);

    useEffect(() => {
        const square = (x: typeof bar) => x * x;
        setBar(square);
    }, []);
};
```","['Type: Bug', 'Component: ESLint Rules']",2023-09-05T12:53:45Z,7,0,https://github.com/facebook/react/issues/27335,Dependency Issue
131,facebook/react,[DevTools Bug]: react-hooks/rules-of-hooks does not report error for function starting with _,"### Website or app

https://codesandbox.io/p/sandbox/quizzical-shirley-9y2txs

### Repro steps

Using ESLint rule `react-hooks/rules-of-hooks` with the following code, I would expect it to report errors for invalid usage of hooks. It does not report anything though unless I change `_isEnabled` to `isEnabled`.

```js
const useFeatureEnabled = () => {
  const enabled = useEnabled();
  const isEnabled = enabled && _isEnabled();
  return { featureEnabled: isEnabled };
};

const _isEnabled = () => {
  const { settingEnabled } = useSettings();
  return settingEnabled;
};


// From https://github.com/facebook/react/blob/a20eea25197df0da80104917df414747eeab1ac9/packages/eslint-plugin-react-hooks/__tests__/ESLintRulesOfHooks-test.js#L716
// These are neither functions nor hooks.
function _normalFunctionWithHook() {
  useHookInsideNormalFunction();
}
function _useNotAHook() {
  useHookInsideNormalFunction();
}
```

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2023-08-10T21:49:58Z,2,0,https://github.com/facebook/react/issues/27211,Logical Bug
132,facebook/react,"[DevTools Bug] Node ""24"" was removed before its children.","### Website or app

https://super-visa-insurance.netlify.app/

### Repro steps

I'm Facing an Issue in my Nextjs 13.4.12  project, main tag is automatically removed in from the page. 
Before this I changed my zustand store with react-query for caching results, but I reverted these changes because I was facing this issue, but after reverting I still face this issue


### How often does this bug happen?

Sometimes

### DevTools package (automated)

react-devtools-extensions

### DevTools version (automated)

4.28.0-035a41c4e

### Error message (automated)

Node ""24"" was removed before its children.

### Error call stack (automated)

```text
at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:28315:43
    at Bridge.emit (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:24827:22)
    at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:24996:14
    at listener (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:57406:39)
```


### Error component stack (automated)

_No response_

### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=Node  was removed before its children. in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react
```
","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2023-08-04T06:23:24Z,2,2,https://github.com/facebook/react/issues/27186,Dependency Issue
133,facebook/react,"[DevTools Bug] Cannot add node ""1"" because a node with that id is already in the Store.","### Website or app

running react app

### Repro steps

i just made a basic portfolio app on react app and suddenly this bug showed up, and i cant seem to access the localhost link in any browser beside Firefox

### How often does this bug happen?

Often

### DevTools package (automated)

react-devtools-extensions

### DevTools version (automated)

4.27.8-2468a8735

### Error message (automated)

Cannot add node ""1"" because a node with that id is already in the Store.

### Error call stack (automated)

```text
emit@moz-extension://961fb755-5a59-4c1c-943c-029f7cf6279b/build/main.js:27059:22
bridge_Bridge/this._wallUnlisten<@moz-extension://961fb755-5a59-4c1c-943c-029f7cf6279b/build/main.js:27228:14
listener@moz-extension://961fb755-5a59-4c1c-943c-029f7cf6279b/build/main.js:57497:41
```


### Error component stack (automated)

_No response_

### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=Cannot add node  because a node with that id is already in the Store. in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react
```
","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2023-08-03T20:36:23Z,13,18,https://github.com/facebook/react/issues/27185,Logical Bug
134,facebook/react,"[DevTools Bug]: shows ""This page doesn't appear to be using React"" for every react website on Firefox 115.0.2","### Website or app

all of them and also localhost. https://react.dev/ for example

### Repro steps

1. open any website made with React
2. Click on the extension icon

OS:
Windows 10

Browser:
Firefox 115.0.2 (64-bit)

DevTools:
4.27.8



### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Resolution: Needs More Information', 'Component: Developer Tools']",2023-07-27T06:49:02Z,17,0,https://github.com/facebook/react/issues/27158,UI/UX Bug
135,facebook/react,Bug: undefined behavior with input checkbox onChange not triggered,"Hello,

I have also discovered a bug where when we do `e.preventDefault()` on an `onClick()` function, inputs will not be updated correctly

Link to code example:


Here is a demo https://codesandbox.io/s/vigorous-albattani-g3hv29

Has you can see in the demo, when the state is `true` the checkbox is not checked


## The current behavior

The checkbox is not checked when we have a  `e.preventDefault()` even if the state is `true`

## The expected behavior

The checkbox should have the value of the checked props

## Notes

- I've also created some unit test for checkbox in #27127 
- Related to #27016","['Type: Bug', 'Component: DOM']",2023-07-19T12:10:45Z,5,1,https://github.com/facebook/react/issues/27128,Logical Bug
136,facebook/react,"[DevTools Bug] Cannot add node ""1"" because a node with that id is already in the Store.","### Website or app

react-devtools with expo

### Repro steps

Once react-devtools run this happen there 

### How often does this bug happen?

Every time

### DevTools package (automated)

react-devtools-core

### DevTools version (automated)

4.13.5-0ae5290b54

### Error message (automated)

Cannot add node ""1"" because a node with that id is already in the Store.

### Error call stack (automated)

```text
at /Users/amr/.config/yarn/global/node_modules/react-devtools-core/dist/standalone.js:48:139060
    at c.emit (/Users/amr/.config/yarn/global/node_modules/react-devtools-core/dist/standalone.js:48:88052)
    at /Users/amr/.config/yarn/global/node_modules/react-devtools-core/dist/standalone.js:48:89523
    at /Users/amr/.config/yarn/global/node_modules/react-devtools-core/dist/standalone.js:48:341120
    at Array.forEach (<anonymous>)
    at S.Vc.e.onmessage (/Users/amr/.config/yarn/global/node_modules/react-devtools-core/dist/standalone.js:48:341104)
    at S.n (/Users/amr/.config/yarn/global/node_modules/react-devtools-core/dist/standalone.js:40:2971)
    at S.emit (events.js:315:20)
    at e.exports.P (/Users/amr/.config/yarn/global/node_modules/react-devtools-core/dist/standalone.js:8:9318)
    at e.exports.emit (events.js:315:20)
```


### Error component stack (automated)

_No response_

### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=Cannot add node  because a node with that id is already in the Store. in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react
```
","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2023-07-18T13:14:35Z,4,7,https://github.com/facebook/react/issues/27121,Logical Bug
137,facebook/react,"[DevTools Bug]: Excessive memory usage, even when not in use (Firefox)","### Website or app

The issue happens on the browser, not on a specific site

### Repro steps

1. Use Firefox
2. open a couple of tabs not even using react (for example for me, I have my mail client, youtube etc open).
3. check about:performance
4. confirm that the memory usage of the extension is around 200mb, which is a lot considering the extension isn't even in use.

What I would do is I would add a config option about the domains the extension is supposed to run on, and only start up everything the extension does when the user is on one of those domains, because I really don't want an extension I'm not even using at the moment to be a memory hog.

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2023-06-29T23:13:56Z,4,3,https://github.com/facebook/react/issues/27025,Performance Issue
138,facebook/react,[DevTools Bug]: Update highlights crash often,"### Website or app

http://everywhereiusetheextension.io

### Repro steps

- Open React devtools
- Enable "" Highlight updates when components render.""
- Use your React app
- Highlight stops working again and again. The only way to make it work is to close and open devtools...

### How often does this bug happen?

Often

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2023-06-28T08:04:02Z,1,0,https://github.com/facebook/react/issues/27021,Runtime Error
139,facebook/react,[DevTools Bug]: Timeline UI isn't being rendered (black screen),"### Website or app

https://fxbh5x.csb.app/

### Repro steps

I cannot get the timeline view to render properly on my machine in Chrome. Super weird.

1. Open codesandbox
2. Reload and profile
3. Click button

## Chrome

Renders black area and only highlights Ui elements when I hover over (but nothing ever shows below).

![image](https://github.com/facebook/react/assets/563819/85f5e2df-9a04-420f-b9a3-6a1ef1d2b4d4)

## Edge

Doesn't show timeline tab, must not be supported?

## Firefox

Can't profile at all?

![image](https://github.com/facebook/react/assets/563819/0c7a49c2-d691-44fe-8d3b-3aa0a20704d3)


Using latest dev tools for all 3 browsers

![image](https://github.com/facebook/react/assets/563819/33f2d4b0-74b1-4daf-b01c-8bfa94ea71db)

Version: 4.27.8-2468a8735
Chrome: Version 114.0.5735.110 (Official Build) (64-bit)
Windows: Version	10.0.19045 Build 19045

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2023-06-12T15:59:02Z,2,0,https://github.com/facebook/react/issues/26928,UI/UX Bug
140,facebook/react,[DevTools Bug]: Flame graph entries overlapping,"### Website or app

https://web-enable-react-profil-1na9tm.herokuapp.com/

### Repro steps

1. Go to https://web-enable-react-profil-1na9tm.herokuapp.com/
2. Open profiler
3. Click ""reload and start profiling""
4. After the reload completes, stop profiling
5. Step through the commits until you see this:
   <img width=""1840"" alt=""image"" src=""https://github.com/facebook/react/assets/921609/7162b403-d940-4028-a20f-27d73d48e55c"">

The flame graph entries are overlapping other entries.

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

4.27.8 (5/19/2023)

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2023-06-05T15:18:44Z,3,0,https://github.com/facebook/react/issues/26903,UI/UX Bug
141,facebook/react,Bug: Inconsistent behavior with Promises near the root,"Just jotting down some cases I found confusing.
Ideally for each case, it should either work, or should fail in some obvious way.

## Working: startTransition + 1000ms Promise root

```js
import { startTransition } from ""react"";
import { createRoot } from ""react-dom/client"";

const rootElement = document.getElementById(""root"");
const root = createRoot(rootElement);

let promise = new Promise((resolve) => {
  setTimeout(() => {
    resolve(<h1>hi</h1>);
  }, 1000);
});

startTransition(() => {
  root.render(promise);
});
```

https://codesandbox.io/s/goofy-rui-8g6sxh?file=/src/index.js

## Working: startTransition + root component + 5000ms Promise child

```js
import { startTransition } from ""react"";
import { createRoot } from ""react-dom/client"";

const rootElement = document.getElementById(""root"");
const root = createRoot(rootElement);

let promise = new Promise((resolve) => {
  setTimeout(() => {
    resolve(<h1>hi</h1>);
  }, 5000);
});

function Foo() {
  return promise;
}

startTransition(() => {
  root.render(<Foo />);
});
```

https://codesandbox.io/s/epic-cookies-v94rk2?file=/src/index.js

## Working: No startTransition + root component + 5000ms Promise child

```js
import { createRoot } from ""react-dom/client"";

const rootElement = document.getElementById(""root"");
const root = createRoot(rootElement);

let promise = new Promise((resolve) => {
  setTimeout(() => {
    resolve(<h1>hi</h1>);
  }, 5000);
});

function Foo() {
  return promise;
}

root.render(<Foo />);
```

https://codesandbox.io/s/zen-allen-2u1nr7?file=/src/index.js

## Working: startTransition + root component + 1000ms Promise in state

```js
import { useState, startTransition } from ""react"";
import { createRoot } from ""react-dom/client"";

const rootElement = document.getElementById(""root"");
const root = createRoot(rootElement);

function Foo() {
  const [promise, setPromise] = useState(
    new Promise((resolve) => {
      setTimeout(() => {
        resolve(<h1>hi</h1>);
      }, 1000);
    })
  );
  return promise;
}

startTransition(() => {
  root.render(<Foo />);
});
```

https://codesandbox.io/s/immutable-moon-2h3dqz?file=/src/index.js

## Working: startTransition + root component + 1000ms Promise in state + use

```js
import { use, useState, startTransition } from ""react"";
import { createRoot } from ""react-dom/client"";

const rootElement = document.getElementById(""root"");
const root = createRoot(rootElement);

function Foo() {
  const [promise, setPromise] = useState(
    new Promise((resolve) => {
      setTimeout(() => {
        resolve(<h1>hi</h1>);
      }, 1000);
    })
  );
  return use(promise);
}

startTransition(() => {
  root.render(<Foo />);
});
```

https://codesandbox.io/s/hungry-carlos-1n8hqu?file=/src/index.js

## Crashes: startTransition + 5000ms Promise root

This doesn't work (with a confusing crash):

```js
import { startTransition } from ""react"";
import { createRoot } from ""react-dom/client"";

const rootElement = document.getElementById(""root"");
const root = createRoot(rootElement);

let promise = new Promise((resolve) => {
  setTimeout(() => {
    resolve(<h1>hi</h1>);
  }, 5000); // <--- I increased the delay
});

startTransition(() => {
  root.render(promise);
});

```

https://codesandbox.io/s/busy-torvalds-xgbcgh?file=/src/index.js

## Crashes: No startTransition + 1000ms Promise root

This doesn't work (with a confusing crash):

```js
import { createRoot } from ""react-dom/client"";

const rootElement = document.getElementById(""root"");
const root = createRoot(rootElement);

let promise = new Promise((resolve) => {
  setTimeout(() => {
    resolve(<h1>hi</h1>);
  }, 1000);
});

root.render(promise); // No startTransition
```

https://codesandbox.io/s/serene-payne-677ghp?file=/src/index.js

## Never resolves: No startTransition + root component + 1000ms Promise in state

```js
import { useState } from ""react"";
import { createRoot } from ""react-dom/client"";

const rootElement = document.getElementById(""root"");
const root = createRoot(rootElement);

function Foo() {
  const [promise, setPromise] = useState(
    new Promise((resolve) => {
      setTimeout(() => {
        resolve(<h1>hi</h1>);
      }, 1000);
    })
  );
  return promise;
}

root.render(<Foo />);
```

https://codesandbox.io/s/musing-chaplygin-2udvbx?file=/src/index.js

## Never resolves: No startTransition + root component + 1000ms Promise in state + use

```js
import { use, useState } from ""react"";
import { createRoot } from ""react-dom/client"";

const rootElement = document.getElementById(""root"");
const root = createRoot(rootElement);

function Foo() {
  const [promise, setPromise] = useState(
    new Promise((resolve) => {
      setTimeout(() => {
        resolve(<h1>hi</h1>);
      }, 1000);
    })
  );
  return use(promise);
}

root.render(<Foo />);
```

https://codesandbox.io/s/blue-butterfly-3xywp2?file=/src/index.js:0-400",['Type: Bug'],2023-06-01T15:25:07Z,1,2,https://github.com/facebook/react/issues/26886,Logical Bug
142,facebook/react,"[DevTools Bug] Commit tree already contains fiber ""3289"". This is a bug in React DevTools.","### Website or app

no-url.com

### Repro steps

Trying to navigate between the graphs.

### How often does this bug happen?

Often

### DevTools package (automated)

react-devtools-extensions

### DevTools version (automated)

4.27.6-7f8c501f6

### Error message (automated)

Commit tree already contains fiber ""3289"". This is a bug in React DevTools.

### Error call stack (automated)

```text
at updateTree (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:27498:19)
    at getCommitTree (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:27430:20)
    at ProfilingCache_ProfilingCache.getCommitTree (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:27959:11)
    at CommitFlamegraphAutoSizer (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:46157:33)
    at Bf (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:13715:7)
    at dh (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:14781:7)
    at uk (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:18235:86)
    at qk (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:17769:11)
    at pk (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:17658:23)
    at Ze (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:17638:5)
```


### Error component stack (automated)

```text
at CommitFlamegraphAutoSizer (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:46140:34)
    at div
    at div
    at div
    at SettingsModalContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:38425:3)
    at Profiler_Profiler (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:56259:34)
    at ErrorBoundary_ErrorBoundary (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:39958:5)
    at div
    at div
    at ThemeProvider (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:40130:3)
    at PortaledContent (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:40160:5)
    at div
    at div
    at div
    at ThemeProvider (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:40130:3)
    at TimelineContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:45411:3)
    at ProfilerContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:44839:3)
    at TreeContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:32649:3)
    at SettingsContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:33298:3)
    at ModalDialogContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:40555:3)
    at DevTools_DevTools (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:56766:3)
```


### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=Commit tree already contains fiber . This is a bug in React DevTools. in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react
```
","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2023-05-02T12:21:37Z,6,3,https://github.com/facebook/react/issues/26758,Logical Bug
143,facebook/react,Bug: Suspense should hide Portals deeper in the tree,"When Portal is a direct child of Suspense, suspending hides the portal: https://codesandbox.io/s/cocky-boyd-mlq2ko?file=/src/App.js

But when a Portal is deeper in the tree, suspending fails to hide the portal nodes: https://codesandbox.io/s/nostalgic-fog-udyhuz?file=/src/App.js

We need to fix this to recursively hide portals. There's a question of which traversal to use, and how it combines with existing traversal. E.g. does ""hiding"" happen before layout effects run?

We would also need to decide what to do with legacy mode. One option is to ""fix"" it there too. But that might be difficult to roll out. It might also be tricky to implement. Another option is to leave it as is (the current behavior is leaving a ""hole"" in place of the suspended component: https://codesandbox.io/s/elastic-ptolemy-2u6qel?file=/src/App.js). Then we'd need to make sure we at least keep that buggy behavior.

We might want to add an internal-only warning (to be muted but logged on devservers) to track _newly hidden_ nodes portals that wouldn't have been hidden with the previous algorithm. Then maybe this would let us know where to fix the UI and avoid the UI regression caused by modals disappearing.

Summary of work that needs to be done:

- [ ] Port sandboxes to failing tests
- [ ] Implement new behavior behind a flag
  - [ ] Figure out where hiding/showing happens during the commit phase
  - [ ] Add new behavior (all direct children of portals, no matter how deep, get auto-shown/hidden)
  - [ ] Decide what legacy renderer should do, write tests for that too
  - [ ] (Maybe) add internal-only muted logging for content that would be hidden with new behavior","['Type: Bug', 'Component: Suspense']",2023-04-12T17:25:07Z,1,0,https://github.com/facebook/react/issues/26612,Logical Bug
144,facebook/react,"[DevTools Bug] Cannot add child ""1161"" to parent ""942"" because parent node was not found in the Store.","### Website or app

chrome on local host

### Repro steps

it happen with every component that i mount 
<img width=""1470"" alt=""Screenshot 2023-03-23 at 1 04 00 PM"" src=""https://user-images.githubusercontent.com/110327079/227134701-d665feca-3326-401e-b957-007c41318be6.png"">


### How often does this bug happen?

Every time

### DevTools package (automated)

react-devtools-extensions

### DevTools version (automated)

4.27.2-1a88fbb67

### Error message (automated)

Cannot add child ""1161"" to parent ""942"" because parent node was not found in the Store.

### Error call stack (automated)

```text
at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:27939:43
    at bridge_Bridge.emit (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:25892:22)
    at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:26061:14
    at listener (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:56323:39)
```


### Error component stack (automated)

_No response_

### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=Cannot add child  to parent  because parent node was not found in the Store. in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react
```
","['Type: Bug', 'Status: Unconfirmed', 'Resolution: Needs More Information', 'Component: Developer Tools']",2023-03-23T07:36:11Z,7,3,https://github.com/facebook/react/issues/26465,Logical Bug
145,facebook/react,"[DevTools Bug] Cannot add node ""621"" because a node with that id is already in the Store.","### Website or app

https://github.com/iprinceroyy/crwn-clothing

### Repro steps

Bug report:
1. Clone & run in the local environment.
2. Sign in.
3. Head over to the shop.
4. Add some items to cart.
5. Click on the cart icon.

### How often does this bug happen?

Every time

### DevTools package (automated)

react-devtools-extensions

### DevTools version (automated)

4.27.2-1a88fbb67

### Error message (automated)

Cannot add node ""621"" because a node with that id is already in the Store.

### Error call stack (automated)

```text
at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:27863:41
    at bridge_Bridge.emit (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:25892:22)
    at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:26061:14
    at listener (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:56323:39)
```


### Error component stack (automated)

_No response_

### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=Cannot add node  because a node with that id is already in the Store. in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react
```
","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2023-03-08T13:15:00Z,15,12,https://github.com/facebook/react/issues/26340,Logical Bug
146,facebook/react,Bug: Memory leak in react while focusing input elements,"<!--
  Please provide a clear and concise description of what the bug is. Include
  screenshots if needed. Please test using the latest version of the relevant
  React packages to make sure your issue has not already been fixed.
-->

I 've noticed that having an `input` element focused and unmounting its owner component doesn't actually free up this component from the js heap  , I 've created this simple blnkr to demonstarate this which add a dummy `X` to a ref inside a component that has an input element

React version: 17.0.2

## Steps To Reproduce

1. Go to this [plnkr](https://plnkr.co/edit/IiqhT2JEvZcAJBMu?open=index.js&deferRun=1&preview)  
2. Click Tab Two
3. Click the `Grow button` a few times 
4. Take a heap snapshot 
5. Click the Grow button a few more times 
6. **IMPORTANT** Focus the input element by clicking into it
7. Click Tab One ( This unmount the component that own the ref to the list ) 
8. Take another heap snapshot ( after running the GC)  
9. Compare between the two snapshots 
10. The added string `X` will be found within the `concat check the screenshot 
<img width=""1507"" alt=""Screenshot 2023-01-28 at 1 13 12 AM"" src=""https://user-images.githubusercontent.com/28496859/215225175-f64cf1ee-f6b9-4dff-93d0-4fdebc3747e9.png"">


<!--
  Your bug will get fixed much faster if we can run your code and it doesn't
  have dependencies other than React. Issues without reproduction steps or
  code examples may be immediately closed as not actionable.
-->

Link to code example: can be found above

<!--
  Please provide a CodeSandbox (https://codesandbox.io/s/new), a link to a
  repository on GitHub, or provide a minimal code example that reproduces the
  problem. You may provide a screenshot of the application if you think it is
  relevant to your bug report. Here are some tips for providing a minimal
  example: https://stackoverflow.com/help/mcve.
-->

## The current behavior

The current component that own the input element is still being there in the memory and doesn't free up its own resources afer being unmounted.

## The expected behavior
The current component shloud free up its resources whenever being unmounted 
",['Type: Bug'],2023-01-27T23:38:32Z,15,0,https://github.com/facebook/react/issues/26069,Performance Issue
147,facebook/react,[DevTools Bug]: event.metaKey + f to focus SearchInput doesn't work on Windows,"### Website or app

https://beta.reactjs.org/

### Repro steps

1. Open React Dev Tools -> Components
2. Try hitting (Windows Key) + f

On Windows 10/11, the Feedback Hub opens up. It will not focus on the search input.

I understand this probably works fine on Mac, but on Windows it'd be great to use a key that won't be intercepted by Windows. Like `Shift + f`. or `Ctrl + Alt + f`. Or, perhaps as soon as I start typing (unless I'm typing in another focused input). Or, if I press `/`. Something!

I thought at first DevTools didn't have a keyboard shortcut but then I looked at the source code and saw it uses [`metaKey`](https://developer.mozilla.org/en-US/docs/Web/API/KeyboardEvent/metaKey) which _totally_ doesn't work on Firefox in Windows.

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2023-01-26T04:46:27Z,1,0,https://github.com/facebook/react/issues/26052,Dependency Issue
148,facebook/react,[DevTools Bug]: Cannot read properties of undefined (reading 'displayName') at getWrappedDisplayName,"### Website or app

https://pda.ritis.org/suite/download/

### Repro steps

I noticed this when using React DevTools in my DEV environment with both Chrome and Firefox which is https://pda-dev.ritis.org/suite/download/ but I also see it in the production URL.
1.  Logged in URL with React Developer Tools 4.27.1 installed and enabled (in Chrome or Firefox)
2.  Navigate to a the Download tool
3. Almost immediate the below error displays
`
TypeError: Cannot read properties of undefined (reading 'displayName')
    at getWrappedDisplayName (react_devtools_backend.js:247:33)
    at getDisplayNameForFiber (react_devtools_backend.js:6384:62)
`
![outerType_undefined](https://user-images.githubusercontent.com/3752154/213483566-c6f2c74f-8e79-4d36-bb8a-2d55a103782c.png)
![getWrappedDisplayName](https://user-images.githubusercontent.com/3752154/213483568-af17e1d2-f713-45f3-9c82-f66369bf77f6.png)
![forwardRef](https://user-images.githubusercontent.com/3752154/213483572-1418cbc1-b0ca-4934-bbe9-cddd09ce2091.png)

I'm unable to downgrade React DevTools in Chrome, but can in Firefox and notice that this started occuring with Version 4.27.0.
- ""4.27.1 Relased December 6, 2022"" produces this error
- ""4.27.0 Released November 28, 2022"" produces this error
- ""4.25.0 Released July 14, 2022"" does not produce this error

Since I only use the browser version of react dev-tools, is there any way to install 4.25.0 in Chrome browser?

Other environment information:
Chrome ""Version 109.0.5414.75 (Official Build) (64-bit)""
Firefox  ""Version 109.0 (64-bit)
Windows 10 Pro build 19044.2486

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2023-01-19T15:35:41Z,6,0,https://github.com/facebook/react/issues/26022,Logical Bug
149,facebook/react,"[DevTools Bug] Commit tree does not contain fiber ""4543"". This is a bug in React DevTools.","### Website or app

https://kai.dev.dxos.org/



### Repro steps

1. Open devtools components panel and trigger a re-render in the app.
2. In my case sometimes the component tree doesnt appear at first, but pressing the devtools extension action button in the browser navbar makes it load.

### More info

App built with react `18.2.0` and vite

To repro with Vite running in dev mode:

```
# checkout https://github.com/dxos/dxos/tree/main/packages/experimental/kai

pnpm install
pnpm -w nx serve kai
```

Open devtools component view and trigger a re-render in the app.



### How often does this bug happen?

Every time

### DevTools package (automated)

react-devtools-extensions

### DevTools version (automated)

4.27.1-47f63dc54

### Error message (automated)

Commit tree does not contain fiber ""4543"". This is a bug in React DevTools.

### Error call stack (automated)

```text
at updateTree (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:26856:21)
    at getCommitTree (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:26716:20)
    at SidebarCommitInfo_SidebarCommitInfo (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:55240:42)
    at Ri (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:16122:7)
    at tk (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:17190:7)
    at kn (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:20548:86)
    at gn (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:20091:11)
    at fn (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:20011:23)
    at Um (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:19991:5)
    at Wm (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:19795:7)
```


### Error component stack (automated)

```text
at SidebarCommitInfo_SidebarCommitInfo (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:55220:34)
    at div
    at div
    at SettingsModalContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:37690:3)
    at Profiler_Profiler (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:55516:34)
    at ErrorBoundary_ErrorBoundary (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:39222:5)
    at div
    at div
    at ThemeProvider (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:39394:3)
    at PortaledContent (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:39424:5)
    at div
    at div
    at div
    at ThemeProvider (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:39394:3)
    at TimelineContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:44671:3)
    at ProfilerContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:44100:3)
    at TreeContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:31925:3)
    at SettingsContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:32569:3)
    at ModalDialogContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:39819:3)
    at DevTools_DevTools (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:56024:3)
```


### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=Commit tree does not contain fiber . This is a bug in React DevTools. in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react
```
","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2023-01-17T12:36:08Z,3,0,https://github.com/facebook/react/issues/26009,Logical Bug
150,facebook/react,Bug: SSR of malformed? `meta` renders nothing(working in 18.2),"<!--
  Please provide a clear and concise description of what the bug is. Include
  screenshots if needed. Please test using the latest version of the relevant
  React packages to make sure your issue has not already been fixed.
-->

React version:

## Steps To Reproduce

1. SSR `<meta name=""test"" />` (`renderToString` and `renderToReadableStream`)

<!--
  Your bug will get fixed much faster if we can run your code and it doesn't
  have dependencies other than React. Issues without reproduction steps or
  code examples may be immediately closed as not actionable.
-->

Link to code example: 
- Working in 18.2: https://codesandbox.io/s/18-2-ssr-meta-only-working-t6lxvw
- render nothing in 18.3-5fcf1a4b4c2150a1b9fe0de0144a82a053c63966: https://codesandbox.io/s/18-3-5fcf1a4b4c2150a1b9fe0de0144a82a053c63966-ssr-meta-only-bug-woguy0?file=/src/index.js


## The current behavior

Renders empty string


## The expected behavior

Renders `<meta name=""test"" />`
Don't know if that's a valid use case but it should at least warn that the meta tag is malformed?

This broke the attribute fixture (originally reported in https://github.com/facebook/react/pull/25927).

Also:
1. `<meta name=""description"" content={content} />` renders nothing unless `content` is a string.
1. `<meta http-equiv />` i.e. any `http-equiv` usage no longer renders anything. It used to warn at least.","['Type: Bug', 'Component: Server Rendering']",2022-12-23T10:05:15Z,0,0,https://github.com/facebook/react/issues/25928,UI/UX Bug
151,facebook/react,Bug: Rendering <Suspense> outside <body> should error,"Expected: it should error
Actual: it doesn't

Possibly related: https://github.com/facebook/react/issues/25710#issuecomment-1352456042. In a standalone project, I've only managed to repro `<!--$-->` before doctype, but not between doctype and html as in the repro from that issue. I haven't confirmed that this is the actual cause of #25710, but at the very least we should have errored there as well.","['Type: Bug', 'Component: Server Rendering']",2022-12-15T02:09:43Z,1,0,https://github.com/facebook/react/issues/25886,Logical Bug
152,facebook/react,"[DevTools Bug] Cannot remove node ""XX"" because no matching node was found in the Store.","### Website or app

https://ideaflow.app

### Repro steps

Using next 12.3 and windows 10 chrome 108.0.5359.99 (Official Build) (64-bit)
- Open the inspector
- Navigate to the components tab. Open it a few times until it displays something. (blank screen issue already logged #22034 )
- eventually it will display the component tree, but after one scroll, it fails with this error:
![image](https://user-images.githubusercontent.com/5444992/207644741-c870e4bd-8514-4f4f-850a-8713217e41e9.png)

Uncaught Error: Cannot remove node ""1946"" because no matching node was found in the Store.
Dismiss
The error was thrown at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:27994:43
    at bridge_Bridge.emit (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:25895:22)
    at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:26064:14
    at listener (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:56299:39)


### How often does this bug happen?

Often

### DevTools package (automated)

react-devtools-extensions

### DevTools version (automated)

4.27.1-47f63dc54

### Error message (automated)

Cannot remove node ""1946"" because no matching node was found in the Store.

### Error call stack (automated)

```text
at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:27994:43
    at bridge_Bridge.emit (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:25895:22)
    at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:26064:14
    at listener (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:56299:39)
```


### Error component stack (automated)

_No response_

### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=Cannot remove node  because no matching node was found in the Store. in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react
```
","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2022-12-14T15:57:37Z,19,35,https://github.com/facebook/react/issues/25884,Logical Bug
153,facebook/react,[DevTools Bug]: Labels are cut off on Firefox on Ubuntu 22.04,"### Website or app

https://github.com/iprotoni/react-skill-assessments

### Repro steps

 the key labels on the right hand pane are cut off whenever using React DevTools on Firefox latest version on Ubuntu 22.04

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2022-12-13T21:44:57Z,0,0,https://github.com/facebook/react/issues/25882,Dependency Issue
154,facebook/react,[DevTools Bug]: Electron support broken in 4.27,"### Website or app

[Electron.js](https://electronjs.org)

### Repro steps

React devtools 4.27 no longer works in Electron[1] because `chrome.scripting` isn't implemented, which it started using due to the manifest v3 upgrade: https://github.com/facebook/react/pull/25145

When opening React devtools 4.27 in any Electron project (installed with [`electron-devtools-installer](https://github.com/MarshallOfSound/electron-devtools-installer/) for example) you'll see that the devtools panel is shown but no React components are ever found. Earlier versions worked well with Electron

[1] https://github.com/electron/electron/issues/36545 and https://github.com/MarshallOfSound/electron-devtools-installer/issues/232

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Component: Developer Tools']",2022-12-07T13:16:17Z,29,25,https://github.com/facebook/react/issues/25843,UI/UX Bug
155,facebook/react,"[DevTools Bug] Element ""15"" not found","### Website or app

https://github.com/sfmarco/Task.git

### Repro steps

Solo queria ver los estados de mi componente y aparecio el error

### How often does this bug happen?

Every time

### DevTools package (automated)

react-devtools-extensions

### DevTools version (automated)

4.27.0-bd2ad89a4

### Error message (automated)

Element ""15"" not found

### Error call stack (automated)

```text
at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:39558:15
```


### Error component stack (automated)

```text
at InspectedElementContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:40933:3)
    at Suspense
    at ErrorBoundary_ErrorBoundary (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:39237:5)
    at div
    at InspectedElementErrorBoundaryWrapper (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:39771:3)
    at NativeStyleContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:42429:3)
    at div
    at div
    at OwnersListContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:35080:3)
    at SettingsModalContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:37705:3)
    at Components_Components (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:44505:52)
    at ErrorBoundary_ErrorBoundary (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:39237:5)
    at div
    at div
    at ThemeProvider (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:39409:3)
    at PortaledContent (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:39439:5)
    at div
    at div
    at div
    at ThemeProvider (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:39409:3)
    at TimelineContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:44686:3)
    at ProfilerContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:44115:3)
    at TreeContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:31940:3)
    at SettingsContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:32584:3)
    at ModalDialogContextController (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:39834:3)
    at DevTools_DevTools (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:56039:3)
```


### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=Element  not found in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react

Error
```
","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2022-12-06T22:06:00Z,7,0,https://github.com/facebook/react/issues/25833,UI/UX Bug
156,facebook/react,[DevTools Bug]: configure by add webpack entry in document doesn't work,"### Website or app

https://github.com/tjx666/awesome-chrome-extension-boilerplate/tree/vue3

### Repro steps

![](https://user-images.githubusercontent.com/41773861/203625364-e3865fa3-fc84-4498-bdea-1375d519a78e.png)

<img width=""1440"" alt=""image"" src=""https://user-images.githubusercontent.com/41773861/203153962-4f47996d-be2c-438a-b72f-d8a32cbc198c.png"">

<img width=""1440"" alt=""image"" src=""https://user-images.githubusercontent.com/41773861/203154053-a672c033-5299-449a-a3a9-21d1468b655f.png"">

related https://github.com/facebook/react/issues/24844#issuecomment-1325511675

I load react-devtools by put in most front of webpack entry: https://github.com/tjx666/awesome-chrome-extension-boilerplate/blob/aad9001069cb19cfc5583615b864740b322b7923/server/utils/entry.ts#L29

1. git clone https://github.com/tjx666/awesome-chrome-extension-boilerplate.git
2. git checkout manifest-v3
3. git reset --hard aad9001069cb19cfc5583615b864740b322b7923
4. pnpm install
5. run pnpm devtools
6. chrome open chrome://extensions/
7. enable chrome extension develop mode
8. load unpack extension folder under project root
9. open options page of this extension
10. then you will see the error in above screenshot.

### How often does this bug happen?

Every time

### DevTools package (automated)

```""react-devtools"": ""4.26.1""```

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2022-11-23T19:42:45Z,0,0,https://github.com/facebook/react/issues/25733,Logical Bug
157,facebook/react,"Adding useEffect in HMR causes ""Expected static flag was missing""","```
Warning: Internal React error: Expected static flag was missing. Please notify the React team.
```

https://twitter.com/dan_abramov/status/1593609862830759936

This was also repro:ed in Next.js by @sokra:

![image](https://user-images.githubusercontent.com/63648/203103593-3136632a-b226-4acb-9d93-09b809ada779.png)
","['Type: Bug', 'Component: Fast Refresh', 'React Core Team']",2022-11-21T16:13:39Z,1,0,https://github.com/facebook/react/issues/25719,Runtime Error
158,facebook/react,[DevTools Bug]: Not seeing source / file path,"### Website or app

[Any](https://reactjs.org/)

### Repro steps

Open react dev tools in browser
Select a react component from the tree
Notice that no Source (file path) is printed in the bottom right panel (see description screenshot in https://github.com/facebook/react/pull/17567)



### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2022-10-25T19:39:07Z,4,2,https://github.com/facebook/react/issues/25564,UI/UX Bug
159,facebook/react,"[DevTools Bug]: Warnings are too ""loud"", mislabeled and make console difficult to use","### Website or app

https://codesandbox.io/s/purple-moon-ts7xzs?file=/src/App.js

### Repro steps

It's not causing this in the codesandbox probably due to some flag missing, but locally in dev I've been getting the following when a stray prop is passed to a dom elem as an attribute (_NB this output is **truncated**, this isn't even the whole message_):

![Screen Shot 2022-10-07 at 10 39 51 AM](https://user-images.githubusercontent.com/317498/194645730-159ea8cf-7d7c-49f3-b5b3-7caaf5384b44.png)

## Problems with the current logging approach

1. **This floods the console and pushes all other messages out of screen, making debugging difficult.** This is the main issue.
2. The severity/""loudness"" of this log message is out of proportion to the issue. This is a fairly minor issue as it typically does not actually break anything, yet this log drowns out actual issues that I need to see more urgently
3. This issue's importance is being misclassified & the wrong logging API used: `console.error` is being misused to log a warning. The purpose of different log levels is to allow the consumer (developer) to enable or disable logging of less important messages depending on their needs. Putting warnings in the ""error"" stream **takes this control away from developers**. When I am cleaning up upgrade issues, minor bugs etc. I will turn on warnings and see this, but when I'm trying to figure out why my GQL endpoints are erroring, I should be able to turn this off.

## Ask

My goal is to stop this effectively ""breaking"" the error console, i.e. making it unusable by flooding it with messages. Possible approaches:

1. move these warnings to console.warn, putting control back in the developer/consumer's hands
2. flag to disable the stack traces so messages aren't so enormous
3. use [console.groupCollapsed](https://developer.mozilla.org/en-US/docs/Web/API/console/groupCollapsed) to collapse these, so the stack is there but doesn't flood the console

## FAQ

### Why don't you just fix the errors? If you fix the errors, this isn't an issue. The solution is fix the errors.

I don't mean to brag, but I work on applications with *lots* of errors. I truly wish I could fix every single one, but I must pick my battles and this often means letting smaller issues slide in order to focus on bigger ones. Furthermore, when working on a shared application, it can be out of your power to fix all the errors. There are several reasonable reasons why someone would want to work on their application and ignore certain errors, at least temporarily.

In any event, ""this is a valid error message so why should it be quieter"" doesn't address the question of *proportionality*. Should a warning like this overtake the whole console? Should it use `window.alert`? Should it bail out and crash the whole application? It's clear that these approaches to alerting the developer/consumer to an issue are not proportional with the severity of the issue itself, and these more drastic approaches would be inappropriate, even if they ""draw the developer/user's attention to the issue"" as this clearly does.  **Not every issue is p0** which is why we have log levels, and in this context different log streams (info, warning, and error).

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed']",2022-10-07T20:28:41Z,17,15,https://github.com/facebook/react/issues/25447,UI/UX Bug
160,facebook/react,[DevTools Bug]: Hook parsing failed for default Next.js configuration,"### Website or app

https://github.com/vercel/next.js/tree/canary/examples/blog-starter

### Repro steps

1. Create an instance of the official Next.js blog starter template, e.g. `yarn create next-app --example blog-starter blog-starter`
2. Run `yarn dev` (or equivalent) inside the created project.
3. Go to the webpage (normally `http://localhost:3000`) and open the React devtools
4. Enable 'Always parse hook names from source' in the devtool options
5. Observe the error 'Hook parsing failed':
    <img width=""669"" alt=""image"" src=""https://user-images.githubusercontent.com/565371/194022450-1b32305a-b2bc-42bc-ac4d-ed389e9fdc74.png"">

Note: Next.js does not allow you to change the source map format (`devtool`) setting so it's rather difficult to work around this issue.

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2022-10-05T09:00:01Z,10,19,https://github.com/facebook/react/issues/25427,Logical Bug
161,facebook/react,"[DevTools Bug]: ""Message length exceeded maximum allowed length"" when profiling a complex application","### Website or app

N/A

### Repro steps

When profiling a complex, proprietary app, I regularly get an error message, ""Message length exceeded maximum allowed length.""

Steps to reproduce:

1. Within the Dev Tools, go to the Profiler tab.
2. Click the ""Start Profiling"" button.
3. Let the app run for a bit. Do some things in the app.
4. Click the ""Stop Profiling"" (""record"") button.

At this point, the Chrome Dev Tools console logs an error:

```
contentScript.js:116 Uncaught Error: Message length exceeded maximum allowed length.
    at handleMessageFromPage (contentScript.js:116:10)
```

And the Profiler tab is stuck with the message, ""Processing data... This should only take a minute.""

The error is thrown from https://github.com/facebook/react/blob/64fe791be84ad04a4a1d005376ba5cf5701db9b7/packages/react-devtools-extensions/src/contentScript.js#L36

The last time this occurred, when breaking on exceptions at that line, `JSON.stringify(event.data.payload).length` reports 92074565. I can provide further information on the contents of the problematic `event.data.payload` if that would be helpful.

I apologize for the lack of a reproducible test case - it's a complex app (which is why I was looking into profiling), and I don't think I could simplify it down to a public test case while triggering the error.

### How often does this bug happen?

Often

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2022-10-04T15:31:21Z,21,26,https://github.com/facebook/react/issues/25415,Logical Bug
162,facebook/react,[DevTools Bug]: DevTools causes hook callback behavior inconstency,"### Website or app

https://gist.github.com/nhusher/33981014bb69318ead012c11a73eff52

### Repro steps

Either clone the gist and run with static-server, or check out [this equivalent codesandbox link](https://5lu8ks.csb.app/) (Full sandbox IDE [here](https://codesandbox.io/s/new-snowflake-5lu8ks?file=/src/index.tsx))

1. Have React devtools installed 
2. Visit the URL indicated by static-server
3. Click both increment buttons, ensuring that they work
4. Open the developer tools
5. Navigate to the DevTools Component tree and highlight `<App />`
6. Click both the increment buttons
7. Observe that the normal in-React increment button works
8. Observe that the ""increment (outside react)"" button no longer works

Verification of the issue:

1. Open an incognito window
2. Visit the URL indicated by static-server
3. Click the two buttons and verify that both work
4. Open the developer tools (no React Devtools available)
5. Verify the two buttons continue to work

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2022-09-30T15:42:26Z,1,0,https://github.com/facebook/react/issues/25367,Logical Bug
163,facebook/react,[DevTools Bug]: Labels are cut off on Firefox on Linux (Fedora 36),"### Website or app

https://codesandbox.io/s/hopeful-fog-nxqwgw

### Repro steps

When using React DevTools on **Firefox 104.0.1 (64-bit)** on **Linux (Fedora 36 with Gnome Desktop 42)** the key labels on the right hand pane are cut off. See screenshot. I'm guessing this is likely because of fonts being used on Linux are different from Windows and macOS. I haven't noticed this problem in Chrome at all, and I don't think it happens on Windows and macOS.

This only happens to editable orange/keys in the props panel, when the keys are black/read only, they render just fine.

I also noticed that React devtools doesn't honor the Firefox advanced font settings like the rest of devtools does. Having the ability to select a different browser monospace font will allow for a workaround to this issue.

![Screenshot from 2022-09-14 09-33-08](https://user-images.githubusercontent.com/612695/190090608-602bd0d8-3557-492e-a2d9-59b16372f522.png)


### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2022-09-14T07:38:20Z,2,0,https://github.com/facebook/react/issues/25262,Dependency Issue
164,facebook/react,[DevTools Bug]: useSyncExternalStore adds 1 to subsequent hook's number in Profiler,"### Website or app

https://codesandbox.io/s/sweet-fast-huvy9e?file=/src/App.tsx

### Repro steps

1. Open the sandbox in Google Chrome. Notice that the App component in App.tsx calls useSyncExternalStore, followed by useState. Lastly, it has an effect that simply toggles the state value every second so that it's easy to profile state changes without interacting with the UI.
2. Open the rendered page in a new window and inspect it in Chrome DevTools.
3. Open Components tab, select the App component, and notice that useState hook is `#2`. ![image](https://user-images.githubusercontent.com/1012600/188234380-2d4a5dee-3aa5-46ae-b919-f3cbe276d741.png)
4. Switch to Profiler tab and profile the page for a couple of seconds.
5. Notice that ""Why did this render?"" section says ""Hook **3** changed"". The number should be 2. ![image](https://user-images.githubusercontent.com/1012600/188236070-103563ca-ae0c-45b1-af58-c397fced98c4.png)

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2022-09-02T21:14:12Z,6,1,https://github.com/facebook/react/issues/25178,Logical Bug
165,facebook/react,Bug: react-hooks/exhaustive-deps false positive when use function with generic type variable in useEffect,"<!--
  Please provide a clear and concise description of what the bug is. Include
  screenshots if needed. Please test using the latest version of the relevant
  React packages to make sure your issue has not already been fixed.
-->

React version: 18.2.0

## Steps To Reproduce

1. use function with generic type in useEffect

code example:
```ts
function useBug<T>(val: T) {
  const ref = useRef<T>(val)

  const fn = () => {
    const temp: T = ref.current // <-- if remove the generic type will be ok
  }

  useEffect(() => {
    fn()
  }, []) // <-- ESLint error: React Hook useEffect has a missing dependency: 'fn'.
}
```

package version:
```
npmPackages:
    @typescript-eslint/eslint-plugin: ^5.35.1 => 5.35.1 
    @typescript-eslint/parser: ^5.35.1 => 5.35.1 
    @typescript-eslint/scope-manager:  5.35.1 
    @typescript-eslint/type-utils:  5.35.1 
    @typescript-eslint/types:  5.35.1 
    @typescript-eslint/typescript-estree:  5.35.1 
    @typescript-eslint/utils:  5.35.1 
    @typescript-eslint/visitor-keys:  5.35.1 
    eslint: ^8.23.0 => 8.23.0 
    eslint-plugin-react-hooks: ^4.6.0 => 4.6.0 
```

relevant: [#20395](https://github.com/facebook/react/issues/20395)

<!--
  Your bug will get fixed much faster if we can run your code and it doesn't
  have dependencies other than React. Issues without reproduction steps or
  code examples may be immediately closed as not actionable.
-->



<!--
  Please provide a CodeSandbox (https://codesandbox.io/s/new), a link to a
  repository on GitHub, or provide a minimal code example that reproduces the
  problem. You may provide a screenshot of the application if you think it is
  relevant to your bug report. Here are some tips for providing a minimal
  example: https://stackoverflow.com/help/mcve.
-->

## The current behavior
```
React Hook useEffect has a missing dependency: 'fn'. Either include it or remove the dependency array.
```

## The expected behavior

No missing dependencies reported.
","['Type: Bug', 'Status: Unconfirmed', 'Component: ESLint Rules']",2022-08-27T04:07:01Z,4,1,https://github.com/facebook/react/issues/25149,Logical Bug
166,facebook/react,Bug: hydration mismatch in top component does not cause client-render fallback,"We render some markup on the server, but on the client (due to the bug in our app's code) we have a different state and we render nothing (instead of our markup).

In this case React should fallback to client render, so it is expected that the server-rendered markup is removed, but it's not. 

Notice, how the server-rendered placeholders are still visible though the `console.log` inside the component states that the visible state is false:
<img width=""1440"" alt=""Screenshot 2022-08-03 at 15 19 51"" src=""https://user-images.githubusercontent.com/1089670/182778644-d5ded261-86cc-4f55-8b6a-43d712e82335.png"">

The problem exists only if this branch happens to be at the very top of the components tree. React doesn't even see the mismatch.

React version: 18.2.0

## Steps To Reproduce

1. render some markup on the server
2. on client side render it as null

Link to code example:

https://stackblitz.com/edit/react-kpphvo?file=src/App.js

## The current behavior

Mismatch is ignored, client's render result is not applied

## The expected behavior

Fallback to client's render result, mismatch warning is reported, server rendered markup is removed","['Type: Bug', 'Status: Unconfirmed']",2022-08-04T06:35:26Z,3,5,https://github.com/facebook/react/issues/25038,Logical Bug
167,facebook/react,ReactDevTools extension doesn't work in private Firefox windows [DevTools Bug]: ,"### Website or app

reactjs.org

### Repro steps

1. Install the ReactDev tools extension for Firefox ( I am running Firefox Dev edition Version 104.0b5 on Debian-Linux)
2. Allow the extension to run in private WIndows by going to Add-ons and themes (Ctrl + Shift + A)
3.  Visit any website running a  development or production of React in Firefox(I have tested Firefox dev Edition and FirefoxESR) 
4. Open Firefoxdevtools and visit the components tab added by the Reactdevtools extenstion
5. I have tested a local dev build and a production build of React, and weirdly it works in non-private windows. But in Private windows, it doesn't see that the page uses React.
6. Below is a screenshot of what I see on both websites
7. ![reactdevtoolsbug](https://user-images.githubusercontent.com/97474001/182564648-ea35b0cf-0395-48b4-9c07-0220044d5422.png)




### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2022-08-03T08:42:51Z,3,1,https://github.com/facebook/react/issues/25033,Runtime Error
168,facebook/react,[DevTools Bug] Children cannot be added or removed during a reorder operation.,"### Website or app

https://github.com/HamaydaGabsi/Color-Project

### Repro steps

1. Select a palette
2. Select to color to view shades
3. Go back to the colors with the navigation arrow

### How often does this bug happen?

Every time

### DevTools package (automated)

react-devtools-extensions

### DevTools version (automated)

4.25.0-336ac8ceb

### Error message (automated)

Children cannot be added or removed during a reorder operation.

### Error call stack (automated)

```text
at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:26848:41
    at bridge_Bridge.emit (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:24626:22)
    at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:24795:14
    at listener (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:54959:39)
```


### Error component stack (automated)

_No response_

### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=Children cannot be added or removed during a reorder operation. in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react
```
","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2022-07-29T12:33:34Z,11,6,https://github.com/facebook/react/issues/25007,UI/UX Bug
169,facebook/react,Bug: eslint-plugin-react-hooks false positive conditional call after foreach,"<!--
  Please provide a clear and concise description of what the bug is. Include
  screenshots if needed. Please test using the latest version of the relevant
  React packages to make sure your issue has not already been fixed.
-->

React version:
```
    ""react"": ""^18.2.0"",
    ""react-dom"": ""^18.2.0""

    ""eslint"": ""^8.18.0"",
    ""eslint-plugin-react-hooks"": ""^4.6.0"",
```

## Steps To Reproduce

1. Open https://stackblitz.com/edit/vitejs-vite-tpaumc?file=src%2FApp.tsx&terminal=dev
2. Run `npx eslint src`
3. Get the following error:

```
error  React Hook ""React.useState"" is called in function ""App.View"" that is neither a React function component nor a custom React Hook function. React component names must start with an uppercase letter. React Hook names must start with the word ""use""  react-hooks/rules-of-hooks
```

<!--
  Your bug will get fixed much faster if we can run your code and it doesn't
  have dependencies other than React. Issues without reproduction steps or
  code examples may be immediately closed as not actionable.
-->

Link to code example: https://stackblitz.com/edit/vitejs-vite-tpaumc?file=src%2FApp.tsx&terminal=dev

<!--
  Please provide a CodeSandbox (https://codesandbox.io/s/new), a link to a
  repository on GitHub, or provide a minimal code example that reproduces the
  problem. You may provide a screenshot of the application if you think it is
  relevant to your bug report. Here are some tips for providing a minimal
  example: https://stackoverflow.com/help/mcve.
-->

## The current behavior

Given the following pattern:

```tsx
const MyComponent = () => {
  return <MyComponent.Ready />;
}

MyComponent.Ready = () => {
  const [...] = useX();

  return (...);
}
```

I get the following error:

error  React Hook ""React.useState"" is called in function ""MyComponent.Ready"" that is neither a React function component nor a custom React Hook function. React component names must start with an uppercase letter. React Hook names must start with the word ""use""  react-hooks/rules-of-hooks


## The expected behavior

Since MyComponent.Ready is an actual component, I shouldn't get this error.
","['Type: Bug', 'Status: Unconfirmed', 'Component: ESLint Rules']",2022-06-26T11:54:31Z,3,0,https://github.com/facebook/react/issues/24791,Logical Bug
170,facebook/react,Bug: `hidden` attribute does not accept string values,"<!--
  Please provide a clear and concise description of what the bug is. Include
  screenshots if needed. Please test using the latest version of the relevant
  React packages to make sure your issue has not already been fixed.
-->

React version: 

```
 ""react"": ""18.3.0-next-522f47345-20220614"",
 ""react-dom"": ""18.3.0-next-522f47345-20220614"",
```  

## Steps To Reproduce

```jsx
<span hidden=""until-found"">Hello React<span>
```

<!--
  Your bug will get fixed much faster if we can run your code and it doesn't
  have dependencies other than React. Issues without reproduction steps or
  code examples may be immediately closed as not actionable.
-->

Link to code example:

https://codesandbox.io/s/headless-violet-ygn593

## The current behavior

React will turn hidden into a boolean attribute and removes ""until-found"":

![preview of the dom after react-dom rendered until-found](https://user-images.githubusercontent.com/4113649/174130287-c07a5d53-e31c-43b4-8925-84a1c3dbf18d.jpg)

## The expected behavior

React does not strip ""until-found"" to allow using [hidden-until-found in Chrome 102+](https://developer.chrome.com/articles/hidden-until-found/) for better SEO and accessibility.","['Type: Bug', 'Component: DOM', 'Status: Unconfirmed']",2022-06-16T17:25:12Z,2,34,https://github.com/facebook/react/issues/24740,Logical Bug
171,facebook/react,[DevTools Bug]: Open in editor does not work on Firefox,"### Website or app

https://github.com/lwkchan/test-app

### Repro steps

This happens for any local React App, but I've provided a small CRA in case any automation is done. 

1. Visit the locally run app on Firefox Browser. In my case, v101.0.1 (64-bit)
2. Set up open in editor URL in settings, set up open in Editor URL. I used `""vscode://file/{path}""`
3. On the Components pane, select any element in the page
4. Click on ""Open in Editor"" button

Actual result:
Nothing happens. The link does not open in my editor

Desired result:
The link should open in my VSCode editor

I think the reason why this is happening is because of a Firefox bug where `window.open` does not work in extensions. It is used in [InspectedElement.js](https://github.com/facebook/react/blob/a4ead704ba1df8718d4866a23ac25e78f8ea901a/packages/react-devtools-shared/src/devtools/views/Components/InspectedElement.js#L228) to open the source url. According to https://bugzilla.mozilla.org/show_bug.cgi?id=1282021, the extension should use `browser.windows.create` for Firefox

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Component: Developer Tools']",2022-06-15T16:17:24Z,10,4,https://github.com/facebook/react/issues/24731,UI/UX Bug
172,facebook/react,"[DevTools Bug] Commit tree already contains fiber ""15"". This is a bug in React DevTools.","### Website or app

https://github.com/msanmaz/prisma-exp or development link https://crud-prisma.vercel.app/

### Repro steps

https://github.com/msanmaz/prisma-exp or development link https://crud-prisma.vercel.app/

-git clone above repo
- npm run dev locally
- go to http://localhost:3000/signup
- create dummy account with email and pass
- login to the account
- start profiler

### How often does this bug happen?

Every time

### DevTools package (automated)

react-devtools-extensions

### DevTools version (automated)

4.24.6.0-2c8a1452b

### Error message (automated)

Commit tree already contains fiber ""15"". This is a bug in React DevTools.

### Error call stack (automated)

```text
at updateTree (chrome-extension://dnjnjgbfilfphmojnmhliehogmojhclc/build/main.js:25307:19)
    at getCommitTree (chrome-extension://dnjnjgbfilfphmojnmhliehogmojhclc/build/main.js:25240:20)
    at ProfilingCache_ProfilingCache.getCommitTree (chrome-extension://dnjnjgbfilfphmojnmhliehogmojhclc/build/main.js:25768:11)
    at CommitRankedAutoSizer (chrome-extension://dnjnjgbfilfphmojnmhliehogmojhclc/build/main.js:44121:33)
    at ii (chrome-extension://dnjnjgbfilfphmojnmhliehogmojhclc/build/main.js:15307:7)
    at yj (chrome-extension://dnjnjgbfilfphmojnmhliehogmojhclc/build/main.js:16179:7)
    at wl (chrome-extension://dnjnjgbfilfphmojnmhliehogmojhclc/build/main.js:19178:86)
    at vl (chrome-extension://dnjnjgbfilfphmojnmhliehogmojhclc/build/main.js:18728:11)
    at ul (chrome-extension://dnjnjgbfilfphmojnmhliehogmojhclc/build/main.js:18720:23)
    at jl (chrome-extension://dnjnjgbfilfphmojnmhliehogmojhclc/build/main.js:18704:5)
```


### Error component stack (automated)

```text
at CommitRankedAutoSizer (chrome-extension://dnjnjgbfilfphmojnmhliehogmojhclc/build/main.js:44104:34)
    at div
    at div
    at div
    at SettingsModalContextController (chrome-extension://dnjnjgbfilfphmojnmhliehogmojhclc/build/main.js:36191:3)
    at Profiler_Profiler (chrome-extension://dnjnjgbfilfphmojnmhliehogmojhclc/build/main.js:53818:34)
    at ErrorBoundary_ErrorBoundary (chrome-extension://dnjnjgbfilfphmojnmhliehogmojhclc/build/main.js:37712:5)
    at div
    at div
    at ThemeProvider (chrome-extension://dnjnjgbfilfphmojnmhliehogmojhclc/build/main.js:37884:3)
    at PortaledContent (chrome-extension://dnjnjgbfilfphmojnmhliehogmojhclc/build/main.js:37914:5)
    at div
    at div
    at div
    at ThemeProvider (chrome-extension://dnjnjgbfilfphmojnmhliehogmojhclc/build/main.js:37884:3)
    at TimelineContextController (chrome-extension://dnjnjgbfilfphmojnmhliehogmojhclc/build/main.js:43126:3)
    at ProfilerContextController (chrome-extension://dnjnjgbfilfphmojnmhliehogmojhclc/build/main.js:42571:3)
    at TreeContextController (chrome-extension://dnjnjgbfilfphmojnmhliehogmojhclc/build/main.js:30468:3)
    at SettingsContextController (chrome-extension://dnjnjgbfilfphmojnmhliehogmojhclc/build/main.js:31094:3)
    at ModalDialogContextController (chrome-extension://dnjnjgbfilfphmojnmhliehogmojhclc/build/main.js:38309:3)
    at DevTools_DevTools (chrome-extension://dnjnjgbfilfphmojnmhliehogmojhclc/build/main.js:54320:3)
```


### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=Commit tree already contains fiber . This is a bug in React DevTools. in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react
```
","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2022-06-01T23:32:17Z,8,1,https://github.com/facebook/react/issues/24655,UI/UX Bug
173,facebook/react,Bug: Potential infinite loop with Suspense (and Error boundaries not triggered),"React version: latest stable (and experimental)

## Steps To Reproduce
1. Checkout the following repo: https://github.com/bvaughn/react-suspense-error-boundary-bug
2. Run `npm install && npm run dev`
3. Load the browser and observe an infinite loop of components re-rendering (rather than the error boundary catching the error).

I've added a lot of inline comments about things that are necessary to trigger this bug in this file:
https://github.com/bvaughn/react-suspense-error-boundary-bug/blob/main/pages/index.js

Note that I was unable to reproduce this bug with Code Sandbox or Create React App. It only reproduces when running with Next JS (and only in DEV mode). Maybe it has something to do with Next's custom error logging behavior? Unfortunately there's no way to disable this (see [vercel/next.js/discussions/13387](https://github.com/vercel/next.js/discussions/13387)) so I'm not sure.","['Type: Bug', 'Status: Unconfirmed']",2022-05-28T19:25:52Z,4,1,https://github.com/facebook/react/issues/24634,Logical Bug
174,facebook/react,"[DevTools Bug] Cannot remove node ""276"" because no matching node was found in the Store.","### Website or app

https://github.com/Fast-Pace-Transfer/analytics-dashboard-ui

### Repro steps

I am trying save a randomly generated set of colors with matching countries as an object in the local storage
from a context
So it doesn't change colors after a manual refresh

### How often does this bug happen?

Only once

### DevTools package (automated)

react-devtools-extensions

### DevTools version (automated)

4.24.6-ca7a38ae4

### Error message (automated)

Cannot remove node ""276"" because no matching node was found in the Store.

### Error call stack (automated)

```text
at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:26518:43
    at bridge_Bridge.emit (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:24436:22)
    at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:24605:14
    at listener (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:54547:39)
```


### Error component stack (automated)

_No response_

### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=Cannot remove node  because no matching node was found in the Store. in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react
```
","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2022-05-24T10:54:44Z,10,2,https://github.com/facebook/react/issues/24608,Logical Bug
175,facebook/react,[DevTools Bug]: Overlapping flamecharts in Profiler,"### Website or app

https://github.com/reactjs/reactjs.org

### Repro steps

1. Check out https://github.com/reactjs/reactjs.org/commit/9cee632619065ade1e84c0470900e3634661d0d2
2. Open the beta website (https://github.com/reactjs/reactjs.org/tree/main/beta), `yarn dev`
3. Use Profiler -> ""refresh and profile""

Some (but not all) commits appear a bit borked.

<img width=""825"" alt=""Screenshot 2022-05-23 at 19 41 25"" src=""https://user-images.githubusercontent.com/810438/169885681-95c41ea1-b5fd-4b19-a850-f90bc725f9ce.png"">


<img width=""795"" alt=""Screenshot 2022-05-23 at 19 41 20"" src=""https://user-images.githubusercontent.com/810438/169885677-dcf922d9-70f6-40df-84bf-a940ac5c5c7e.png"">
  

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Component: Developer Tools']",2022-05-23T18:43:13Z,4,0,https://github.com/facebook/react/issues/24600,Logical Bug
176,facebook/react,Bug: renderToPipeableStream and renderToStaticNodeStream render inconsistency,"the output html file include unexpected `<!-- --> ` in the `<title>` element when there are both variable and plain text together in `Html.js` react component.
The step is about `renderToPipeableStream` function, and in my project,  i notice similar inconsistent behavior in `renderToStaticNodeStream` as well.

**altho following steps is using v18.0. v18.1 have same results**

React version: 18.1.0

## Steps To Reproduce

If you find this steps too much, **I've already created a fork and attached link to the folk**, ***error is in html title element***

1. go to [ssr example sandbox](https://codesandbox.io/s/kind-sammet-j56ro?file=/server/render.js:1054-1614), i got this link from here https://github.com/reactwg/react-18/discussions/22
2. after entering codesandbox page, go to `src/Html.js` file
3. in line 17, replace `<title>{title}</title>` with `<title>{title} 321</title>`
4. save the file. (you may automatically fork this project after saving)
5. after rebuild, in the browser window on the right hand side, there are three buttons on the right side of url box. click `Open In New Window`
6. check new Window title

Link to code example:

https://codesandbox.io/s/agitated-night-oowlsi?file=/src/Html.js

## The current behavior

the page title and text in html <title> element are both `Hello<!-- --> 321<!-- -->`

## The expected behavior

the page title and value in html <title> element are supposed to be `Hello 321`

![Screen Shot 2022-05-21 at 11 03 26 PM](https://user-images.githubusercontent.com/5487482/169676832-7fba3617-de41-443b-af41-697fa4c067ee.png)

","['Type: Bug', 'Component: Server Rendering', 'React 18']",2022-05-22T03:31:38Z,0,0,https://github.com/facebook/react/issues/24592,Logical Bug
177,facebook/react,"Bug:  When hydrate <Suspense>, it shows loading forever.","After calling `hydrateRoot`, the import() function was not called. It keeps showing loading.

React version: 18.1.0

Link to code example: https://codesandbox.io/embed/gracious-lederberg-nomtf0
(For mocking server side rendering, I write content in `public/index.html`)

## The current behavior
Always showing loading

## The expected behavior
The component should be rendered after finishing loading.","['Type: Bug', 'Status: Unconfirmed', 'Component: Server Rendering']",2022-05-15T03:32:07Z,5,0,https://github.com/facebook/react/issues/24560,Logical Bug
178,facebook/react,Bug: `<select size value>` with `value` not matching any `option` results in first option being selected,"

React version: 18.1.0, 17.0.2

## Steps To Reproduce

1. render `<select value=""not-an-option"" size=""2""><option value=""an-option"">one</option></select>`


<!--
  Your bug will get fixed much faster if we can run your code and it doesn't
  have dependencies other than React. Issues without reproduction steps or
  code examples may be immediately closed as not actionable.
-->

Link to code example: https://codesandbox.io/s/react-18-select-value-with-value-not-matching-option-wopmt9?file=/src/index.js

## The current behavior

The first option will be marked as selected

## The expected behavior

No option should be selected

https://github.com/facebook/react/issues/10691 was asking for a warning.","['Type: Bug', 'Component: DOM', 'Status: Unconfirmed']",2022-04-29T14:22:45Z,2,0,https://github.com/facebook/react/issues/24469,UI/UX Bug
179,facebook/react,[DevTools Bug]: Error in event handler: Error: Attempting to use a disconnected port object,"### Website or app

https://codesandbox.io/s/blissful-raman-2on7k2

### Repro steps

1. Create a react app 
```
yarn create react-app test-react
cd test-react
yarn start
```
2. Create `.env.development` file in root.
```
HTTPS=true
PORT=4100
BROWSER=none
```
3. Visit https://localhost:4100/ in Chrome v100.0.4896.127
4. Open React Devtools by inspecting page, some times it shows `Components` tab but in large application it does not show the `Components` tab. If it shows the tab the error message is sent to dev tools every second.
5. See error message in [chrome://extensions/](chrome://extensions/)
6. This is not reproducible in Firefox v99.0.1.

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

`4.24.3 (3/30/2022)`

### Error message (automated)

`Error in event handler: Error: Attempting to use a disconnected port object`

### Error call stack (automated)
`build/background.js:139 (lOne)`

```
/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = ""/build/"";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 115);
/******/ })
/************************************************************************/
/******/ ({

/***/ 115:
/***/ (function(module, exports, __webpack_require__) {

""use strict"";
/* global chrome */


const ports = {};
const IS_FIREFOX = navigator.userAgent.indexOf('Firefox') >= 0;
chrome.runtime.onConnect.addListener(function (port) {
  let tab = null;
  let name = null;

  if (isNumeric(port.name)) {
    tab = port.name;
    name = 'devtools';
    installContentScript(+port.name);
  } else {
    tab = port.sender.tab.id;
    name = 'content-script';
  }

  if (!ports[tab]) {
    ports[tab] = {
      devtools: null,
      'content-script': null
    };
  }

  ports[tab][name] = port;

  if (ports[tab].devtools && ports[tab]['content-script']) {
    doublePipe(ports[tab].devtools, ports[tab]['content-script']);
  }
});

function isNumeric(str) {
  return +str + '' === str;
}

function installContentScript(tabId) {
  chrome.tabs.executeScript(tabId, {
    file: '/build/contentScript.js'
  }, function () {});
}

function doublePipe(one, two) {
  one.onMessage.addListener(lOne);

  function lOne(message) {
    two.postMessage(message);
  }

  two.onMessage.addListener(lTwo);

  function lTwo(message) {
    one.postMessage(message);
  }

  function shutdown() {
    one.onMessage.removeListener(lOne);
    two.onMessage.removeListener(lTwo);
    one.disconnect();
    two.disconnect();
  }

  one.onDisconnect.addListener(shutdown);
  two.onDisconnect.addListener(shutdown);
}

function setIconAndPopup(reactBuildType, tabId) {
  chrome.browserAction.setIcon({
    tabId: tabId,
    path: {
      '16': 'icons/16-' + reactBuildType + '.png',
      '32': 'icons/32-' + reactBuildType + '.png',
      '48': 'icons/48-' + reactBuildType + '.png',
      '128': 'icons/128-' + reactBuildType + '.png'
    }
  });
  chrome.browserAction.setPopup({
    tabId: tabId,
    popup: 'popups/' + reactBuildType + '.html'
  });
}

function isRestrictedBrowserPage(url) {
  return !url || new URL(url).protocol === 'chrome:';
}

function checkAndHandleRestrictedPageIfSo(tab) {
  if (tab && isRestrictedBrowserPage(tab.url)) {
    setIconAndPopup('restricted', tab.id);
  }
} // update popup page of any existing open tabs, if they are restricted browser pages.
// we can't update for any other types (prod,dev,outdated etc)
// as the content script needs to be injected at document_start itself for those kinds of detection
// TODO: Show a different popup page(to reload current page probably) for old tabs, opened before the extension is installed


if (!IS_FIREFOX) {
  chrome.tabs.query({}, tabs => tabs.forEach(checkAndHandleRestrictedPageIfSo));
  chrome.tabs.onCreated.addListener((tabId, changeInfo, tab) => checkAndHandleRestrictedPageIfSo(tab));
} // Listen to URL changes on the active tab and update the DevTools icon.


chrome.tabs.onUpdated.addListener((tabId, changeInfo, tab) => {
  if (IS_FIREFOX) {
    // We don't properly detect protected URLs in Firefox at the moment.
    // However we can reset the DevTools icon to its loading state when the URL changes.
    // It will be updated to the correct icon by the onMessage callback below.
    if (tab.active && changeInfo.status === 'loading') {
      setIconAndPopup('disabled', tabId);
    }
  } else {
    // Don't reset the icon to the loading state for Chrome or Edge.
    // The onUpdated callback fires more frequently for these browsers,
    // often after onMessage has been called.
    checkAndHandleRestrictedPageIfSo(tab);
  }
});
chrome.runtime.onMessage.addListener((request, sender) => {
  var _request$payload, _ports$id;

  const tab = sender.tab;

  if (tab) {
    const id = tab.id; // This is sent from the hook content script.
    // It tells us a renderer has attached.

    if (request.hasDetectedReact) {
      // We use browserAction instead of pageAction because this lets us
      // display a custom default popup when React is *not* detected.
      // It is specified in the manifest.
      setIconAndPopup(request.reactBuildType, id);
    } else {
      switch ((_request$payload = request.payload) === null || _request$payload === void 0 ? void 0 : _request$payload.type) {
        case 'fetch-file-with-cache-complete':
        case 'fetch-file-with-cache-error':
          // Forward the result of fetch-in-page requests back to the extension.
          const devtools = (_ports$id = ports[id]) === null || _ports$id === void 0 ? void 0 : _ports$id.devtools;

          if (devtools) {
            devtools.postMessage(request);
          }

          break;
      }
    }
  }
});

/***/ })

/******/ });
```

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2022-04-21T14:05:31Z,33,2,https://github.com/facebook/react/issues/24417,Dependency Issue
180,facebook/react,Bug: Internal React error: Expected static flag was missing,"<!--
  Please provide a clear and concise description of what the bug is. Include
  screenshots if needed. Please test using the latest version of the relevant
  React packages to make sure your issue has not already been fixed.
-->

React version: V18.0.0
React router DOM: V5.2.1

## Steps To Reproduce

1. Going to profile page
2. Warning: Internal React error: Expected static flag was missing. Please notify the React team.

<!--
  Your bug will get fixed much faster if we can run your code and it doesn't
  have dependencies other than React. Issues without reproduction steps or
  code examples may be immediately closed as not actionable.
-->

Link to code example:
![Screenshot 2022-04-17 124859](https://user-images.githubusercontent.com/51002164/163707500-3ee1ca51-9695-4e2e-b3c4-3f5e8f7a98b3.png)
DynamicFilter.js component
![Screenshot 2022-04-17 125107](https://user-images.githubusercontent.com/51002164/163707576-b8536b98-3b47-4c7e-84f3-abfa9f93dddf.png)


<!--
  Please provide a CodeSandbox (https://codesandbox.io/s/new), a link to a
  repository on GitHub, or provide a minimal code example that reproduces the
  problem. You may provide a screenshot of the application if you think it is
  relevant to your bug report. Here are some tips for providing a minimal
  example: https://stackoverflow.com/help/mcve.
-->

## The current behavior


## The expected behavior
","['Type: Bug', 'Status: Unconfirmed']",2022-04-17T08:53:53Z,23,0,https://github.com/facebook/react/issues/24391,Runtime Error
181,facebook/react,Bug: Events in shadow dom get duplicated when bubbling,"Events dispatching from inside a shadow-root will be handled multiple times while bubbling up the virtual DOM tree. I suspect this is because of event retargeting when crossing the boundary of the shadow dom.

React version: 17.0+, including 18-rc2

## Steps To Reproduce

Click on the button in the code example below:

https://codesandbox.io/s/react-shadow-dom-event-doubling-msgnj1

## The current behavior

`onDivClicked` is called twice per click on the button.

## The expected behavior

`onDivClicked` should only be called once per handled click.
","['Type: Bug', 'Component: DOM', 'Status: Unconfirmed']",2022-03-21T02:39:00Z,2,4,https://github.com/facebook/react/issues/24136,Logical Bug
182,facebook/react,[DevTools Bug]: Out of Memory randomly on pages,"### Website or app

https://bestellen-a.cito.nl

### Repro steps

Goto the site with the React DevTools extension installed.

After installing this plugin pages I noticed that chrome started giving ""Out of Memory"" error pages while visiting pages with react. Not all of the times but some times. After uninstalling the plugin the error message didn't show up anymore. Am I the first to experience this?

Is there anything I can supply to help figure out what is going wrong?

### How often does this bug happen?

Often

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Resolution: Needs More Information', 'Component: Developer Tools']",2022-03-09T16:54:32Z,1,0,https://github.com/facebook/react/issues/24064,Performance Issue
183,facebook/react,Bug: TypeError elem.nodeName.toLowerCase is not a function,"React version: 17 +

## Steps To Reproduce

1.window.nodeName exists and does not have a toLowerCase method
2.an error will be reported when the event is triggered, such as clicking on the page

![image](https://user-images.githubusercontent.com/18453647/154606817-e28d1747-1c85-4ce3-b384-35c8e198cad0.png)

[ChangeEventPlugin.js](https://github.com/facebook/react/blob/54f785bc51800556dead12aaedf9594b2f15e836/packages/react-dom/src/events/plugins/ChangeEventPlugin.js)

![image](https://user-images.githubusercontent.com/18453647/154607065-e1d6e87b-6c5a-493a-9e3c-5a7836d14a57.png)

","['Type: Bug', 'Component: DOM', 'Status: Unconfirmed']",2022-02-18T02:40:21Z,9,0,https://github.com/facebook/react/issues/23324,Logical Bug
184,facebook/react,Bug: pseudo styles don't work properly if React state does not change when clicking with right mouse button.,"I have a button that changes background in :hover and :active states. Clicking the button with left mouse button (LMB) works fine, styles change as they should. But, clicking with right mouse button (RMB) works fine only if underlying react state is actually changed (e.g. different from the previous state)

React version: 17.0.2

## Steps To Reproduce
1. Open the code example provided below
2. Click the ""Click Me"" button with LMB more than 2 times (DON'T move your mouse cursor while clicking)
3. Click the ""Click Me"" button with RMB more than 2 times (DON'T move your mouse cursor while clicking)

Link to code example: https://codesandbox.io/s/pensive-sunset-z1t69f

## The current behavior
No mater how many times you click with LMB, the ""Click Me"" button consistently changes its background color to yellow when you hold LMB down, and changes it back to silver when you release LMB.

The second time RMB pressed down, the background color of the ""Click Me"" button remains yellow, even if you release RMB. That is, whenever you click it with RMB and the new react state is the same as the previous, the button style remains yellow even if you release RMB.
## The expected behavior
Clicking the ""Click Me"" button with RMB should respect styles regardless of the underlying react state.","['Type: Bug', 'Component: DOM']",2022-02-16T00:14:02Z,11,0,https://github.com/facebook/react/issues/23306,UI/UX Bug
185,facebook/react,Bug: autoFocus broken inside <dialog /> ,"<!--
  Please provide a clear and concise description of what the bug is. Include
  screenshots if needed. Please test using the latest version of the relevant
  React packages to make sure your issue has not already been fixed.
-->

React version: 17 and 18.0.0-rc.0-next-27b569969-20220211

## Steps To Reproduce

1. render `<input /><input autoFocus />` inside `<dialog />`
2. execute the `showModal()` method of the dialog
3. you will notice that react will not set focus to the correct input element

![DialogAutoFocus](https://user-images.githubusercontent.com/4113649/154110039-dc6dbd63-f294-4089-aa25-420626088ef5.gif)


<!--
  Your bug will get fixed much faster if we can run your code and it doesn't
  have dependencies other than React. Issues without reproduction steps or
  code examples may be immediately closed as not actionable.
-->

Link to code example:

<!--
  Please provide a CodeSandbox (https://codesandbox.io/s/new), a link to a
  repository on GitHub, or provide a minimal code example that reproduces the
  problem. You may provide a screenshot of the application if you think it is
  relevant to your bug report. Here are some tips for providing a minimal
  example: https://stackoverflow.com/help/mcve.
-->

https://codesandbox.io/s/dreamy-meninsky-460wbr?file=/src/App.tsx

## The current behavior

In Chrome and Safari TP the element with `autofocus=""true""` will receive focus.  
However the element with `autoFocus={true}` will not receive focus.

## The expected behavior

From the html-spec https://html.spec.whatwg.org/multipage/interaction.html#the-autofocus-attribute

> The autofocus content attribute allows the author to indicate that an element is to be focused [...] as soon as the [dialog](https://html.spec.whatwg.org/multipage/interactive-elements.html#the-dialog-element) within which it finds itself is shown


From https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/autofocus

> The autofocus [global attribute](https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes) is a Boolean attribute indicating that an element should be focused on page load, or when the [`<dialog>`](https://developer.mozilla.org/en-US/docs/Web/HTML/Element/dialog) that it is part of is displayed

Therefore `autoFocus={true}` should also set the focus similar to `autofocus=""true""` for elements inside `<dialog />`
",['Type: Bug'],2022-02-15T17:00:06Z,15,35,https://github.com/facebook/react/issues/23301,UI/UX Bug
186,facebook/react,Reset button on iOS time input does not return correct event value,"<!--
  Please provide a clear and concise description of what the bug is. Include
  screenshots if needed. Please test using the latest version of the relevant
  React packages to make sure your issue has not already been fixed.
-->

React version: React 17.0.2
IOS version: 14+

## Bug
For iOS(Safari and Chrom).
The reset button function does not work on the time input:

 If I change time to 00:31, reset directly, the time jumps back to 00:30, but the computer still shows 00:31.
When pressing reset on a time input, the onChange event is not fired.

![reset](https://user-images.githubusercontent.com/83808682/154050608-748e912a-c6c7-4cae-9d27-9a705762b6d2.PNG)

<!--
  Your bug will get fixed much faster if we can run your code and it doesn't
  have dependencies other than React. Issues without reproduction steps or
  code examples may be immediately closed as not actionable.
-->

Link to code example:
https://stackblitz.com/edit/react-enuflz?file=src%2FApp.js
Pls try on iOS.

<!--
  Please provide a CodeSandbox (https://codesandbox.io/s/new), a link to a
  repository on GitHub, or provide a minimal code example that reproduces the
  problem. You may provide a screenshot of the application if you think it is
  relevant to your bug report. Here are some tips for providing a minimal
  example: https://stackoverflow.com/help/mcve.
-->

",['Type: Bug'],2022-02-15T11:16:40Z,9,0,https://github.com/facebook/react/issues/23299,Logical Bug
187,facebook/react,"Bug: eslint(react-hooks/exhaustive-deps) When a property is accessed with and without optional chaining, exhaustive-deps' code suggestion will introduce an error","## Steps To Reproduce

[StackBlitz demo](https://stackblitz.com/edit/node-v1wayx?devtoolsheight=33&file=index.js)

I've enabled `enableDangerousAutofixThisMayCauseInfiniteLoops` so you can run `npx eslint --fix index.js` and see the change that 
react-hooks/exhaustive-deps makes through the code suggestions API.

## The current behavior

When you accept react-hooks/exhaustive-deps' code suggestions the following code:

```js
import { useState, useEffect } from 'react';

export function MyComponent() {
  const [one] = useState(1);
  const [foo] = useState(undefined);

  useEffect(() => {
    console.log(one);
    if (foo?.bar) {
      console.log(foo.bar);
    }
  }, [one]);

  useEffect(() => {
    console.log(one);
    if (foo?.bar) {
      console.log(foo.bar);
    }
  }, [foo?.bar]);

  return null;
}

```

Will be incorrectly fixed to the following.

```js
import { useState, useEffect } from 'react';

export function MyComponent() {
  const [one] = useState(1);
  const [foo] = useState(undefined);

  useEffect(() => {
    console.log(one);
    if (foo?.bar) {
      console.log(foo.bar);
    }
  }, [foo.bar, one]);

  useEffect(() => {
    console.log(one);
    if (foo?.bar) {
      console.log(foo.bar);
    }
  }, [foo.bar, one]);

  return null;
}
```

## The expected behavior

react-hooks/exhaustive-deps should be recommending the following:

```js
import { useState, useEffect } from 'react';

export function MyComponent() {
  const [one] = useState(1);
  const [foo] = useState(undefined);

  useEffect(() => {
    console.log(one);
    if (foo?.bar) {
      console.log(foo.bar);
    }
  }, [foo?.bar, one]);

  useEffect(() => {
    console.log(one);
    if (foo?.bar) {
      console.log(foo.bar);
    }
  }, [foo?.bar, one]);

  return null;
}
```

## Additional details

When you include both an optional chaining usage `foo?.bar` and a non-optional chaining usage `foo.bar` exhaustive-deps will use the version without the optional chaining for the deps array. i.e. It will recommend a deps array containing `foo.bar`, which because `foo` may be undefined and the deps array is outside will result in a silent runtime error in JS or a TypeScript error in TS.

If you only use `foo?.bar` it will recommend `foo?.bar`. So this may be an order of usage issue, i.e. preferring the last usage. I haven't checked. However that is a problem because the most common reason to access the same property with and without optional chaining is a case where you have an if condition which implicitly guarantees that the member you use optional chaining on is not nullish and can be accessed directly and thus do not need optional chaining within the if condition's body. And in that case the version without optional chaining will always be the latter usage.

When you are already using `foo?.bar` will not try to autofix that. However this is made worse of an issue because if you are already using the correct version and you accept exhaustive-deps changes to fix a different issue (you added a new unrelated variable it needs to add) exhaustive-deps will override your `foo?.bar` dep and turn it into `foo.bar`.

If exhaustive-deps sees multiple versions of the same property access, it should recommend the version with the most optional chaining usage. Since anything less would create an error which would result in the optional chaining usage never even running.","['Type: Bug', 'Status: Unconfirmed', 'Component: ESLint Rules']",2022-02-08T03:35:55Z,1,9,https://github.com/facebook/react/issues/23248,Logical Bug
188,facebook/react,[DevTools Bug]: Inconsistent enforcement of using hooks in callbacks,"### Website or app

https://codesandbox.io/s/distracted-chihiro-u1mc2

### Repro steps

The rules-for-hooks linter seems to be applying rules about using hooks in callbacks inconsistently.

Using a hook in this callback is okay
`const useNamed = async () => useQuery();`
And subsequently sending it as a prop is also okay
`<Foo useData={useNamed} />`

However, assigning the anonymous callback directly in the prop triggers the linter rule ""React hook cannot be called inside a callback""
`<Foo useData={async () => useQuery()} />`

I'm having trouble understanding the difference. They appear to be equivalent code but with different results from the linter.
In which case is the linter correct?

Sandbox here: https://codesandbox.io/s/distracted-chihiro-u1mc2

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Component: ESLint Rules']",2022-02-03T03:56:20Z,5,0,https://github.com/facebook/react/issues/23230,Logical Bug
189,facebook/react,"[DevTools Bug] Cannot add node ""1"" because a node with that id is already in the Store.","### Repro steps

  
  ""react"": ""17.0.2"",
  ""react-native"": ""0.66.3"",
  ""react-devtools"": ""^4.22.0"",
  ""@react-navigation/devtools"": ""^6.0.5"",
  ""@react-navigation/bottom-tabs"": ""^6.1.0"",
  ""@react-navigation/core"": ""^6.1.1"",
  ""@react-navigation/elements"": ""^1.3.0"",
  ""@react-navigation/native"": ""^6.0.7"",
  ""@react-navigation/native-stack"": ""^6.3.0"",
  ""@react-navigation/routers"": ""^6.1.0"",
  ""@react-navigation/stack"": ""^6.1.0"",

### How often does this bug happen?

Every time

### DevTools package (automated)

react-devtools-core

### DevTools version (automated)

4.14.0-d0ec283819

### Error message (automated)

Cannot add node ""1"" because a node with that id is already in the Store.

### Error call stack (automated)

```text
at /Applications/React Native Debugger.app/Contents/Resources/app.asar/node_modules/react-devtools-core/dist/standalone.js:48:140545
    at c.emit (/Applications/React Native Debugger.app/Contents/Resources/app.asar/node_modules/react-devtools-core/dist/standalone.js:48:89515)
    at /Applications/React Native Debugger.app/Contents/Resources/app.asar/node_modules/react-devtools-core/dist/standalone.js:48:90986
    at /Applications/React Native Debugger.app/Contents/Resources/app.asar/node_modules/react-devtools-core/dist/standalone.js:48:347787
    at Array.forEach (<anonymous>)
    at S.Gc.e.onmessage (/Applications/React Native Debugger.app/Contents/Resources/app.asar/node_modules/react-devtools-core/dist/standalone.js:48:347771)
    at S.n (/Applications/React Native Debugger.app/Contents/Resources/app.asar/node_modules/react-devtools-core/dist/standalone.js:40:3009)
    at S.emit (events.js:315:20)
    at e.exports.P (/Applications/React Native Debugger.app/Contents/Resources/app.asar/node_modules/react-devtools-core/dist/standalone.js:8:9318)
    at e.exports.emit (events.js:315:20)
    at e.exports.dataMessage (/Applications/React Native Debugger.app/Contents/Resources/app.asar/node_modules/react-devtools-core/dist/standalone.js:8:15409)
    at e.exports.getData (/Applications/React Native Debugger.app/Contents/Resources/app.asar/node_modules/react-devtools-core/dist/standalone.js:8:14651)
    at e.exports.startLoop (/Applications/React Native Debugger.app/Contents/Resources/app.asar/node_modules/react-devtools-core/dist/standalone.js:8:12066)
    at e.exports._write (/Applications/React Native Debugger.app/Contents/Resources/app.asar/node_modules/react-devtools-core/dist/standalone.js:8:11421)
    at doWrite (_stream_writable.js:403:12)
    at writeOrBuffer (_stream_writable.js:387:5)
```


### Error component stack (automated)

_No response_

### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=Cannot add node  because a node with that id is already in the Store. in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react
```
","['Type: Bug', 'Resolution: Needs More Information', 'Component: Developer Tools']",2022-02-02T14:43:14Z,32,16,https://github.com/facebook/react/issues/23226,Logical Bug
190,facebook/react,"[DevTools Bug] Cannot remove node ""612"" because no matching node was found in the Store.","### Website or app

proprietary

### Repro steps

Overall, testing and refactoring of a component containing a formik wrapped form which includes a fieldarray with yup schema.
Using VS Code to serve the  React js application.

Unable to share the repo / website as it is proprietary.

Task: Logged in to the app to see the form as the specific user role required to see the component, testing yup schema on formik elements touched property to do some custom error connections in the containing component with React Developer Tools open to the Components view with the console also open.  

I was verifying the elements described in the schema file were getting 'touched' and was refining a select in yup schema js file.

Switched one element's schema property from yup.object() to yup.int() triggers the error.  This is a syntax error.  Should be yup.number().  But switching the two causes it all to crash.

 ""formik"": ""^2.2.6"",
  ""prop-types"": ""^15.7.2"",
  ""react"": ""^17.0.2"",
  ""react-router-dom"": ""4.3.1"",
  ""react-select"": ""^4.3.0"",
  ""yup"": ""^0.26.10""
  ""yarn"": ""^1.13.0"",

  ""babel-eslint"": ""^10.1.0"",


### How often does this bug happen?

Every time

### DevTools package (automated)

react-devtools-extensions

### DevTools version (automated)

4.23.0-e28a0db22

### Error message (automated)

Cannot remove node ""612"" because no matching node was found in the Store.

### Error call stack (automated)

```text
at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:26349:43
    at bridge_Bridge.emit (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:24415:22)
    at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:24581:14
    at listener (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:54033:39)
```


### Error component stack (automated)

_No response_

### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=Cannot remove node  because no matching node was found in the Store. in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react
```
","['Type: Bug', 'Status: Unconfirmed', 'Resolution: Needs More Information', 'Component: Developer Tools']",2022-01-27T21:13:43Z,26,1,https://github.com/facebook/react/issues/23202,Logical Bug
191,facebook/react,[DevTools Bug]: Incorrect source location after hot reload & editing props,"### Website or app

https://gist.github.com/kiootic/54986cd163b52cbbcd5d8283eb5ed06f

### Repro steps

1. Create a new react app using `create-react-app`
2. Replace the code in `App.js` with `App.jsx` in the gist
3. Start the app and inspect the 3 `p` elements using dev tool
4. Should observe correct line numbers (`App.js:4`, `App.js:5`, `App.js:6`)
5. In code editor, change the first `p` element to be multiline, like `App-update.jsx` in gist
6. After hot reload, should observe updated line numbers (`App.js:4`, `App.js:7`, `App.js:8`)
7. Using dev tool, change the first `p` element's `children` prop to be something else.
8. Should observe incorrect line numbers (reverted to `App.js:4`, `App.js:5`, `App.js:6`)
9. Repeat step 7 again, and should observe correct line numbers again.
10. The line numbers are observed to be alternating between correct & incorrect state when repeating the edit step.

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2022-01-17T16:15:21Z,0,0,https://github.com/facebook/react/issues/23130,Logical Bug
192,facebook/react,[DevTools Bug]: Devtools script served over insecure connection causing issues with local https server.,"### Website or app

https://github.com/malewis5/payment-sandbox

### Repro steps

Hi React Team,
I am trying to use the devtools to debug in Safari. I'm working with Apple Pay so I'm using ngrok to create a secure tunnel. When I visit the ngrok domain Safari throws a warning stating: 
```[blocked] The page at https://revcommerce.ngrok.io/ was not allowed to run insecure content from http://192.168.132.58:8097/.```

Repro steps: 
1. Clone and install dependencies.
2. Run using ngrok or other method for https.
3. Visit the page using **Safari**.
4. Inspect the page and you'll see the warning.

Thank you guys.

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2022-01-12T17:44:05Z,5,0,https://github.com/facebook/react/issues/23100,Security Vulnerability
193,facebook/react,[DevTools Bug]: React Dev Tools fails to render props and state of component.,"### Website or app

https://elisavidera.com/

### Repro steps

1. Goto https://elisavidera.com/
2. Start inspecting component
3. Issue happens on some components not all [https://static.elisa.com/v2/image/2tqybbhjs47b/3OvazhdGhnIeotXQqSB9ZK/Screenshot from 2021-12-31 13-28-10.png?w=800](url)
4. Also in browser console this gets reported
5. react_devtools_backend.js:12847 Uncaught DOMException: Blocked a frame with origin ""https://elisavidera.com"" from accessing a cross-origin frame.
    at exports.isElement (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/react_devtools_backend.js:12847:51)
    at getDataType (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/react_devtools_backend.js:1051:65)
    at dehydrate (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/react_devtools_backend.js:3487:82)
    at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/react_devtools_backend.js:3639:26
    at Set.forEach (<anonymous>)
    at dehydrate (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/react_devtools_backend.js:3637:91)
    at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/react_devtools_backend.js:3639:26
    at Set.forEach (<anonymous>)
    at dehydrate (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/react_devtools_backend.js:3637:91)
    at cleanForBridge (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/react_devtools_backend.js:1506:93)

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2021-12-31T11:30:47Z,0,1,https://github.com/facebook/react/issues/23052,Logical Bug
194,facebook/react,Bug: Rendering content inside an iFrame using createPortal with Firefox is blank,"<!--
  Please provide a clear and concise description of what the bug is. Include
  screenshots if needed. Please test using the latest version of the relevant
  React packages to make sure your issue has not already been fixed.
-->
I'm trying to render JSX content inside an iFrame using createPortal. It works fine in Edge, Chrome, but in Firefox the iframe body stays empty. 
React version: 17.0.2

## Steps To Reproduce

1. Render an iframe
2. Use createPortal inside the iframe with an element i.e <p>test</p>

<!--
  Your bug will get fixed much faster if we can run your code and it doesn't
  have dependencies other than React. Issues without reproduction steps or
  code examples may be immediately closed as not actionable.
-->

Link to code example: https://n6lyi.csb.app/

<!--
  Please provide a CodeSandbox (https://codesandbox.io/s/new), a link to a
  repository on GitHub, or provide a minimal code example that reproduces the
  problem. You may provide a screenshot of the application if you think it is
  relevant to your bug report. Here are some tips for providing a minimal
  example: https://stackoverflow.com/help/mcve.
-->

## The current behavior
In Firefox, the iframe content shows for like 300ms, then goes blank.

## The expected behavior
It should show content we passed using createPortal.","['Type: Bug', 'Status: Unconfirmed']",2021-11-30T14:06:08Z,5,3,https://github.com/facebook/react/issues/22847,Runtime Error
195,facebook/react,[DevTools Bug]: They make Firefox's debugger unusable (can't continue or step over),"### Website or app

https://jsfiddle.net/xyuri/ejp1of89/

### Repro steps

It's really easier to reproduce by opening a simple page in Firefox (93 in my case):

```html
<!doctype html>
<html>
<body>
<script>
    console.log(1);
    debugger
    console.log(1);
    debugger
    console.log(1);
</script>
</body>
</html>
```

Because in a sandbox, Firefox behaves even more... erratically?

The steps:

1. Open the page. Open the Firefox's dev tools. Refresh. It stops on the first `debugger` statement.
2. Press F8 (continue) or F10 (step over). And now there are signs that the debugging session ended (no current line, Continue button changes into Pause button), and that it goes on (Stop loading this page button doesn't change into Reload current page button, the loading page spinner is, well, spinning). All in all, the debugger doesn't respond to keys or button presses. To give you a glimpse of what it looks like:

![](https://i.imgur.com/A9CHFQ3.png)

Sometimes it helps to step into and out of the debugger statement (instead of F8/F10). After that it works. But not always.

When I disable the extension, it works without any tricks. Took me a while to figure out.

I tried disabling everything but React Dev Tools and restarting Firefox. No difference.

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Component: Developer Tools']",2021-11-25T06:10:38Z,1,0,https://github.com/facebook/react/issues/22828,Logical Bug
196,facebook/react,Timeline: Nested update warning logic flaw,"Timeline shows the following nested update warning when a synchronous update causes an event handler to run long:
> A big nested update was scheduled during layout. Nested updates require React to re-render synchronously before the browser can paint. Consider delaying this update by moving it to a passive effect (useEffect).

This warning was intended to encourage developers to move _heavy_ updates from layout effects into passive effects so that they did not block paint or stretch event handlers.

Unfortunately this warning currently does not handle a few cases well:
1. Passive effects might be flushed synchronously (along with their updates) if a layout effect schedules a synchronous update.
2. ~~Click events now always flush passive effects synchronously~~ (see https://github.com/facebook/react/issues/20074#issuecomment-811296789).

This means that the current warning may be confusing or misleading. We should either update it to ensure that it never fires for updates that were _already_ scheduled inside of a passive effect, or if that is not possible we should remove it entirely.","['Type: Bug', 'Component: Developer Tools', 'Component: Scheduling Profiler']",2021-11-09T20:45:50Z,4,0,https://github.com/facebook/react/issues/22731,Logical Bug
197,facebook/react,[DevTools Bug]: Chrome extension's settings reset after every reload,"### Website or app

Chrome 95.0.4638.69 (Official Build) (64-bit), DevTools version 4.21.0-2f8f60ca8

### Repro steps

1. Open Chrome dev tools
2. Switch to Components or Profiler tab 
3. Select settings and change for example ""Highlight updates when components render.""
4. Reload window
5. Get back to settings - checbox is not checked.

Expected behavior is to preserve settings forever (local storage?) or at least between reloads.

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Resolution: Needs More Information', 'Component: Developer Tools']",2021-11-09T06:08:26Z,17,2,https://github.com/facebook/react/issues/22727,
198,facebook/react,Bug: Parent <details> onToggle handler called when child <details> onToggle handler is triggered,"<!--
  Please provide a clear and concise description of what the bug is. Include
  screenshots if needed. Please test using the latest version of the relevant
  React packages to make sure your issue has not already been fixed.
-->

React version: 17.0.2

## Steps To Reproduce

1. Declare a `<details>` element nested inside another `<details>` element.
2. Add a handler for the `onToggle` event for each `<details>` element.
3. Toggle the nested `<details>` element.
4. Observe that its handler and its parent's handler are both called.

<!--
  Your bug will get fixed much faster if we can run your code and it doesn't
  have dependencies other than React. Issues without reproduction steps or
  code examples may be immediately closed as not actionable.
-->

Link to code example: https://codepen.io/jordanbtucker/pen/oNedvvE?editors=0010

<!--
  Please provide a CodeSandbox (https://codesandbox.io/s/new), a link to a
  repository on GitHub, or provide a minimal code example that reproduces the
  problem. You may provide a screenshot of the application if you think it is
  relevant to your bug report. Here are some tips for providing a minimal
  example: https://stackoverflow.com/help/mcve.
-->

## The current behavior
The `onToggle` event for child `<details>` elements triggers handlers for parent `<details>` elements. This behavior does not occur in normal DOM environments.

## The expected behavior
The `onToggle` event should only trigger its own handler.","['Type: Bug', 'Component: DOM', 'Status: Unconfirmed']",2021-11-07T19:48:36Z,4,0,https://github.com/facebook/react/issues/22718,
199,facebook/react,[DevTools Bug]: Components without own dimensions not highlighted at all,"### Website or app

https://codesandbox.io/s/trusting-night-35uuz?file=/src/App.js

### Repro steps

Create a fixed element with an absolute child like this: 
```js
  return (
    <div style={{ position: ""fixed"", left: point.x, top: point.y }}>
      <div
        style={{
          position: ""absolute"",
          color: ""blue""
        }}
      >
        Popover
      </div>
    </div>
  );
```
On top of that implement `rAF` loop updating the `point`. In such a scenario the root `div` gets constantly rerendered but no highlight is drawn on the canvas. Or rather - it is drawn ([here](https://github.com/facebook/react/blob/54f6ae9b1c0489784f6a95bbe26ffec31816d74a/packages/react-devtools-shared/src/backend/views/TraceUpdates/canvas.js#L49)), but its dimensions are 0x0 so nothing gets highlighted from the user perspective.

If you believe this is an issue I would gladly work on a fix. I'm unsure what would be the proper fix here. My ideas are those:
1. either introduce more heuristics for measuring nodes in [this function](https://github.com/facebook/react/blob/cae635054e17a6f107a39d328649137b83f25972/packages/react-devtools-shared/src/backend/views/TraceUpdates/index.js#L135-L143)
2. or always draw at least 2px x 2px highlight

cc @bvaughn 

### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2021-11-05T11:16:58Z,3,0,https://github.com/facebook/react/issues/22703,
200,facebook/react,Bug: Failed to execute 'insertBefore' on 'Node' And Failed to execute 'removeChild' on 'Node' with Chrome translate,"```js
  const [oneShow, setOneShow] = useState(false);
  const [twoShow, setTwoShow] = useState(true);
  
  return (
    <div>
      <h1>??????</h1>
      <div>
        <span>?{oneShow && '????' }?</span>
      </div>
      <button onClick={() => {
        setOneShow(true)
      }}>??
      </button>

      <h1>??????</h1>
      <div>
        <span>?{twoShow && '????' }?</span>
      </div>
      <button onClick={() => {
        setTwoShow(false)
      }}>??
      </button>

    </div>
  );
```
???????????(?????????)???????????????

---

Edited by @bvaughn to add [translation](https://translate.google.com/?sl=zh-CN&tl=en&text=%E8%BF%99%E4%BB%A3%E7%A0%81%E5%9C%A8%E8%BF%9B%E8%A1%8C%E8%B0%B7%E6%AD%8C%E7%BF%BB%E8%AF%91%E5%90%8E(%E8%AF%B7%E9%80%89%E6%8B%A9%E7%BF%BB%E8%AF%91%E6%88%90%E9%9D%9E%E4%B8%AD%E6%96%87)%E5%88%86%E5%88%AB%E4%BC%9A%E8%A7%A6%E5%8F%91%E6%8F%92%E5%85%A5%E5%88%A0%E9%99%A4%E8%8A%82%E7%82%B9%E7%9A%84%E9%94%99%E8%AF%AF%E3%80%82&op=translate):
> This code will trigger the error of inserting and deleting nodes after Google translation (please choose to translate into non-Chinese).","['Type: Bug', 'Resolution: Duplicate', 'Status: Unconfirmed']",2021-11-05T07:42:28Z,3,1,https://github.com/facebook/react/issues/22702,
201,facebook/react,"Bug: ""The above error"" should appear after the error message but appears before (for some errors)","React version: both latest (17.0.2) and next (18.0.0-alpha-9c8161ba8-20211028)

## Steps To Reproduce

1. Render `<input>hello</input>` to trigger the ""input is a void element tag"" error

Link to code example: https://codesandbox.io/s/cocky-matan-ydmys

## The current behavior

Two log lines appear:
1. ""The above error occurred in the \<input> component""
2. ""input is a void element tag""

![image](https://user-images.githubusercontent.com/6820/139519976-0f3d55c3-638f-40b0-b09d-0df3ffdfa305.png)

## The expected behavior

They should be in the other order:

1. ""input is a void element tag""
2. ""The above error occurred in the \<input> component""

This problem doesn't occur in the same way if a component throws an error. Presumably this goes through a different error handling path because it comes from the host config.

If someone works on this, you may also want to review look at this issue at the same time:

* #18101","['Type: Bug', 'Size: Medium']",2021-10-30T04:24:28Z,18,8,https://github.com/facebook/react/issues/22656,
202,facebook/react,React 18 - Internal React error if throwing on hook cleanup function.,"Running the following test:

```javascript
import React, { useEffect } from ""react"";
import { create } from ""react-test-renderer"";

const Boom = () => {
    useEffect(() => {
        return () => {
            throw new Error(""Boom"");
        };
    }, []);

    return null;
};

it(""prints an error to the console on next is fine on latest"", () => {
    const res = create(<Boom />);
    res.unmount();    
});
```

I'll get the following error message: 
```
 console.error
    Warning: Internal React error: Attempted to capture a commit phase error inside a detached tree. This indicates a bug in React. Likely causes include deleting the same fiber more than once, committing an already-finished tree, or an inconsistent return pointer.
```

The test will pass but considering the nature of the message and that it differs from latest I thought reporting it might be a good idea.  Repo if you need it https://github.com/andrew-w-ross/react-18-unmount-error
","['Type: Bug', 'Component: Test Renderer']",2021-10-28T23:37:02Z,8,2,https://github.com/facebook/react/issues/22650,
203,facebook/react,DevTools can't load Components tree in Components Tab,"## Summary

There's a mix of several different issues that result in the Components tree not being able to load, which happens inconsistently. 

In some cases, after trying out a different build of DevTools with a potential fix, the issue seems to fully resolve itself, even after going back to using the ""bad"" build where the issue originally occurred. However, that doesn't mean the issue is fixed by that build, since other reports keep occurring.

This issue is a master task tracking all of the issues we've seen so far from user reports:

- `Cannot add node ""x"" because a node with that id is already in the store`, reported in #21636 before we shipped v4.20.0.
- `No location name for view with id <id_of_components _tab>`, reported in the console inspecting DevTools itself.
![image](https://user-images.githubusercontent.com/1271509/139111165-e5717518-f1fa-4579-80a9-5f8a0b80bf90.png)
- `Invalid renderer id ""1""`, logged in the console of the main page
![image](https://user-images.githubusercontent.com/1271509/139113532-ceff5ac1-ab50-42ef-a432-153ea63733fa.png)
- `Unable to find React on the page.`, which suggests that the extension failed to load entirely as that's just placeholder text from before the extension panels are created with Chrome.
![image](https://user-images.githubusercontent.com/1271509/139111465-21759a3c-6455-49df-acfc-e7c56e430cb5.png)
- `Uncaught error: Extension Context Invalidated`, reported in #22577.
https://user-images.githubusercontent.com/7581546/137986963-f55b9fc2-745d-4aeb-8b8b-49645197c163.png
- Navigating to a new tab doesn't load Components tree (even after v4.21.0 w duplicate extension logic reverted). See https://github.com/facebook/react/issues/22663 for details

![image](https://user-images.githubusercontent.com/1271509/139601873-7e923b1d-6831-4994-ac17-d94ba58cf409.png)

- No error being shown at all, as also reported in #22577.


---------

## Root Cause and Fixes

- The suspected root cause is the changes shipped in v4.20.0 for detecting duplicate installations of DevTools. 
- A fix was attempted with v.4.20.2, based on reports from users in #22636 confirming that our changes in #22597 fixed the issue
- The logic is now being fully reverted in https://github.com/facebook/react/pull/22638
","['Type: Bug', 'Type: Discussion', 'Component: Developer Tools']",2021-10-27T16:49:04Z,10,7,https://github.com/facebook/react/issues/22636,
204,facebook/react,"devtools: ""What caused this update?"" when a lazy component resolves","React version: 18.2.0
Devtools version: 4.23.0-e28a0db22

Since https://github.com/facebook/react/pull/21171 React Devtools shows which fiber scheduled an update.

In the case of 

```tsx
root.render(
  <React.Suspense>
    <LazyComponent />
  </React.Suspense>
);
```
where `LazyComponent` is some `React.lazy(() => {})` component we usually create two commits:
1. initial render where `LazyComponent` suspends
2. `LazyComponents` resolves

In legacy roots for the revealing commit Devtools displays the hostroot as the updater: https://github.com/facebook/react/pull/22602/files#diff-3582df0bd6a071e1986363b080d3012a9c492b8be7dd4e67f39d72078422d316R1368-R1376.
For new roots we get ""unknown"" for the second commit (i.e. no updates): https://github.com/facebook/react/pull/22602/files#diff-3582df0bd6a071e1986363b080d3012a9c492b8be7dd4e67f39d72078422d316R1267.
Codesandbox for full repro: https://codesandbox.io/p/sandbox/18-2-updaters-when-lazy-component-resolves-ff5x6h

I would've expected that for both roots we get the nearest Suspense boundary that can commit after `LazyComponent` resolved. Or at least the fiber that ""unsuspended"" (not sure if this is the right terminology). The corresponding hostroot wouldn't help me much but I'm not that concerned with legacy roots in this instance.

Right now the information isn't all that helpful. I noticed this especially for a larger apps with multiple suspense boundaries and partial hydration. 

I profiled the same codesandbox in the scheduling profiler but also couldn't extract any useful information with regards to why the second commit happened.","['Type: Bug', 'Component: Developer Tools', 'React Core Team']",2021-10-20T17:56:50Z,2,0,https://github.com/facebook/react/issues/22603,
205,facebook/react,[DevTools Bug]: Hook names fail to parse if source file for Component is an html file,"When testing our fixture in Safari (`./fixtures/devtools/standalone/index.html`) with the standalone build if DevTools, I noticed that we were unable to parse hook names because the source file where the components are defined isn't a JavaScript file, and instead an HTML file (as in `index.html`), which contains HTML code, and some JS inside script tags, so the babel parser fails to parse the file.

Specifically:

```javascript
// parseSourceAndMetadata.js

const originalSourceAST = withSyncPerfMeasurements(
  '[@babel/parser] parse(originalSourceCode)',
  () =>
    parse(originalSourceCode, {
      sourceType: 'unambiguous',
      plugins: ['jsx', plugin],
    }),
);
```
In the above code, the call to `parse` fails because `originalSourceCode` is actually html (with JS inside) like:

```
<!DOCTYPE html>
<html>
  <head>
    <meta charset=""UTF-8"" />
    <title>TODO List</title>

    <!-- ... -->

  <body>
    <div id=""root""></div>
    <script type=""text/javascript"">
      const { useState } = React;

      function App() {
        const [count, setCount] = useState(0);
        return null;
      }

      ReactDOM.render(React.createElement(App), document.getElementById(""root""));
    </script>
  </body>
```

And `parse` expects actual JS code.

DevTools should handle the case when source files aren't JS files, and still be able to extract out the hook names, or fail more gracefully. As of #22320, we log to the console a slightly better error message when this happens, as opposed to an obscure parsing error.

### Repro steps

1. Run standalone app
2. Open fixtures file in safari: ./fixtures/devtools/standalone/index.html
3. Try getting hook names, observe that parsing source files fails","['Type: Bug', 'Component: Developer Tools']",2021-09-14T21:35:28Z,6,1,https://github.com/facebook/react/issues/22319,
206,facebook/react,Bug: Rules of Hooks should not allow passing a Hook as a function argument,"See failing test in https://github.com/facebook/react/pull/22044.

Even if the PR gets stale, we should implement this check because currently it lets you circumvent the rule.","['Type: Bug', 'Component: ESLint Rules', 'Resolution: Backlog']",2021-09-06T19:30:25Z,8,0,https://github.com/facebook/react/issues/22254,
207,facebook/react,Bug: Nested ReactDOMServer.renderToString calls cause React hooks to throw invalid hook exception,"When you make a nested ReactDOMServer.renderToString call (i.e. call ReactDOMServer.renderToString from within a component rendered using ReactDOMServer.renderToString), you can not use any hooks after the second call. Custom hooks work, but React hooks throw a invalid hook call error.
Not sure if this is an acceptable use case for ReactDOMServer, this is how a current project is setup, I am just making some additional hook calls and encountered this error. I have replicated the issue on a fresh React app with nothing else.

React version: 17.0.2

## Steps To Reproduce

1. Createa a component, ComponentA
2. In ComponentA make a call to ReactDOMServer.renderToString, and then use a React hook (useState, useContext etc.)
3. In the main app render ComponentA via ReactDOMServer.renderToString (ReactDOMServer.renderToString(<ComponentA />)

Link to code example: https://codesandbox.io/s/sweet-kate-etr68
## The current behavior
Throws an invalid hook call exception

## The expected behavior
Work as usual, hooks working as normal.","['Type: Bug', 'Component: Server Rendering', 'Type: Needs Investigation']",2021-08-30T17:24:22Z,12,1,https://github.com/facebook/react/issues/22214,
208,facebook/react,[DevTools Bug]: React Profiler: Flamegraph section overflows and not resizable,"### Website or app

https://stackoverflow.com/help/minimal-reproducible-example

### Repro steps

note: the URL I linked is not relevant and only meant to make the bug report submit pass, previously closed [here](https://github.com/facebook/react/issues/22137) since I couldn't find any production site with a *development* build, so I don't think it makes sense to outright fail bug reports for react profiler related issue. 

actual bug report:
I have a page that has lots of component so the component tree is pretty long, when I profile on it, the flamechart just overflows by default and I have to put it fullscreen to see the ""why did this render"" side bar
![image](https://user-images.githubusercontent.com/2238944/130124388-4dc40efd-b8a0-4a03-aacf-3d8bc6d64990.png)


### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Resolution: Needs More Information', 'Component: Developer Tools']",2021-08-19T18:34:00Z,6,2,https://github.com/facebook/react/issues/22138,
209,facebook/react,[DevTools Bug]: Cannot hover/click elements after scrolling,"### Website or app

https://9tdhf.csb.app/

### Repro steps

1. disable any component filter
2. scroll component tree
3. hover any element

https://user-images.githubusercontent.com/12292047/129872819-0e3c06aa-fc24-4c15-84c7-73940eb136b3.mp4



### How often does this bug happen?

Every time

### DevTools package (automated)

1d2528097

### DevTools version (automated)

4.16.0

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2021-08-18T09:21:06Z,15,2,https://github.com/facebook/react/issues/22122,
210,facebook/react,[DevTools Bug]: React Devtools on Firefox initially shows an empty (blank) component tree,"### Website or app

https://reactjs.org/

### Repro steps

1. Go to any site built with React.js 
2. Open the React Devtools from the firefox developer tools window.
3. There will be an empty component when **Components** tab is selected
4. Now refresh the page to see the component tree getting populated inside the **Components** tab.

Windows Version - Windows 10 21H1
Firefox Version - v90.0.2 (64-bit)

Attaching a GIF of the issue while visiting reactjs.org - 
![O7VSagSc5l](https://user-images.githubusercontent.com/32711472/128354658-47665f4e-9fc4-479b-b16b-08c92c277376.gif)



### How often does this bug happen?

Every time

### DevTools package (automated)

_No response_

### DevTools version (automated)

_No response_

### Error message (automated)

_No response_

### Error call stack (automated)

_No response_

### Error component stack (automated)

_No response_

### GitHub query string (automated)

_No response_","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2021-08-05T13:05:15Z,13,11,https://github.com/facebook/react/issues/22034,
211,facebook/react,Bug: radio and checkbox controlled checked property is not updated when browser restores form state,"<!--
  Please provide a clear and concise description of what the bug is. Include
  screenshots if needed. Please test using the latest version of the relevant
  React packages to make sure your issue has not already been fixed.
-->

React version: 17.0.2

## Steps To Reproduce

1. Add a textbox, two radio buttons (or checkboxes) controlling the `checked` property with state, and a `button[type=submit]`.
2. Check off the second item (""Bananas"").
3. Enter text into the ""Your name"" textbox.
4. Right click on the tab and duplicate it. Alternative: close + re-open the tab, or navigate away to a different page and go back.

```javascript
function App() {
  const [fruit, updateFruit] = useState(""apple"");
  const [name, updateName] = useState("""");

  function onFruitChange(e) {
    const newFruit = e.target.value;
    updateFruit(newFruit);
  }

  function onNameChange(e) {
    const newName = e.target.value;
    updateName(newName);
  }

  return (
    <div>
      <label>
        <input type=""radio"" name=""fruit"" value=""apple"" checked={fruit === ""apple""} onChange={onFruitChange} />
        Apples
      </label>
      <label>
        <input type=""radio"" name=""fruit"" value=""banana"" checked={fruit === ""banana""} onChange={onFruitChange} />
        Bananas
      </label>
      <div>
        <input type=""text"" name=""name"" placeholder=""Your name"" value={name} onChange={onNameChange} />
      </div>
      <div>
        Preferred fruit:
        {fruit === ""apple"" ? ""Apples"" : ""Bananas""}
      </div>
      <br />
      <div>Your name: {name}</div>
      <hr />
      <br />
      <div>
        <button type=""submit"">Save</button>
      </div>
    </div>
  );
}
```

https://user-images.githubusercontent.com/613788/124511769-e9187000-dda4-11eb-99f9-e1334d4057c3.mp4

<!--
  Your bug will get fixed much faster if we can run your code and it doesn't
  have dependencies other than React. Issues without reproduction steps or
  code examples may be immediately closed as not actionable.
-->

Link to code example:

https://codesandbox.io/s/hungry-glitter-ut79s

**IMPORTANT**: This CodeSandbox won't work because the browser will be too early when restoring the form state (transpiling is too slow). I suggest taking this script to a local server to confirm that the browser was able to properly restore form state when loading the page.

<!--
  Please provide a CodeSandbox (https://codesandbox.io/s/new), a link to a
  repository on GitHub, or provide a minimal code example that reproduces the
  problem. You may provide a screenshot of the application if you think it is
  relevant to your bug report. Here are some tips for providing a minimal
  example: https://stackoverflow.com/help/mcve.
-->

## The current behavior

The `banana` radio is checked and `Preferred fruit: Apples` is shown. The react state has `fruit === 'apple'` but the browser has the opposite state.

I've confirmed that this behavior happens with `input[type=checkbox]` too.

## The expected behavior

To match the behavior of other controlled inputs like the textbox, `apple` radio should be checked and `Preferred fruit: Apples` should be shown. The input `checked` property isn't being synced. 

## Related issues

- https://github.com/facebook/react/issues/10657
  - I'm not using SSR though.
- https://github.com/facebook/react/issues/18502
  - Maybe related, but I'm not using `defaultChecked`.
- https://github.com/vercel/next.js/issues/6128
  - Similar issues.","['Type: Bug', 'Component: DOM']",2021-07-05T19:25:33Z,11,4,https://github.com/facebook/react/issues/21801,
212,facebook/react,Bug: Picture elements fail to update to appropriate source image on window resize in Safari,"Using Safari 14.0.3 on macOS Big Sur 11.2.2, `<picture>` elements rendered using React fail to update to the correct image source when the window is resized.

If fixing this bug would be considered a good first ticket and some guidance is provided, I'd be happy to fix it.

React version: 17.0.2

## Steps To Reproduce

1. Resize window across picture's breakpoint (768px)

Link to code example: [https://codesandbox.io/s/dazzling-nobel-bh3gh](https://codesandbox.io/s/dazzling-nobel-bh3gh)

## The current behavior

The first image (rendered using React) continues to render the initial source image.

## The expected behavior

The first image should behave the same as the second (rendered statically inside index.html) and switch to the correct source image when a media condition applies.","['Type: Bug', 'Browser: Safari', 'Component: DOM', 'Status: Unconfirmed']",2021-06-27T18:00:49Z,2,0,https://github.com/facebook/react/issues/21761,
213,facebook/react,[DevTools Bug] Children cannot be added or removed during a reorder operation.,"### Website or app

https://github.com/Alice-in-korea/chrome_bug_report.git

### Repro steps

1. Click next day button or prev day button
2. Normally there are only three column for three days but you can see the fragment of other column with error message.

### How often does this bug happen?

Every time

### DevTools package (automated)

react-devtools-extensions

### DevTools version (automated)

4.13.5-0ae5290b54

### Error message (automated)

Children cannot be added or removed during a reorder operation.

### Error call stack (automated)

```text
at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:21301:41
    at bridge_Bridge.emit (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:19286:22)
    at chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:19446:12
    at listener (chrome-extension://fmkadmapgofadopljbjfkapdkoienihi/build/main.js:37413:39)
```


### Error component stack (automated)

_No response_

### GitHub query string (automated)

```text
https://api.github.com/search/issues?q=Children cannot be added or removed during a reorder operation. in:title is:issue is:open is:public label:""Component: Developer Tools"" repo:facebook/react
```
","['Type: Bug', 'Status: Unconfirmed', 'Component: Developer Tools']",2021-06-25T04:11:26Z,11,11,https://github.com/facebook/react/issues/21751,
214,facebook/react,Inconsistent crossbrowser onBeforeInput paste event behavior,"### React version: 17.0.2
In Chrome, pasting triggers `onPaste` and `onBeforeInput`, with the `nativeEvent`s `ClipboardEvent` and `TextEvent` respectively.

In Firefox, pasting only triggers `onPaste` with `nativeEvent` `paste`.

If I'm not mistaken, this seems to be the code responsible for not triggering `onBeforeInput` on native `paste` events:
https://github.com/facebook/react/blob/27c9c95e23ddedb9163373950e364dd62038f6c0/packages/react-dom/src/events/plugins/BeforeInputEventPlugin.js#L328-L331

### React version: 17.0.2 and 18.0.0

17.0.2
https://codesandbox.io/s/condescending-cerf-e1qt9?file=/src/App.js
18.0.0
https://codesandbox.io/s/sparkling-sun-fylti?file=/src/App.js","['Type: Bug', 'Component: DOM', 'Status: Unconfirmed']",2021-06-24T01:13:36Z,3,0,https://github.com/facebook/react/issues/21742,
215,facebook/react,Bug: Webpack process and setImmediate polyfill interferes with time slicing,"Here's the copy paste of the polyfill: https://gist.github.com/gaearon/5d2f7bedf76d7bbec2b5c1ee04861ce3

This reproes with old CRA (e.g. `react-scripts@0.7.0`). I saw this on this branch: https://github.com/Swizec/react-fractals/pull/16

The result is concurrent renders get grouped into a huge blocking task:

<img width=""815"" alt=""Screenshot 2021-06-15 at 18 01 27"" src=""https://user-images.githubusercontent.com/810438/122094843-8581cf00-ce04-11eb-9a40-fd3758301255.png"">

Not sure why yet.","['Type: Bug', 'Component: Concurrent Features', 'React 18']",2021-06-15T17:07:37Z,1,0,https://github.com/facebook/react/issues/21685,
216,facebook/react,Bug: Firefox and react-dom causing null access property,"<!--
  Please provide a clear and concise description of what the bug is. Include
  screenshots if needed. Please test using the latest version of the relevant
  React packages to make sure your issue has not already been fixed.
-->

React version: 17.0.2

## Steps To Reproduce

1. create a component with a state
2. add elements added conditionally from state
3. add a (complex ?) component like input, textarea, select, iframe etc inside the elements added conditionnaly
4. open firefox and drag a file above the zone fast enough and then come back to the complex element (it might be really hard to trigger so I suggest to drag around really fast)

<!--
  Your bug will get fixed much faster if we can run your code and it doesn't
  have dependencies other than React. Issues without reproduction steps or
  code examples may be immediately closed as not actionable.
-->

Link to code example:

[CodeSandbox](https://codesandbox.io/s/unruffled-torvalds-xpikd?file=/src/App.js)

Minimal (with the maximum of details I have) reproduction :
```ts
const FileInput: React.FC = () => {
  const fileZone = useRef<HTMLDivElement>(null);
  const [dragging, setDragging] = useState(false);

  useEffect(() => {
    const handlers = {
      dragenter() {
        setDragging(true);
      },
      dragleave() {
        setDragging(false);
      },
    };
    const div = fileZone.current as HTMLDivElement;
    Object.entries(handlers).map(([key, value]) =>
      div.addEventListener(key, value),
    );

    return () => {
      if (div) {
        Object.entries(handlers).map(([key, value]) =>
          div.removeEventListener(key, value),
        );
      }
    };
  }, [fileZone]);

  return (
    <div ref={fileZone}>
      {dragging ? (
        <>drop here</>
      ) : (
        <>
          drop here or{"" ""}
          <label>
            Search
            <input />
          </label>
        </>
      )}
    </div>
  );
};
```

Here I used the dragevent to trigger the state but I think anything firing setState fast enough can reproduce this while this seems the most usable way to reproduce.

## The current behavior
When dragging a file over the zone fast enough and coming back to the complex element it triggers an error :
`
16:38:47.408 Uncaught TypeError: can't access property ""__reactFiber$6wig1bzlbmp"" of null
    React 3
    unstable_runWithPriority scheduler.development.js:468
    React 12
    tsx index.tsx:6
    tsx main.chunk.js:263
    Webpack 7
react-dom.development.js:10578
    React 3
    bind_applyFunctionN self-hosted:1376
    dispatchEvent self-hosted:1339
    unstable_runWithPriority scheduler.development.js:468
    dispatchUserBlockingUpdate React
    bind_applyFunctionN self-hosted:1376
    dispatchUserBlockingUpdate self-hosted:1339
    React 4
    forEach self-hosted:4356
    React 7
    tsx index.tsx:6
    tsx main.chunk.js:263
    Webpack 7
`


Screenshots of errors (First one is firefox ""normal"" and second one is firefox developer edition) :
![Firefox on Windows](https://user-images.githubusercontent.com/7894362/119522819-92b71b00-bd7c-11eb-9335-338d40a69c0d.png)
![Firefox developer edition on ArchLinux](https://user-images.githubusercontent.com/7894362/119523063-c1cd8c80-bd7c-11eb-88bb-ae58672c22d8.png)

## The expected behavior
React shouldn't trigger an error.","['Type: Bug', 'Component: DOM', 'Status: Unconfirmed']",2021-05-25T15:17:45Z,6,1,https://github.com/facebook/react/issues/21559,
217,facebook/react,"Bug: In a specific environment, controlled input triggers onChange twice","## On chrome of windows, controlled input changes the value in onChange, and enter(IME mode) non-letters(#/$/%/...) will trigger onChange twice

<!--
  Please provide a clear and concise description of what the bug is. Include
  screenshots if needed. Please test using the latest version of the relevant
  React packages to make sure your issue has not already been fixed.
-->

- React version: 17.0.2 (16 will also)
- windows 10
- chrome 90.0.4430.85

## Steps To Reproduce
1. The input method is adjusted to Chinese (IME)
2. Enter non-letter special symbols , such as # $ % - =

<!--
  Your bug will get fixed much faster if we can run your code and it doesn't
  have dependencies other than React. Issues without reproduction steps or
  code examples may be immediately closed as not actionable.
-->

Link to code example:
https://codesandbox.io/s/bold-morning-8x46e

<!--
  Please provide a CodeSandbox (https://codesandbox.io/s/new), a link to a
  repository on GitHub, or provide a minimal code example that reproduces the
  problem. You may provide a screenshot of the application if you think it is
  relevant to your bug report. Here are some tips for providing a minimal
  example: https://stackoverflow.com/help/mcve.
-->

## The current behavior
onChange call twice

## The expected behavior
onChange call correct times
","['Type: Bug', 'Component: DOM']",2021-04-25T08:13:07Z,2,0,https://github.com/facebook/react/issues/21349,
218,facebook/react,Bug: iOS VoiceOver announces stale content in headings,"<!--
  Please provide a clear and concise description of what the bug is. Include
  screenshots if needed. Please test using the latest version of the relevant
  React packages to make sure your issue has not already been fixed.
-->

React version: 17.0.2

## Steps To Reproduce

1. Go to https://jeffreyatw.com/static/voiceover-react using iOS, enable VoiceOver
2. Swipe to first ""Not clicked"" h2, observe VoiceOver reads content correctly
3. Click the first ""click me"" button
4. Move VoiceOver's focus back to first h2, which is now ""Clicked""
5. VoiceOver **incorrectly** reads it as ""Not clicked, heading level 2""
6. Swipe to the second ""Not clicked"" h2, observe VoiceOver reads content correctly
7. Click the second ""click me"" button
8. Move VoiceOver's focus back to second h2, which is now ""Clicked""
9. VoiceOver correctly reads it as ""Clicked, heading level 2""

<!--



  Your bug will get fixed much faster if we can run your code and it doesn't
  have dependencies other than React. Issues without reproduction steps or
  code examples may be immediately closed as not actionable.
-->

Link to code example: https://jeffreyatw.com/static/voiceover-react

<!--
  Please provide a CodeSandbox (https://codesandbox.io/s/new), a link to a
  repository on GitHub, or provide a minimal code example that reproduces the
  problem. You may provide a screenshot of the application if you think it is
  relevant to your bug report. Here are some tips for providing a minimal
  example: https://stackoverflow.com/help/mcve.
-->

## The current behavior
VoiceOver reads the first h2 as ""Not clicked, heading level 2"". See attached video for more details:
https://user-images.githubusercontent.com/266170/114103859-b4b51680-987e-11eb-82b9-0d785442c3ae.mp4

## The expected behavior
VoiceOver should read the first h2 as ""Clicked, heading level 2""
","['Type: Bug', 'Browser: Safari', 'Component: DOM', 'Status: Unconfirmed']",2021-04-08T22:26:44Z,6,2,https://github.com/facebook/react/issues/21212,
219,facebook/react,Bug: Radio/Checkbox inputs not triggered when setting state in listener on a parent element,"Hello

I wanted to highlight a div after clicking on it (and hide the highlight after clicking anywhere else). So in componentDidMount, I added two event listeners (on the div and on the window object).
The problem is kind of wild: when I use setState in a listener added in componentDidMount, radio buttons are not triggered.
When the listener does not use setState or uses setTimeout(() => this.setState(...), 0), radio buttons works expectedly.
When creating a code example, I also tried checkboxes, and they do not work as well. BUT, for example, button inputs work expectedly.

React version: 16.13.1 (in my app), 17.0.2 (in code sand box) - issue is in both of them

## Steps To Reproduce

You can use this prepared code example: https://codesandbox.io/s/react-setstate-listener-input-bug-wjsdk
The example also shows other listeners set ups which work expectedly.

## Current possible workaround

As mentioned earlier, we can use setTimeout(() => this.setState(...), 0) to gain expected behavior, but it is not a bug fix.","['Type: Bug', 'Component: DOM', 'Status: Unconfirmed']",2021-03-25T10:17:28Z,17,0,https://github.com/facebook/react/issues/21094,
220,facebook/react,react-devtools-inline package now has react@experimental dependency,"I recently updated DevTools to use the new, experimental `getCacheForType` API (#20548) which works well for the browser and standalone extension versions, because they bundle their own version of React (the experimental release). This has left the `react-devtools-inline` package (used by e.g. Code Sandbox) in an unreleasable state though until the new Suspense APIs are released as stable.

Perhaps I could go back to the last commit prior to #20548 and do one final release, but then I will be blocked.","['Type: Bug', 'Component: Developer Tools']",2021-03-17T18:22:17Z,0,0,https://github.com/facebook/react/issues/21023,
221,facebook/react,Bug: React test triggers mouseout event for disabled button,"<!--
  Please provide a clear and concise description of what the bug is. Include
  screenshots if needed. Please test using the latest version of the relevant
  React packages to make sure your issue has not already been fixed.
-->

React version: 16.14.0

## Steps To Reproduce

1. Create a test file in a react project, and paste the following code.
2. Run the test
3. The test for onMouseLeave event fails.

<!--
  Your bug will get fixed much faster if we can run your code and it doesn't
  have dependencies other than React. Issues without reproduction steps or
  code examples may be immediately closed as not actionable.
-->

```javascript
import { act } from ""react-dom/test-utils"";
import React, { useState } from ""react"";
import ReactDOM from ""react-dom"";

const Counter = () => {
  const increaseCount = () => {
    setCount((prev) => prev + 1);
  };
  const [count, setCount] = useState(0);
  return (
    <div>
      <p>You clicked {count} times</p>
      <button
        disabled
        onClick={increaseCount}
        onMouseEnter={increaseCount}
        onMouseLeave={increaseCount}
      >
        Click me
      </button>
    </div>
  );
};

describe(""button with react test-utils"", () => {
  let container;

  beforeEach(() => {
    container = document.createElement(""div"");
    document.body.appendChild(container);
  });

  afterEach(() => {
    document.body.removeChild(container);
    container = null;
  });

  it(""should not trigger onClick when button is disabled"", () => {
    act(() => {
      ReactDOM.render(<Counter />, container);
    });
    const button = container.querySelector(""button"");
    const label = container.querySelector(""p"");

    act(() => {
      button.dispatchEvent(new MouseEvent(""click"", { bubbles: true }));
    });

    expect(label.textContent).toBe(""You clicked 0 times"");
  });
  it(""should not trigger onMouseEnter when button is disabled"", () => {
    act(() => {
      ReactDOM.render(<Counter />, container);
    });
    const button = container.querySelector(""button"");
    const label = container.querySelector(""p"");

    act(() => {
      button.dispatchEvent(new MouseEvent(""mouseover"", { bubbles: true }));
    });

    expect(label.textContent).toBe(""You clicked 0 times"");
  });
  it(""should not trigger onMouseLeave when button is disabled"", () => {
    act(() => {
      ReactDOM.render(<Counter />, container);
    });
    const button = container.querySelector(""button"");
    const label = container.querySelector(""p"");

    act(() => {
      button.dispatchEvent(new MouseEvent(""mouseout"", { bubbles: true }));
    });

    expect(label.textContent).toBe(""You clicked 0 times"");
  });
});

```

<!--
  Please provide a CodeSandbox (https://codesandbox.io/s/new), a link to a
  repository on GitHub, or provide a minimal code example that reproduces the
  problem. You may provide a screenshot of the application if you think it is
  relevant to your bug report. Here are some tips for providing a minimal
  example: https://stackoverflow.com/help/mcve.
-->


## The current behavior
<img width=""664"" alt=""Screenshot 2021-03-09 at 21 45 13"" src=""https://user-images.githubusercontent.com/2574511/110506309-c9d44380-8120-11eb-9164-ce2ae7316889.png"">


## The expected behavior
All tests should pass","['Type: Bug', 'Component: DOM']",2021-03-09T16:47:36Z,7,0,https://github.com/facebook/react/issues/20966,
222,facebook/react,Bug: React DevTools fails when using React Native + Hermes,"<!--
  Please provide a clear and concise description of what the bug is. Include
  screenshots if needed. Please test using the latest version of the relevant
  React packages to make sure your issue has not already been fixed.
-->

React version: 16.13.1
React DevTools version: 4.10.1-3a8c04e3b2

## Steps To Reproduce

1. `npx react-native init MyApp --template react-native-template-typescript`
2. set `enableHermes: true` in `android/app/build.gradle`
3. start Metro bundler via `yarn start`
4. launch app in Android emulator via `yarn android`
5. launch React DevTools
6. reload Metro bundler
7. click on any element in the React DevTools components view
8. right React DevTools panel is stuck on ""Loading..."" and Metro bundler logs `ERROR [TypeError: undefined is not a function]`:
<img width=""297"" alt=""Screen Shot 2021-02-25 at 5 56 13 PM"" src=""https://user-images.githubusercontent.com/440230/109231116-f76dd400-7793-11eb-8b7c-4c40a7eaee3a.png"">


<!--
  Your bug will get fixed much faster if we can run your code and it doesn't
  have dependencies other than React. Issues without reproduction steps or
  code examples may be immediately closed as not actionable.
-->

Link to code example:
https://github.com/helixbass/HermesDevToolsIssueExample

<!--
  Please provide a CodeSandbox (https://codesandbox.io/s/new), a link to a
  repository on GitHub, or provide a minimal code example that reproduces the
  problem. You may provide a screenshot of the application if you think it is
  relevant to your bug report. Here are some tips for providing a minimal
  example: https://stackoverflow.com/help/mcve.
-->

## The current behavior

React DevTools fails to load element props, styles etc


## The expected behavior

React DevTools should load element props, styles etc
","['Type: Bug', 'Component: Developer Tools']",2021-02-25T23:07:49Z,2,4,https://github.com/facebook/react/issues/20884,
223,facebook/react,Bug: Disabled button state update prevents `scrollIntoView`,"I have a `button` that triggers `scrollIntoView` for a node when clicked. It also updates some state which subsequently disables that button in certain cases. If the button becomes disabled, the `scrollIntoView` execution aborts.

This seems to only happen in Chrome/Brave.

React version: 17.0.1

## Steps To Reproduce

See steps to reproduce in sandbox.

https://codesandbox.io/s/goofy-curie-yts68?file=/src/App.js

## The current behavior

Described above.

## The expected behavior

The state update should not prevent `scrollIntoView`.
","['Type: Bug', 'Component: DOM']",2021-02-09T18:16:29Z,14,11,https://github.com/facebook/react/issues/20770,
224,facebook/react,"Bug: devtools may crash when custom hook has the name ""useState""","<!--
  Please provide a clear and concise description of what the bug is. Include
  screenshots if needed. Please test using the latest version of the relevant
  React packages to make sure your issue has not already been fixed.
-->

React version: 17.0.1

## Steps To Reproduce

1. clone repo: https://github.com/avkonst/react-devtools-crash-demo
2. yarn start
3. open the browser of the started app
4. open devtools
5. click Counter component in the components tab of the development tools
6. Watch it not loading anything and unhandled exception dumped to the console log

<!--
  Your bug will get fixed much faster if we can run your code and it doesn't
  have dependencies other than React. Issues without reproduction steps or
  code examples may be immediately closed as not actionable.
-->

Link to code example: https://github.com/avkonst/react-devtools-crash-demo

<!--
  Please provide a CodeSandbox (https://codesandbox.io/s/new), a link to a
  repository on GitHub, or provide a minimal code example that reproduces the
  problem. You may provide a screenshot of the application if you think it is
  relevant to your bug report. Here are some tips for providing a minimal
  example: https://stackoverflow.com/help/mcve.
-->

## The current behavior

Devtools crash when I click on the following component in the development tools:

```tsx
import React from 'react';

function useState() {
    React.useState(0);
    React.useEffect(() => () => {});
}

function Counter() {
	useState();
	React.useState(0);
	return <div>Open React Dev Tools Components panel,
		click on Counter component and
		observe the crash in the logging console.</div>;
}

export default Counter;
```

## The expected behavior

No crash and the development tools show hooks used.
","['Type: Bug', 'Component: Developer Tools']",2021-01-19T01:50:57Z,29,0,https://github.com/facebook/react/issues/20613,
225,facebook/react,Bug: CSS variables can't be a space character,"<!--
  Please provide a clear and concise description of what the bug is. Include
  screenshots if needed. Please test using the latest version of the relevant
  React packages to make sure your issue has not already been fixed.
-->

React version: v16/v17

## Steps To Reproduce

1. https://codesandbox.io/s/empty-css-value-jmbfl?file=/src/App.js
2. Notice the ""should be black border"" has a pink border
3. Dangerously setting inner HTML works because it doesn't go through reacts `trim()` flow
4. I've tracked the suspect code to here https://github.com/facebook/react/blob/6cbb9394d1474e3a728b49dc7f3a11d61a421ce3/packages/react-dom/src/shared/dangerousStyleValue.js#L44

<!--
  Your bug will get fixed much faster if we can run your code and it doesn't
  have dependencies other than React. Issues without reproduction steps or
  code examples may be immediately closed as not actionable.
-->

Link to code example: https://codesandbox.io/s/empty-css-value-jmbfl?file=/src/App.js

<!--
  Please provide a CodeSandbox (https://codesandbox.io/s/new), a link to a
  repository on GitHub, or provide a minimal code example that reproduces the
  problem. You may provide a screenshot of the application if you think it is
  relevant to your bug report. Here are some tips for providing a minimal
  example: https://stackoverflow.com/help/mcve.
-->

## The current behavior

CSS variables have their value trimmed - resulting in `' '` become `''` which then removes the CSS variable from the browser.

![image](https://user-images.githubusercontent.com/6801309/102850783-52bad780-446e-11eb-8cd3-222061febb48.png)

## The expected behavior

The `' '` value should not be trimmed.

![image](https://user-images.githubusercontent.com/6801309/102850909-944b8280-446e-11eb-9a88-9660469faf3e.png)

One potential option is to, for any custom properties that have a space value, don't trim.

```js
if (isCustomProperty && value === ' ') {
   return value;
}

return ('' + value).trim();
```

I'm happy to do the bug fix. I would also love for this to get released on v16.

---

Found a work around:

https://codesandbox.io/s/empty-css-value-forked-g5jud?file=/src/App.js

```js
style={{ ""--border-color"": ""var(--, )"" }}
```","['Type: Bug', 'Component: DOM', 'Status: Unconfirmed']",2020-12-22T04:56:35Z,12,5,https://github.com/facebook/react/issues/20497,
226,facebook/react,Bug: react-hooks/exhaustive-deps false postive when given undefined as deps,"<!--
  Please provide a clear and concise description of what the bug is. Include
  screenshots if needed. Please test using the latest version of the relevant
  React packages to make sure your issue has not already been fixed.
-->

There's currently a false positive for the `react-hooks/exhaustive-deps` rule as it does not accept `undefined` as dependency. 

```typescript
// Below gives => React Hook useMemo has a missing dependency: 'byId'. Either include it or remove the dependency array.
const allIds = useMemo(() => Object.keys(byId), undefined)
```

This is clearly noticeable together with TypeScript as it does not allow omitting the second `deps` parameter, with the following typings:
```typescript
// allow undefined, but don't make it optional as that is very likely a mistake
function useMemo<T>(factory: () => T, deps: DependencyList | undefined): T;
```

Note here that `deps` must be either a `DependencyList` or `undefined`. It is not listed as optional.

React version: 17.0.1

## Steps To Reproduce

1. Install `""eslint-plugin-react-hooks"": ""^4.1.0""` and extend it with `'plugin:react-hooks/recommended'`
2. Write a hook that required a dependency list, input `undefined`.

## The current behavior
Gives false positive when given `undefined` for `deps`.

## The expected behavior
Should allow `deps` to be set to undefined.","['Type: Bug', 'Component: ESLint Rules']",2020-11-15T19:26:35Z,11,0,https://github.com/facebook/react/issues/20262,
227,facebook/react,"Bug: eslint-plugin-react-hooks doesn't report conditional typescript ""?."" hooks","**React plugin version:** 
eslint-plugin-react: ""^7.19.0""
typescript: 4.0+ (must include ?. operator)

## Steps To Reproduce

```tsx
// Just a demonstration example, obviously this is not ideal use of classes
class Dog {
	public useDogWoof() {
		useEffect(() => {
			console.log(""woof"")
		}])
	}
}

const DogWoof = ({dog}: {dog?: Dog) => {
	dog?.useDogWoof() // Should print conditional hook error
	return (
		//
	)
}
```

## The current behavior

Typescript has the new 4.0 operator `?.` in case an object is undefined. But, this doesn't quite work along with hooks, as when the object is undefined, the hook is not called, thus the React Renderer complains that the amount of hooks is not the same or even worse untraceable type errors that I had. `eslint-plugin-react-hooks` is expected to be able to guard against that as well to prevent nasty errors with this new typescript operator.

## The expected behavior

Currently, `eslint-plugin-react-hooks` doesn't take care of the typescript operator and thinks that nothing's wrong with using along one with a react hook.","['Type: Bug', 'Component: ESLint Rules']",2020-11-09T12:17:51Z,3,2,https://github.com/facebook/react/issues/20196,
228,facebook/react,Bug: Input minLength not working after type changed,"I have an input with type password with minLength 8, and i have a toggle to change the type to text (password toggle).
when i type with length < 8 and press submit, it prevent to submit. but, when i toggle the password so it change the type to text and submit the form, it can submitted. btw i using useRef()

React version:
react: ^17.0.1
react-dom: ^17.0.1

## Steps To Reproduce

1. type character < minLength
2. submit form
3. toggle form type
4. submit form

Link to code example: [DEMO](https://codesandbox.io/s/young-shape-4tciw)

## The current behavior
The form get submitted even when it under minLength

## The expected behavior
The form not get submitted when it under minLength
","['Type: Bug', 'Browser: Safari', 'Component: DOM']",2020-11-05T09:45:52Z,4,0,https://github.com/facebook/react/issues/20161,
229,facebook/react,"Bug: input[type=""radio""] controlled value can get out-of-sync","
React version: 16.13.1 and 17.0.0-alpha.0-2d131d782

## Steps To Reproduce

1. Render two `input[type=""radio""][name=""radio""]`: one is checked, one isn't
2. Get warning about passing `onChange` or `readOnly`
3. Add empty `onChange` to both

Link to code example:

- [React 16 repro](https://codesandbox.io/s/react-16-radio-cannot-be-read-only-z9ldc)
- [React 17 repro](https://codesandbox.io/s/react-17-radio-cannot-be-read-only-forked-r6m9r)
- [React 18 repro](https://codesandbox.io/s/react-18-radio-cannot-be-read-only-forked-7j9ckd)

## The current behavior

![screencapture of the described behavior](https://i.ibb.co/CMGcrSH/react-readonly-radio.gif)

1. React recommends `readOnly` for `input[type=""radio""]` even though this isn't supported natively (though React could polyfill it)
2. After looping through the radios once with arrow key navigation the checked state changes

## The expected behavior

Arrow key navigation shouldn't break out of the controlled value. It's debateable whether React should recommend `readOnly` when this isn't a standard attribute like `readOnly` for `<input type=""text"" />`.
","['Type: Bug', 'Component: DOM', 'Status: Unconfirmed']",2020-09-18T13:26:15Z,4,0,https://github.com/facebook/react/issues/19860,
230,facebook/react,Bug: Handling of symbols when used as deps incorrectly to create error message results in an unrelated TypeError: Cannot convert a Symbol value to a string,"React version: 16.3.1

## Steps To Reproduce

1. Click the button in this Code Sandbox https://codesandbox.io/s/blissful-sun-e0lle?file=/src/App.js

## The current behavior

The wrong error is generated

## The expected behavior

An error should still be generated but the error message should be correct. The problem is that if you do `[Symbol('...')].join(',')` JavaScript will freak out which is what happens if you put symbols incorrectly in the deps to hooks.","['Type: Bug', 'Component: Hooks']",2020-09-17T13:40:58Z,7,0,https://github.com/facebook/react/issues/19848,
231,facebook/react,Bug: MouseEnter does not fire when coming _from_ disabled elements,"<!--
  Please provide a clear and concise description of what the bug is. Include
  screenshots if needed. Please test using the latest version of the relevant
  React packages to make sure your issue has not already been fixed.
-->

React version: 16.13.1

## Steps To Reproduce

https://codesandbox.io/s/eager-euler-c72fw?file=/src/App.js

1. move from a disabled element to an element with a `mouseenter` listener.
2. `mouseenter` does not fire

Link to code example: https://codesandbox.io/s/eager-euler-c72fw?file=/src/App.js


## The current behavior

`mouseenter` does not fire because React calculates mouseenter/leave based on the relative element of the opposing event.
e.g. `mouseenter` calculated from the `mouseout` on the button. Browsers do not fire pointer events on disabled elements


## The expected behavior

`mouseenter` should fire


Previous issue: https://github.com/facebook/react/issues/4251","['Type: Bug', 'Component: DOM']",2020-07-20T17:18:11Z,8,7,https://github.com/facebook/react/issues/19419,
232,facebook/react,Bug: Form reset lost checkbox onChange event,"Hi, I use checkbox uncontrolled mode, onChange in form reset after, lose onChange.
```js
<input type=""checkbox"" onChange={onChange} />
```

but use add ref.addEventListener('change', onChange) is ok
```js
const checkRef = useRef<HTMLInputElement>();
useEffect(() => {
        if (checkboxRef) {
            checkboxRef.current.addEventListener('change', onChange);
        }
    }, []);

<input type=""checkbox"" ref=""checkboxRef"" onChange={onChange} />
```


React version: 16.13 and old 

## Steps To Reproduce

1. checkbox => checked
2. form reset
3. checked  => checked

Link to code example:
[not react is ok](https://codepen.io/imagine10255/pen/ExPaLOJ?editors=1111)
[reset is lose target onChange](https://codesandbox.io/s/affectionate-brook-96dw9?file=/src/App.js)

## The current behavior
1. checkbox => checked (target onChange)
2. form reset
3. checked  => checked (lose target onChange)

## The expected behavior
1. checkbox => checked (target onChange)
2. form reset
3. checked  => checked (target onChange)
","['Type: Bug', 'Component: DOM']",2020-06-05T08:37:31Z,11,7,https://github.com/facebook/react/issues/19078,
233,facebook/react,Bug: Server hydration mistmatch and radio group with defaultChecked,"<!--
  Please provide a clear and concise description of what the bug is. Include
  screenshots if needed. Please test using the latest version of the relevant
  React packages to make sure your issue has not already been fixed.
-->
When hydrating from the server, whenever there's a mismatch in the initially checked input in a radio button group and the inputs use `defaultChecked` (uncontrolled), there is no warning of that mismatch and the component behaves in a buggy way for the input that was initially selected in the server payload (the `onChange` callback prop is not fired for the input that was marked as selected in the initial html, when selecting it).

Worth noting that using a controlled input (using `checked`) makes the bug go away.

React version: 16.13.1

## Steps To Reproduce

1. In the example provided below, make sure you refresh the browser within Code Sandbox.
2. Check the first radio button. Verify that the radio is checked, but the text next to it still shows as ""not checked"" (which means the onChange prop was not triggered)
3. Attempt to select any other option (works fine), and then back the first one (works fine too).
4. Refreshing the page again, choosing any other option other than the first works fine.

<!--
  Your bug will get fixed much faster if we can run your code and it doesn't
  have dependencies other than React. Issues without reproduction steps or
  code examples may be immediately closed as not actionable.
-->

Link to code example: https://codesandbox.io/s/affectionate-stonebraker-3wj68

<!--
  Please provide a CodeSandbox (https://codesandbox.io/s/new), a link to a
  repository on GitHub, or provide a minimal code example that reproduces the
  problem. You may provide a screenshot of the application if you think it is
  relevant to your bug report. Here are some tips for providing a minimal
  example: https://stackoverflow.com/help/mcve.
-->

## The current behavior

I know that using hydrate doesn't guarantee fixing the mismatches, but it says that it should warn about them in development (https://reactjs.org/docs/react-dom.html#hydrate). In this case, React doesn't warn about the mismatch, and the behavior is buggy, as shown in the example and steps to repro.

## The expected behavior

React should ideally work without the issue, but given that it's not guaranteed to be fixed according to the documentation, it should at least warn about the mismatch.","['Type: Bug', 'Component: DOM', 'Component: Server Rendering']",2020-04-06T10:24:24Z,5,1,https://github.com/facebook/react/issues/18502,
234,facebook/react,"Arbitrary log lines may appear in between an error and the subsequent ""The above error"" message","React version: 16.12

If one component throws, and one of its siblings logs something else to the console, that sibling's logs appear in between the throwing component and the extra React information about that throw.

This is hard to explain in words but easy to explain in code and pictures, so look:

Repro: https://codesandbox.io/s/boring-firefly-bu79e

![image](https://user-images.githubusercontent.com/6820/75078940-d822d380-54bb-11ea-99d2-c77fbc0c9a5b.png)

The third log line (""The above"") refers to the first (""Uncaught"") but looks like it refers to the second (""Please don't""). This is confusing when debugging.

Instead, I would expect ""The above error"" to be right below the uncaught window-level exception we raise. (Maybe this isn't possible without diverging dev vs. prod behavior? Not sure but thought I'd file)",['Type: Bug'],2020-02-21T23:08:59Z,8,0,https://github.com/facebook/react/issues/18101,
235,facebook/react,Bug: Unexpected render,"<!--
  Please provide a clear and concise description of what the bug is. Include
  screenshots if needed. Please test using the latest version of the relevant
  React packages to make sure your issue has not already been fixed.
-->

https://stackoverflow.com/questions/60345064/react-hooks-rendering-cause

I'm playing with simple React components to understand when rendering occurs.


## The current behavior

[Sample 1][1] - Initially renders once. Regardless of the number of times the button is clicked, it doesn't render. This is expected.

    import React, { useState } from ""react"";
    import ""./styles.css"";
    
    export default function App() {
      const [state, setState] = useState([
        { id: 1, name: ""test1"" },
        { id: 2, name: ""test2"" }
      ]);
      const onClick = () => setState(data => data);
      console.log(""App rendered"");
      return (
        <div className=""App"">
          <h1>Test if setting same data causes re-rendering</h1>
          <button onClick={onClick}>Call setState with same data</button>
          {state.map(({ id, name }) => (
            <p key={id}>{name}</p>
          ))}
        </div>
      );
    }


[Sample 2][2] - Initially renders twice since `useEffect` updates `setMessages` with a value. This is expected. However, if the button is click 1+ times, it renders once. It shouldn't even re-render since the same value is being set. **Why is it rendering if no new value / reference is being updated?**

    import React, { useState, useEffect, useMemo, useCallback } from ""react"";
    import axios from ""axios"";
    import ""./styles.css"";
    
    const days = [
      ""Sunday"",
      ""Monday"",
      ""Tuesday"",
      ""Wednesday"",
      ""Thursday"",
      ""Friday"",
      ""Saturday""
    ];
    export default function App() {
      const [messages, setMessages] = useState([]);
      useEffect(() => {
        axios
          .get(`https://api.myjson.com/bins/10xva4`)
          .then(({ data: { messages } }) => setMessages(messages));
      }, []);
      const Display = useMemo(
        () =>
          messages.map(({ content, senderUuid, sentAt }, index) => {
            let d = new Date(sentAt);
            return (
              <div className=""container"" key={index}>
                <p>Content: {content}</p>
                <p>SenderUuid: {senderUuid}</p>
                <p>DayOfTheWeek: {d.getDate()}</p>
                <p>Month: {d.getMonth()}</p>
                <p>Day: {days[d.getDay()]}</p>
                <p>Year: {d.getFullYear()}</p>
              </div>
            );
          }),
        [messages]
      );
      const onClick = useCallback(() => setMessages(messages => messages), []);
      console.log(""App rendered"");
      // console.log({ messages });
      return useMemo(
        () => (
          <div className=""App"">
            <button onClick={onClick}>Call setMessages with same data</button>
            {Display}
          </div>
        ),
        [Display, onClick]
      );
    }


  [1]: https://codesandbox.io/s/testing-rendering-bo9bp
  [2]: https://codesandbox.io/s/call-api-with-useeffect-vlo34

<!--
  Your bug will get fixed much faster if we can run your code and it doesn't
  have dependencies other than React. Issues without reproduction steps or
  code examples may be immediately closed as not actionable.
-->

## The expected behavior

Should not re-render if no new value or reference is updated.
",['Type: Bug'],2020-02-21T20:47:07Z,17,1,https://github.com/facebook/react/issues/18098,
236,facebook/react,"Bug: [eslint-plugin-react-hooks] exhaustive-deps false positive on ""unnecessary"" dependency if its a React component","## Steps to reproduce

1. create a memoized value using `useMemo`
2. a React component is used in the creation of this value, in a JSX expression
3. specify the React component in the dependency array

Link to code example: https://github.com/zeorin/eslint-plugin-react-hooks-repro

## The current behavior

```
React Hook useMemo has an unnecessary dependency: 'Component'. Either exclude it or remove the dependency array react-hooks/exhaustive-deps
```

## The expected behavior

No lint errors.

## More details

A simple repro (taken from the link above) is:

```javascript.jsx
function Foo({ component: Component }) {
	const memoized = useMemo(() => ({
		render: () => <Component />
	}), [Component]);

	return memoized.render();
}
```

## Workarounds

If one changes the component to lowercase, the lint error goes away. It does also mean that we need to change the way we render the component:

```javascript.jsx
function Foo({ component }) {
	const memoized = useMemo(() => ({
		render: component
	}), [component]);

	return memoized.render();
}
```

Alternatively we can decide not to use JSX, in which case the lint rule functions correctly, too:

```javascript.jsx
function Foo({ component: Component }) {
	const memoized = useMemo(() => ({
		render: () => React.createElement(Component)
	}), [Component]);

	return memoized.render();
}
```

## Impact

Currently it is hard to use props that are components in a JSX expression if one is using the `exhaustive-deps` rule.

This is also compounded by the fact that this rule has a ESLint fix that removes the dependency, thus changing the behaviour of the code and leading to bugs. See https://github.com/facebook/react/issues/16313 for that bug report.","['Type: Bug', 'Component: ESLint Rules']",2020-02-17T12:24:15Z,11,5,https://github.com/facebook/react/issues/18051,
237,facebook/react,Bug: DevTools DOM highlighting gets stuck after a prolonged hover,"## Steps To Reproduce

1. Hover a component in DevTools
2. *Keep hovering it for a second or so*
3. Quickly move the cursor out of the DevTools without hovering anything else

Expected: DOM highlighting goes away.
Actual: DOM highlighting gets stuck.

![](https://d1sz9tkli0lfjq.cloudfront.net/items/2o2r240l0o3i1B0d1n3J/Screen%20Recording%202020-01-16%20at%2005.14%20PM.gif?v=e1a91e13)","['Type: Bug', 'Component: Developer Tools']",2020-01-16T17:16:35Z,10,2,https://github.com/facebook/react/issues/17855,
238,facebook/react,Controlled numeric input gets cleared when unfocused,"<!--
  Note: if the issue is about documentation or the website, please file it at:
  https://github.com/reactjs/reactjs.org/issues/new
-->

**Do you want to request a *feature* or report a *bug*?**
I would like to report a bug.

**What is the current behavior?**
A numeric input field gets cleared accidentally on several occasions.

**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem. Your bug will get fixed much faster if we can run your code and it doesn't have dependencies other than React. Paste the link to your JSFiddle (https://jsfiddle.net/Luktwrdm/) or CodeSandbox (https://codesandbox.io/s/new) example below:**

1. Open [this sandbox](https://codesandbox.io/embed/sad-rgb-mltuj)
2. Type 12. into the field, with the trailing decimal separator
3. Unfocus the control
4. Append . to the fields value to see 12..
5. Unfocus the control once again and see that the number has completely disappeared

**What is the expected behavior?**

Similar to how uncontrolled inputs work (remove the `value` prop and then repeat the steps above), the input should not be cleared on blur.

**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**

Im using React 16.12.0 and experienced the same behavior with the latest version of Chrome and iOS Safari. Regarding this bug, I have no experience with previous versions of React.
","['Type: Bug', 'Component: DOM', 'Resolution: Backlog']",2019-12-15T01:10:16Z,9,0,https://github.com/facebook/react/issues/17609,
239,facebook/react,"""Should not already be working"" in Firefox after a breakpoint/alert","**Do you want to request a *feature* or report a *bug*?**
Bug

**What is the current behavior?**
I'm seeing ""Error: Should not already be working"" after upgrading to React 16.11

**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**

This is exclusively happening on an older version of Chrome, 68.0.3440 on Windows 7

I was unable to reproduce this in a VM environment but our Sentry is getting littered with these errors. 

I know it's a long shot, but I wasn't able to find any information about this error anywhere, just a reference in the error codes file in react, so thought it would be a good idea to report this just in case. Curious if anyone has seen this.
","['Type: Bug', 'Difficulty: medium', 'Type: Needs Investigation', 'good first issue']",2019-11-13T16:35:19Z,86,64,https://github.com/facebook/react/issues/17355,
240,facebook/react,react-test-renderer: the findByType method doesn't work with memo components,"<!--
  Note: if the issue is about documentation or the website, please file it at:
  https://github.com/reactjs/reactjs.org/issues/new
-->

**Do you want to request a *feature* or report a *bug*?**
Feature

**What is the current behavior?**
Whenever I try something like:

```
ReactTestRenderer.create(<SomeComponent />).root.findByType(SomeMemoComponent);
```

I get the following error: `No instances found with node type: ""undefined""`. The only way I found for this to work was to reference the `type` property of memo components like this:

```
ReactTestRenderer.create(<SomeComponent />).root.findByType(SomeMemoComponent.type);
```

I am fine with this solution but then flow complains that `type` doesn't exist so I find myself fixing this with `$FlowFixMe` all over the place.

**What is the expected behavior?**

I would expect that passing a memo component to `findByType` would work. Or that flow would recognize the `type` property of memo components. I think both should work, specially the first option.

**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**

No, it never worked as far as I know.
","['Type: Bug', 'Component: Test Renderer']",2019-11-07T09:39:23Z,8,6,https://github.com/facebook/react/issues/17301,
241,facebook/react,"TypeError: ""'requestAnimationFrame' called on an object that does not implement interface Window.""","<!--
  Note: if the issue is about documentation or the website, please file it at:
  https://github.com/reactjs/reactjs.org/issues/new
-->

**Do you want to request a *feature* or report a *bug*?** **Bug**

**What is the current behavior?**
TypeError: ""'requestAnimationFrame' called on an object that does not implement interface Window.""

**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem. Your bug will get fixed much faster if we can run your code and it doesn't have dependencies other than React. Paste the link to your JSFiddle (https://jsfiddle.net/Luktwrdm/) or CodeSandbox (https://codesandbox.io/s/new) example below:**

https://github.com/facebook/react/blob/0f6e3cd61cf4a5a1491bb3c92780936aebc2a146/packages/scheduler/src/forks/SchedulerHostConfig.default.js#L88

In the WebExtension content script, globalThis !== window.
So when `const requestAnimationFrame = window.requestAnimationFrame`, the `this` binding of `rAF` is lost.

In the after calling, `rAF` rebinds to the globalThis, but globalThis doesn't implements Window interface.

PoC: Install this extension in the Firefox and you will see the error reported.
```index.js
try {
    const raf = window.requestAnimationFrame
    raf(() => console.log('Okay.'))
} catch (e) {
    console.warn(e)
}
```

```manifest.json
{
    ""name"": ""rAF in content script test"",
    ""version"": ""0.0.1"",
    ""manifest_version"": 2,
    ""content_scripts"": [{ ""js"": [""/index.js""], ""matches"": [""<all_urls>""] }]
}
```

**What is the expected behavior?**

**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**
Firefox, in WebExtension. 

Related to https://github.com/facebook/react/issues/16605","['Type: Bug', 'Component: Scheduler']",2019-08-29T05:25:38Z,6,7,https://github.com/facebook/react/issues/16606,
242,facebook/react,Devtools v4 does not work with Firefox's private window,"<!--
  Note: if the issue is about documentation or the website, please file it at:
  https://github.com/reactjs/reactjs.org/issues/new
-->

**Do you want to request a *feature* or report a *bug*?**

* bug
* This issue has been reported in https://github.com/facebook/react-devtools/issues/1383

**What is the current behavior?**


Steps to Reproduce is here:

1. Environments are:
2. Open the page which uses react with a private window.
3. Open Firefox's devtools.

Actual Result is:

* react devtools' _component_ pane show `Unable to find React on the page.`
* From about:debugging, we can see the below messsage:

```
SecurityError: Permission denied to access property ""container"" on cross-origin object main.js:51:305877
    Kl moz-extension://56db142d-3d36-b04e-91ca-a7504c7708a5/build/main.js:51
    apply self-hosted:4417
    applySafeWithoutClone resource://gre/modules/ExtensionCommon.jsm:588
    asyncWithoutClone resource://gre/modules/ExtensionCommon.jsm:2400
```



**What is the expected behavior?**

react devtools work

**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**

* Firefox 68
* react devtools v4.0.5
* react v16.9","['Type: Bug', 'Component: Developer Tools']",2019-08-22T16:42:22Z,22,25,https://github.com/facebook/react/issues/16547,
243,facebook/react,DevTools: Components tree is sometimes unexpectedly empty after navigation,"1. Open FB page
2. Open Components tab
3. Change address bar to `https://reactjs.org` and press Enter

Expected: Components tab gets populated.
Actual:

<img width=""783"" alt=""Screen Shot 2019-04-23 at 7 27 37 PM"" src=""https://user-images.githubusercontent.com/810438/56606380-00247a80-65fe-11e9-988c-2ad3e69eb579.png"">

~~If I **inspect background page**, I see this:~~ (fixed by #229)

<img width=""652"" alt=""Screen Shot 2019-04-23 at 7 27 12 PM"" src=""https://user-images.githubusercontent.com/810438/56606408-0b77a600-65fe-11e9-9f65-5502401b7e4a.png"">

---
Originally reported by @gaearon via https://github.com/bvaughn/react-devtools-experimental/issues/217","['Type: Bug', 'Component: Developer Tools', 'React Core Team']",2019-08-19T22:27:13Z,10,3,https://github.com/facebook/react/issues/16495,
244,facebook/react,DevTools: Re-enable postMessage transferable for faster ArrayBuffer transfers,"I got this on FB.com sandbox:

<img width=""815"" alt=""screen shot 2019-03-01 at 1 15 24 pm"" src=""https://user-images.githubusercontent.com/810438/53640457-26dcbb00-3c24-11e9-828f-a987ffeec4da.png"">


---
Originally reported by @gaearon via https://github.com/bvaughn/react-devtools-experimental/issues/25","['Type: Bug', 'Component: Developer Tools', 'React Core Team']",2019-08-19T22:24:43Z,1,1,https://github.com/facebook/react/issues/16488,
245,facebook/react,DevTools: Crashes and warnings when quickly collapsing,"This is weird. Happens if I select a node deeply and then long-press ""left"" arrow.

```
Invalid index 154 specified; store contains 154 items.

Uncaught Invariant Violation: Expected to find a host parent. This error is likely caused by a bug in React. Please file an issue.
    at ReactError (file:///Users/gaearon/p/react-devtools-experimental/shells/dev/build/devtools.js:8529:40)
```

It starts with ""invalid index"" and then gives me different React invariants or warnings depending on how lucky I am.

![Screen Recording 2019-04-25 at 05 58 PM](https://user-images.githubusercontent.com/810438/56754075-fcbafb80-6783-11e9-8fe6-84aa29d1c120.gif)

---
More weird symptoms:

<img width=""889"" alt=""Screen Shot 2019-04-25 at 6 38 22 PM"" src=""https://user-images.githubusercontent.com/810438/56756281-5671f480-6789-11e9-8d0b-631a5217e63b.png"">

---
<img width=""832"" alt=""Screen Shot 2019-04-25 at 6 41 37 PM"" src=""https://user-images.githubusercontent.com/810438/56756492-c7191100-6789-11e9-8814-cb849590ee01.png"">

---
This ""fixes"" it:

```diff
       runWithPriority(UserBlockingPriority, () => dispatch(action));
-      next(() => dispatch({ type: 'UPDATE_INSPECTED_ELEMENT_ID' }));
+      runWithPriority(UserBlockingPriority, () => dispatch({ type: 'UPDATE_INSPECTED_ELEMENT_ID' }));
     },
```

So I suspect it's a bug with `Scheduler.next()`.

---
This also looks funky. Note how somewhere in the middle right pane gets ""stuck"" showing the same cycle of values:

![Screen Recording 2019-04-25 at 07 36 PM](https://user-images.githubusercontent.com/810438/56759733-8b824500-6791-11e9-95ba-d4d3630a4c5e.gif)

---
React bug: https://github.com/facebook/react/issues/15512

---
Originally reported by @gaearon via https://github.com/bvaughn/react-devtools-experimental/issues/228","['Type: Bug', 'Component: Developer Tools', 'React Core Team']",2019-08-19T22:24:17Z,0,0,https://github.com/facebook/react/issues/16487,
246,facebook/react,DevTools: Occasional FOUC when loading DevTools,"Seems to only happen the first time DevTools is opened after being installed (or perhaps the first time after the browser is opened).

---
Originally reported via https://github.com/bvaughn/react-devtools-experimental/issues/381","['Type: Bug', 'Component: Developer Tools', 'React Core Team']",2019-08-19T21:38:01Z,1,0,https://github.com/facebook/react/issues/16465,
247,facebook/react,SSR: Cannot set property 'memoizedState' of null,"<!--
  Note: if the issue is about documentation or the website, please file it at:
  https://github.com/reactjs/reactjs.org/issues/new
-->

**Do you want to request a *feature* or report a *bug*?**

A bug?

**What is the current behavior?**

> Cannot set property 'memoizedState' of null

**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem. Your bug will get fixed much faster if we can run your code and it doesn't have dependencies other than React. Paste the link to your JSFiddle (https://jsfiddle.net/Luktwrdm/) or CodeSandbox (https://codesandbox.io/s/new) example below:**

```js
const processLink = html => {
  return renderToStaticMarkup(<Link />)
};

const RichText = ({ html }) => {
  const htmlProcessed = useMemo(() => processLink(html), [html]);
}
```
See https://codesandbox.io/s/cannot-set-property-memoizedstate-of-null-mrxfr

**What is the expected behavior?**

**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**

16.8~16.9

",['Type: Bug'],2019-08-16T09:10:04Z,27,16,https://github.com/facebook/react/issues/16416,
248,facebook/react,ErrorBoundary rendering multiple copies of itself when ref assignment fails,"**Do you want to request a *feature* or report a *bug*?**

bug

**What is the current behavior?**

When a error occurs during the assignment of a `ref` (and maybe other conditions), a error boundary wrapping that error may get confused and it renders itself multiple times inside the same parent. See https://codesandbox.io/s/stoic-fermi-6etqb which renders:

```html
<div id=""root"">
  <div class=""boundary""><span>content</span></div>
  <div class=""boundary""><span>error</span></div>
</div>
```

**What is the expected behavior?**

```html
<div id=""root"">
  <div class=""boundary""><span>error</span></div>
</div>
```","['Type: Bug', 'Component: Reconciler']",2019-08-12T14:12:35Z,6,0,https://github.com/facebook/react/issues/16365,
249,facebook/react,textarea does not show warning when switching from uncontrolled to controlled like inputs do,"<!--
  Note: if the issue is about documentation or the website, please file it at:
  https://github.com/reactjs/reactjs.org/issues/new
-->

**Do you want to request a *feature* or report a *bug*?**

Bug

**What is the current behavior?**

While things like `<input>` correctly get a warning when switching from uncrontrolled to controlled, I'm noticing `<textarea>` does not

**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem. Your bug will get fixed much faster if we can run your code and it doesn't have dependencies other than React. Paste the link to your JSFiddle (https://jsfiddle.net/Luktwrdm/) or CodeSandbox (https://codesandbox.io/s/new) example below:**

Here's a codesandbox. Type in the input field, we see error (correct), change to textarea and start over, type in field and we don't see the error (incorrect I think) https://codesandbox.io/s/recursing-dawn-jls8i

**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**

16.8
","['Type: Bug', 'Component: DOM']",2019-08-09T19:15:55Z,3,3,https://github.com/facebook/react/issues/16342,
250,facebook/react,Controlled input makes browser not saving submitted value (for autocomplete),"**Bug** (behaves different per browser, but generally inconsistent to uncontrolled inputs)

**Current behavior**
Reproduce with https://jsfiddle.net/bootleq/hos4r6qd/
1. Type `a` in *name* field, and `b` in *uncontrolled* field.
2. Submit.
3. Re-run the fiddle.
4. Focus input fields to see if browser ""saves"" previous input.

**Expected behavior**
Browser provides `a` suggestion for *name* and `b` for *uncontrolled* field.
Controlled and uncontrolled elements should behave the same.

**Actual result**
Uncontrolled input has `b` suggestion, but controlled input (*name*) has **no** suggestion.
Tested on Windows 7, Google Chrome 74.0.3729.169.
And on Firefox 68.0b4, we can click the *workaround* button before submit, by reset the `value` DOM attribute it behaves as expected.","['Type: Bug', 'Component: DOM']",2019-05-25T12:18:13Z,12,19,https://github.com/facebook/react/issues/15739,
251,facebook/react,"Field type=""email"" with multiple attribute cursor jumps to start","<!--
  Note: if the issue is about documentation or the website, please file it at:
  https://github.com/reactjs/reactjs.org/issues/new
-->

**Do you want to request a *feature* or report a *bug*?**
Bug

**What is the current behavior?**
While adding multiple comma separated email addresses the cursor will jump to te beginning the input field. First i thought it was a [Formik](https://github.com/jaredpalmer/formik/issues/1428) issue, but it seems to be a React one.

Example pure React: https://codesandbox.io/embed/0y06zo7l8p
Example React with Formik: https://codesandbox.io/embed/k57zw7wz5
MDN docs: https://developer.mozilla.org/en-US/docs/Web/HTML/Element/input/email#multiple

**What is the expected behavior?**
Cursor stays on current position.

**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**
Chrome 73, Safari 12.1, Opera 60.0
React 16.7.0

Maybe #14551 related?
","['Type: Bug', 'Component: DOM']",2019-04-15T08:32:08Z,10,5,https://github.com/facebook/react/issues/15418,
252,facebook/react,dangerouslySetInnerHTML is left empty on client render on top of bad server markup when rendering HTML,"This seems to be an edge case of https://github.com/facebook/react/issues/11789 fixed in https://github.com/facebook/react/pull/13353/files.

I ran into this when trying to hydrate content rendered with https://github.com/prismicio/prismic-dom `asHtml` method.

**Do you want to request a *feature* or report a *bug*?**

Bug? I think. 

**What is the current behavior?**

Current behavior:

1. Server-side stuff comes in from server and contains the things we need
2. Hydration mismatch happens
3. dangerouslySetInnerHTML is called with correct value but an empty string gets rendered instead

I tried to replicate the issue on https://codesandbox.io/s/2xojk10jln but failed.

The following testcase for `packages/react-dom/src/__tests__/ReactDOMServerIntegrationElements-test.js` produces the same result (I tried it first with the same PrismicDOM.RichText.asHtml(obj) call I have in the app) but I am not sure if it's correct:

  ```js

# test case
    itRenders(
      'a div with dangerouslySetInnerHTML set to html inserted',
      async render => {
        const obj = '<li>bar</li>';
        const e = await render(
          <div dangerouslySetInnerHTML={{__html: obj }} />,
        );
        expect(e.childNodes.length).toBe(1);
        expect(e.firstChild.tagName).toBe('LI');
        expect(e.firstChild.childNodes.length).toBe(1);
      },
    );
```

```bash
      ? renders a div with dangerouslySetInnerHTML set to html return value of function called with server string render (190ms)
      ? renders a div with dangerouslySetInnerHTML set to html return value of function called with server stream render (52ms)
      ? renders a div with dangerouslySetInnerHTML set to html return value of function called with clean client render (37ms)
      ? renders a div with dangerouslySetInnerHTML set to html return value of function called with client render on top of good server markup (74ms)
      ? renders a div with dangerouslySetInnerHTML set to html return value of function called with client render on top of bad server markup (34ms)

  ? ReactDOMServerIntegration  ...  renders a div with dangerouslySetInnerHTML set to html return value of function called with client render on top of bad server markup

    expect(received).toBe(expected) // Object.is equality

    Expected: ""bar""
    Received: """"
```


**What is the expected behavior?**

The client render would have rendered `<li>bar</li>`

**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**

commit c05b4b8  (latest master) and >16.8.

Sorry for a bit vague bug report.
","['Type: Bug', 'Type: Needs Investigation']",2019-03-20T20:35:18Z,13,1,https://github.com/facebook/react/issues/15171,
253,facebook/react,react-debug-tools doesn't support legacy context (Component.contextTypes),"Original report: https://github.com/facebook/react-devtools/issues/1304

Repro case: https://64yojj2wyk.codesandbox.io/","['Type: Bug', 'React Core Team']",2019-03-06T16:54:36Z,3,0,https://github.com/facebook/react/issues/15039,
254,facebook/react,Chrome Autofill overwrites values on controlled components,"<!--
  Note: if the issue is about documentation or the website, please file it at:
  https://github.com/reactjs/reactjs.org/issues/new
-->

**Do you want to request a *feature* or report a *bug*?**
Report a bug. Initially reported in https://github.com/mozilla-services/react-jsonschema-form/issues/1153

**What is the current behavior?**
Autofill overwrites existing values in fields when those fields are controlled components in React.

See https://jsfiddle.net/epicfaace/9p17e2qx/21/ -- to test this, add a ""Saved Address"" in the Chrome options.

![2019-01-24 10 37 23](https://user-images.githubusercontent.com/1689183/51700667-91b32a80-1fc4-11e9-876b-6f795225d99b.gif)

**What is the expected behavior?**
Autofill does not overwrite existing fields. I've made a JSFiddle with a plain HTML form, which works with the expected behavior.

See https://jsfiddle.net/epicfaace/1my3f9n4/6/

![2019-01-24 10 37 02](https://user-images.githubusercontent.com/1689183/51700679-9841a200-1fc4-11e9-9408-dae369ac5366.gif)

**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**
React 15.3.2
Chrome 71.0.3578.98
","['Type: Bug', 'Component: DOM', 'Type: Breaking Change']",2019-01-24T18:42:29Z,4,3,https://github.com/facebook/react/issues/14694,
255,facebook/react,Sometimes controlled email inputs break in Chrome due to punycoding,"**Do you want to request a *feature* or report a *bug*?**

Report a  bug

**What is the current behavior?**

In Chrome, when typing a sharp S (, a German letter) in an input field with `type=""email""`, it converts the `` to `ss` (~~expected~~ unexpected behaviour) and the cursor jumps back to the beginning of the input field (unexpected behaviour). This does only happen if the `` is part of the domain.
Trying to type `test@test.de` will end as `.detest@testss`:
![Example](https://i.imgur.com/SWQ0p4f.gif)

It can be tested with the latest Google Chrome: 
https://codepen.io/anon/pen/MzzEqB
If you don't have a `` on your keyboard, you can reproduce the bug by just Copy&Pasting it.

**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**

Tested with Chrome Version 70.0.3538.110 (Official Build) (64-bit) on Ubuntu 18.04 and React 16.6.3

In Firefox, this does not happen, as it does not convert `` to `ss`. I didn't test other browsers.","['Type: Bug', 'Component: DOM']",2018-11-29T13:22:22Z,9,0,https://github.com/facebook/react/issues/14356,
256,facebook/react,Textarea loses focus after inserting paired punctuation with Chinese IME,"<!--
  Note: if the issue is about documentation or the website, please file it at:
  https://github.com/reactjs/reactjs.org/issues/new
-->

**Do you want to request a *feature* or report a *bug*?**
bug

**What is the current behavior?**
Textarea lose focus after insert paired punctuation by ""Chinese-Pinyin 10 key"" input source on IOS safari. And then textarea can't be focused when I click it. But after other element has been focused, the textarea could be focused again.

**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem. Your bug will get fixed much faster if we can run your code and it doesn't have dependencies other than React. Paste the link to your JSFiddle (https://jsfiddle.net/Luktwrdm/) or CodeSandbox (https://codesandbox.io/s/new) example below:**

[CodeSandbox Demo](https://codesandbox.io/s/7w23wpl0q1)

[steps(youtube video)](https://youtu.be/4PJ2WVD83Eg)

**What is the expected behavior?**
just work fine!

**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**
versions of React: 16+
OS: IOS
browser: safari



","['Type: Bug', 'Component: DOM']",2018-11-13T08:26:59Z,2,0,https://github.com/facebook/react/issues/14213,
257,facebook/react,react-test-renderer doesn't support Suspense and lazy nodes,"Hello. How can I test components with Suspense/Lazy?
now renderer.create(...)toTree() throws
""toTree() does not yet know how to handle nodes with tag=13""

react 16.6.1
react-test-renderer 16.6.1",['Type: Bug'],2018-11-09T07:27:53Z,9,13,https://github.com/facebook/react/issues/14170,
258,facebook/react,JAWS reads non-interactive elements as Clickable,"**Do you want to request a *feature* or report a *bug*?**
Bug

**What is the current behavior?**
1. I create an app using [create-react-app](https://github.com/facebook/create-react-app)
2. I use JAWS Professional Edition Version 2018 (build 1710.42 ILM) and Internet Explorer 11 on Windows 7
3. I use arrow keys to navigate to paragraph ""Edit src/App.js and save to reload.""
4. Jaws announces ""Edit src/App.js and save to reload. **clickable**""

**What is the expected behavior?**
This paragraph is non interactive, it should not be announced as clickable.

**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**
- JAWS Professional Edition Version 2018 (build 1710.42 ILM) 
- Internet Explorer 11
- Windows 7
- create-react-app 2.0.3

**suspected cause**
Using Chrome Event Listener Breakpoints I observed there's a function called `trapClickOnNonInteractiveElement` which is the onclick handler for non interactive elements. This noop function is causing JAWS to think this is an interactive element

**possible solution**
In [trapClickOnNonInteractiveElement](https://github.com/facebook/react/blob/8a8d973d3cc5623676a84f87af66ef9259c3937c/packages/react-dom/src/client/ReactDOMComponent.js#L245) there is a comment which reads 
```
// TODO: Only do this for the relevant Safaris maybe?
```
I think that this would fix this issue.",['Type: Bug'],2018-10-10T14:07:16Z,9,1,https://github.com/facebook/react/issues/13798,
259,facebook/react,onChange doesn't fire if input re-renders due to a setState() in a non-React capture phase listener,"Extracting from https://github.com/facebook/react/issues/12643.

This issue has always been in React. I can reproduce it up to React 0.11. However **it's probably extremely rare in practice and isn't worth fixing**. I'm just filing this for posterity.

Here is a minimal example.

```js
class App extends React.Component {
  state = {value: ''}
  handleChange = (e) => {
    this.setState({
      value: e.target.value
    });
  }
  componentDidMount() {
    document.addEventListener(
      ""input"",
      () => {
        // COMMENT OUT THIS LINE TO FIX:
        this.setState({});
      },
      true
    );
  }
  render() {
    return (
      <div>
        <input
          value={this.state.value}
          onChange={this.handleChange}
        />
      </div>
    );
  }
}

ReactDOM.render(<App />, document.getElementById(""container""));
```

Typing doesn't work  unless I comment out that `setState` call in the capture phase listener.

Say the input is empty and we're typing `a`.

What happens here is that `setState({})` in the capture phase non-React listener runs first. When re-rendering due to that first empty `setState({})`, input props still contain the old value (`""""`) while the DOM node's value is new (`""a""`). They're not equal, so we'll set the DOM node value to `""""` (according to the props) and remember `""""` as the current value.

<img width=""549"" alt=""screen shot 2018-08-17 at 1 08 42 am"" src=""https://user-images.githubusercontent.com/810438/44241204-4b0e0880-a1ba-11e8-847d-bf9ca43eb954.png"">

Then, `ChangeEventPlugin` tries to decide whether to emit a change event. It asks the tracker whether the value has changed. The tracker compares the presumably ""new"" `node.value` (it's `""""`  we've just set it earlier!) with the `lastValue` it has stored (also `""""`  and also just updated). No changes!

<img width=""505"" alt=""screen shot 2018-08-17 at 1 10 59 am"" src=""https://user-images.githubusercontent.com/810438/44241293-e0110180-a1ba-11e8-9c5a-b0d808f745cd.png"">


Our `""a""` update is lost. We never get the change event, and never actually get a chance to set the correct state.","['Type: Bug', 'Component: DOM', 'React Core Team']",2018-08-17T16:41:41Z,13,10,https://github.com/facebook/react/issues/13424,
260,facebook/react,onMouseDown causes splash on real ios browsers,"<!--
  Note: if the issue is about documentation or the website, please file it at:
  https://github.com/reactjs/reactjs.org/issues/new
-->

**Do you want to request a *feature* or report a *bug*?**

*bug*

**What is the current behavior?**

unexpected **grey splash** caused by `onMouseDown` on real ios device's browsers, both safari and chrome.
[Please checkout this **grey splash** issue first](https://github.com/mui-org/material-ui/issues/11154)
I did some trial later, and find out that vanilla html `<button onmousedown="""">btn</button>` doesn't cause **grey splash**, but with React's jsx `<button onMouseDown={()=>{}}></button>`, there is a noticeable **grey splash**

**What is the expected behavior?**

who wants a splash?

**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**

""react"": ""^16.3.2""
","['Type: Bug', 'Browser: Safari', 'Component: DOM']",2018-04-29T14:27:00Z,9,0,https://github.com/facebook/react/issues/12717,
261,facebook/react,Unexpected warning when hydrating with portal and SSR,"**Do you want to request a *feature* or report a *bug*?**

*bug*

**What is the current behavior?**

Given the following (simplified) snippet:

```jsx
class HoverMenu extends React.Component {
  render() {
    if (typeof document === 'undefined') return null
    const root = document.getElementById('root')
    return ReactDOM.createPortal(<div>Hello World</div>, root)
  }
}

class Para extends React.Component {
  render() {
    return (
      <span>
        Some Text
        <HoverMenu />
      </span>
    )
  }
} 
```

where `div#root` is a valid `div` that exists, the following error is shown when hydrating after SSR:

`Warning: Expected server HTML to contain a matching <div> in <span>`

The warning goes away if I update the definition of `HoverMenu` to:

```jsx
class HoverMenu extends React.Component {
  componentDidMount() {
    this.setState({ isActive: true })
  }
  render() {
    const { isActive} = this.state
    if (!isActive) return null
    const root = document.getElementById('root')
    return ReactDOM.createPortal(<div>Hello World</div>, root)
  }
}
```

I'd prefer not to do that because of the double rendering caused by `setState` in `componentDidMount`.

I don't quite understand what that error is telling me. No `<div />` is rendered server-side in either case. The error is particularly confusing, as the `HoverMenu` DOM `div` is not even rendered inside a DOM `span`. (I wonder if this is happening because `HoverMenu` is nested inside a React `span`.)

**What is the expected behavior?**

No error is thrown. Or, at least that the error message is clearer.

**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**

Chrome 65
React 16.2
(SSR through Next 5.1)
","['Type: Bug', 'Difficulty: medium']",2018-04-15T07:50:53Z,28,14,https://github.com/facebook/react/issues/12615,
262,facebook/react,React onBlur events not firing during unmount,"**Do you want to request a *feature* or report a *bug*?**

bug

**What is the current behavior?**

If a DOM element rendered by a React component has focus, and the React component unmounts, the React `onBlur` event does not fire on parent DOM elements.

**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem. Your bug will get fixed much faster if we can run your code and it doesn't have dependencies other than React. Paste the link to your JSFiddle (https://jsfiddle.net/Luktwrdm/) or CodeSandbox (https://codesandbox.io/s/new) example below:**

https://codesandbox.io/s/134wrzy6q7

**What is the expected behavior?**

I would expect that, just like the browser fires a `focusout` event when removing a DOM node, React would fire an `onBlur` events up to parent nodes when the focused node is removed / unmounted.

**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**

React: 16.2
Mac OS X: 10.13.2
Browser: Chrome 67.0.3366.0, Chrome 64.0.3282.186

No idea if this worked in earlier versions of React.","['Type: Bug', 'Component: DOM', 'Type: Needs Investigation']",2018-03-13T17:38:08Z,16,20,https://github.com/facebook/react/issues/12363,
263,facebook/react,"For Controlled Input, step does not work as expected unless initialized with null or """".","*BUG*

**What is the current behavior?**
For input type=""number"", step does not work as expected if there is an initial value set. Step only seems to get honored if the initial value is """" or null.

Example:
https://codepen.io/anon/pen/MQMBmX

The example uses a controlled input binding value and step. Step is 1/10th of the value. If you edit the value in the textbox to 50000 and increment using the stepper, it will increment to 50100 (i.e. by the initial value and not by the current step).

Edit the code so initial value is """" or null. Edit textbox to 50000 and step up - value goes to 55000 as expected.

**What is the expected behavior?**
It should be possible to render a number input that honors step without having to initialize the input component value to null or """" first.

It seems when there is an initial value provided, it will write a value attribute into the DOM (e.g. value=""100"").  When initial value is """" or null then just the value attribute is written to DOM with no assignment. e.g. (value).


**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**

16.3.0-alpha.1  (ported to this version to confirm if still an issue)
0.14.7 (originally found in this version)

Seems to affect Chrome only (confirmed windows and mac, versions 59 and 64). Bug does not appear in Safari (on a mac at least).","['Type: Bug', 'Component: DOM']",2018-03-06T10:30:40Z,7,0,https://github.com/facebook/react/issues/12334,
264,facebook/react,backspace fails to clear values on input type='email',"<!--
  Note: if the issue is about documentation or the website, please file it at:
  https://github.com/reactjs/reactjs.org/issues/new
-->

**Do you want to request a *feature* or report a *bug*?**
bug 

**What is the current behavior?**
email input doesn't control for whitespace // possible variation on [Issue 6368](https://github.com/facebook/react/issues/6368); however, 6368 shows up at 15.0.0 this bug shows up at 15.2

**If the current behavior is a bug, demo**

no bug in React 15.0.0
no bug in React 15.1.0
bug on React 15.2
[React~15 fiddle](https://jsfiddle.net/cburnett/79z43qxn/9/)

bug on React 16 
[React~16 fiddle](https://jsfiddle.net/cburnett/q1297t5w/2/)

**What is the expected behavior?**

When a user presses down the backspace key and holds it, all values in the input are removed, including the whitespaces  

**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**

Works on 15.1.0
bug at >= 15.2.0 
testing on Chrome 63
MacOs Sierra 10.12
","['Type: Bug', 'Component: DOM']",2017-12-18T18:21:42Z,8,3,https://github.com/facebook/react/issues/11881,
265,facebook/react,Number input gets cleared when typing period as decimal mark,"<!--
  Note: if the issue is about documentation or the website, please file it at:
  https://github.com/reactjs/reactjs.org/issues/new
-->

**Do you want to request a *feature* or report a *bug*?**

Bug

**What is the current behavior?**

My OS and browser are configured to a locale that uses comma as the decimal mark (Finland for those interested). In the codepen below when I accidentally type a period after some number the whole input gets cleared. This is somehow related to the parent component's state being updated because if the `defaultValue` prop is removed from the `<Input>` component the input doesn't get cleared.

**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template for React 16: https://jsfiddle.net/Luktwrdm/, template for React 15: https://jsfiddle.net/hmbg7e9w/).**

https://codepen.io/anon/pen/aEOgNL?editors=0010

**What is the expected behavior?**

The input should retain its visible value even if it would be invalid (can't be converted to a number).

**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**

React 16.2.0 and Chrome 63 on macOS 10.12.6.

Tested in Safari 11.0.2 and typing a period kinda works. After typing the first number after the period it gets converted to a comma but the cursor jumps to the beginning.

Also tested in Firefox 57.0.1 but it seems to think that period is the correct decimal mark.","['Type: Bug', 'Component: DOM']",2017-12-18T11:29:42Z,13,0,https://github.com/facebook/react/issues/11877,
266,facebook/react,React does not call onBlur callback,"**Do you want to request a *feature* or report a *bug*?**
**Bug**

**What is the current behavior?**
When input control becomes disabled, React does not call onBlur callback

**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal https://jsfiddle.net/c22pez5z/

**What is the expected behavior?**
1. Focus on input element
2. Press Enter button (it makes input disabled)
3. `Blur counter` and `Native blur counter` should be equal.","['Type: Bug', 'Component: DOM']",2017-12-11T13:20:59Z,11,0,https://github.com/facebook/react/issues/11826,
267,facebook/react,"value|defaultValue={Symbol|Function} should be ignored, not stringified","Regression in master from https://github.com/facebook/react/pull/11534.
Found it thanks to the attribute fixture snapshots.","['Type: Bug', 'Difficulty: starter', 'Component: DOM', 'good first issue', 'React Core Team']",2017-12-01T01:01:08Z,95,4,https://github.com/facebook/react/issues/11734,
268,facebook/react,Resetting a form containing a focused controlled number input puts it out of step with state,"Here's a fixture demonstrating the issue (first test case): http://react-number-input-form-reset-bug.surge.sh/number-inputs

If you have a controlled number input within a form containing a reset button, hitting Enter can trigger that reset event. This causes the focused input to be reset to the `defaultValue`, which won't be in sync with the tracked value because we do that work on blur for number inputs to avoid triggering validation warnings. This doesn't affect other input types, since the tracked value is updated immediately.

This might be a viable tradeoff for avoiding those validation warnings, so I'm not sure if this is actionable, but I wanted to at least document it for future reference.


cc @nhunzaker @gaearon 

","['Type: Bug', 'Component: DOM']",2017-11-27T21:29:06Z,0,0,https://github.com/facebook/react/issues/11674,
269,facebook/react,Multiple onFocus events fired on single focus in Safari,"I'd like to report a possible bug.

1. Brief description
OnFocus synthetic event is fired multiple times on single focus occurrence in Safari. Expected behaviour is for it to be fired only once per focus.

2. Live demo: https://codesandbox.io/s/101pnjxq27

3. Minimal steps to reproduce
- install create-react-app
`$ npm install -g create-react-app`

- create an example application
`$ create-react-app input-focus-test`
`$ cd input-focus-test`

- edit application file and add input with onFocus event handler
`$ vi src/App.js`

```javascript
import React, { Component } from 'react';
import logo from './logo.svg';
import './App.css';

class App extends Component {
  handleOnFocus = evt => {
        console.log('handleOnFocus', evt);
  }

  render() {
    return (
      <div className=""App"">
        <header className=""App-header"">
          <img src={logo} className=""App-logo"" alt=""logo"" />
          <h1 className=""App-title"">Welcome to React</h1>
        </header>
        <p className=""App-intro"">
          To get started, edit <code>src/App.js</code> and save to reload.
        </p>
        <p>
          Input
          <input onFocus={this.handleOnFocus}/>
        </p>
      </div>
    );
  }
}

export default App;
```

- start application
`$ npm run start`

- open up locahost:3000 in Safari
- click on the input field with developers console opened
- notice focus event fired multiple times

4. Additional info
This issue has been found in the following environment:
- macOS Sierra version 10.12.6 (also tested and found on High Sierra)
- Safari 10.1.2 (also tested and found in Safari 10.0 and Safari 11, seems to work on latest Safari mobile, Chrome and Firefox)
- React JS 15.5.4 (also tested and found in React 16)
- example steps to reproduce above generated with create-react-app version 1.4.1

Some of our observations that might come in handy:
- this issue seems to behave randomly to some extent
- event is usually fired twice when changing focus from input to input (so first click on input fires two events, consequential fire only one, but when changing focus to a different input field it fires twice again)
- additional interesting behavior happens with multiple input fields; for instance with input fields 1 and 2, first focus on input 1 generates two events onFocus with input 1, but then focus on input 2 sometimes generates three events: onFocus with input 1, then input 2, then input 1 again as targets.
","['Type: Bug', 'Component: DOM']",2017-09-27T13:18:30Z,15,7,https://github.com/facebook/react/issues/10871,
270,facebook/react,Form restoration & React hydration,"**Do you want to request a *feature* or report a *bug*?**

 Bug

**Reproduction**

1. Open https://codesandbox.io/p/sandbox/form-restoration-react-hydration-cz1xgj?file=%2Fapp%2Fpage.js%3A2%2C1, see the source
2. Open https://cz1xgj-3000.csb.app/
3. Fill in the input, for example, you can type ""foo""
4. Press submit
5. Undo the navigation
6. See how the ""input value"" is outdated, it doesnt match what's inside the textbox.

https://github.com/facebook/react/assets/3165635/d29dd884-8896-4b59-8a55-16eb5145dfc7

**What is the current behavior?**

Let's say you start filling a form input type text or a select element with `foo`. Then you click on a link and press the back button. The browser back-forward cache (or maybe the form restauration logic) will kick in and change the initial value of the form elements. You will get the `foo` value back in the input. However, React doesn't account for it when the component is controlled.

For end-users, it means that they will try to submit a form because they see values in the inputs, but it won't work. They need to go back to each field and make a ""fake"" change so that React registers it.

This issue could also be worked around by not controlling the inputs, but I'm not sure how popular form libraries handle this.

**What is the expected behavior?**

I expect React to trigger an `onChange` event to replicate the actual form value. 
At the fundamental level, there is a coordination issue between the browser and React.

**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**

- React `@latest` (v18.2.0).
- Chrome `@latest` (v112.0)

**Details**

We have been using the following hack on Material UI:
```js
  componentDidMount() {
    // Fix SSR issue with the go back feature of the browsers.
    // Let's say you start filling the input with ""foo"", you change the page then after comes back.
    // The browser will reset the input value to ""foo"", but we also need to tell React about it.
    this.handleChange({
      target: this.input,
    });
  }
```

But it comes with issues: https://github.com/mui/material-ui/pull/8110.
So instead, we tried simulating a change event [as suggested in Stack Overflow](https://stackoverflow.com/questions/23892547/what-is-the-best-way-to-trigger-onchange-event-in-react-js) but it doesn't work anymore
```js
var event = new Event('input', { bubbles: true });
element.dispatchEvent(event);
```

So for now, we are going to disable the cache with `<form autoComplete=""off"">`.
","['Type: Bug', 'Type: Feature Request', 'Component: DOM']",2017-09-09T15:23:08Z,3,2,https://github.com/facebook/react/issues/10657,
271,facebook/react,Mouseenter event not triggered when cursor moves from disabled button,"BUG.

Mouseenter event not triggered when cursor moves from disabled button
see [example](https://alfa-laboratory.github.io/arui-feather/styleguide/#playground/code=%3Cdiv%3E%0A%20%0A%20%20%20%20%3Cdiv%20className='row'%3E%0A%20%20%20%20%20%20%20%20Hover%20on%20%20right%20button%20and%20then%20move%20cursor%20to%20left%20button%0A%20%20%20%20%20%20%20%20%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20onMouseEnter=%7B()=%3E%7Balert('Hey!');%7D%7D%20%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Not%20Disabled%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20disabled=%7B%20true%20%7D%3EDisabled%3C/button%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%0A%20%20%20%20%3Cdiv%20className='row'%3E%0A%20%20%20%20%20%20%20%20Hover%20on%20%20right%20button%20and%20then%20move%20cursor%20to%20left%20button%0A%20%20%20%20%20%20%20%20%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%20onMouseEnter=%7B()=%3E%7Balert('Hey!');%7D%7D%20%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20%20Not%20Disabled%0A%20%20%20%20%20%20%20%20%20%20%20%20%3C/button%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%20%20%20%20%3Cdiv%3E%0A%20%20%20%20%20%20%20%20%20%20%20%20%3Cbutton%3ENot%20Disabled%3C/button%3E%0A%20%20%20%20%20%20%20%20%3C/div%3E%0A%20%20%20%20%3C/div%3E%0A%20%0A%3C/div%3E)


**What is the expected behavior?**
Should trigger Mouseenter event

React 15.5.3
Latest Chrome
MacOs 10.12.5","['Type: Bug', 'Component: DOM']",2017-07-05T11:01:18Z,15,14,https://github.com/facebook/react/issues/10109,
272,facebook/react,False positive getDefaultProps warning when mixing development and production versions,"As migrating from 15.4 to 15.5, I am rewrite original react components with `create-react-class`. 

However, there is a warning.

```
react-15.5.4.js?bust=1497843639843:3287 Warning: getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.
```

 As I am really transferring from a **classic** `React.createClass` definition, I would like to ask is this warning appropriate? Or, this is a depreciation sames as the level of migrating to `create-react-class`?

Ooops, I get ticket #9999  :D","['Type: Bug', 'Component: Core Utilities', 'Difficulty: medium']",2017-06-19T05:50:17Z,39,24,https://github.com/facebook/react/issues/9999,
273,facebook/react,A number input will always have left pad 0 though parseFloat value in onChange,"**Do you want to request a *feature* or report a *bug*?**
bug

**What is the current behavior?**
I have a number input with defalut value 0 and in onChange function I'll parse value to float to avoid invalid input, but I'll always get left pad 0 on input UI. But in previouse version, my code works.

**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: https://jsfiddle.net/84v837e9/).**
<input type=""number"" value={this.state.value} onChange={e=>this.setState({value: parseFloat(e.target.value)? parseFloat(e.target.value) : 0})}

**What is the expected behavior?**
Should not have left pad 0.

**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**
react 15.5.3, all browser / all OS. It works in 15.4.2","['Type: Bug', 'Component: DOM']",2017-04-11T10:54:25Z,22,26,https://github.com/facebook/react/issues/9402,
274,facebook/react,No blur event fired when button is disabled/removed,"**Do you want to request a *feature* or report a *bug*?**
Bug

**What is the current behavior?**
When a focussed button becomes disabled, React does not dispatch a blur event.

**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: https://jsfiddle.net/reactjs/69z2wepo/).**
1. Attach a blur event to a button
2. Focus the button
3. Make the button disabled or remove it from the DOM

**What is the expected behavior?**
A blur event will be dispatched.

**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**
15.1.0, not sure if it worked in previous versions.

Isolated test case: http://jsbin.com/fuvite/1/edit?html,css,js,output","['Type: Bug', 'Component: DOM']",2017-03-09T18:13:08Z,23,14,https://github.com/facebook/react/issues/9142,
275,facebook/react,event.preventDefault in click handler does not prevent onChange from being called,"**Do you want to request a *feature* or report a *bug*?**

Bug!

**What is the current behavior?**

When rendering an `input` element of type `checkbox` with an `onClick` and `onChange` handler, `onChange` is still called even though `event.preventDefault()` is called in the `onClick` handler.

**If the current behavior is a bug, please provide the steps to reproduce and if possible a minimal demo of the problem via https://jsfiddle.net or similar (template: https://jsfiddle.net/reactjs/69z2wepo/).**

http://jsfiddle.net/rf3w7apc/

**What is the expected behavior?**

Calling `event.preventDefault` in the `onClick` handler should prevent the default action  from occurring (or undo its effect), which is to update the value of the `input` element. This should stop any `change` event listener from being invoked. See https://jsfiddle.net/L1eskzsq/ for expected behavior

**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**

Tested using a build from master, macOS 10.12.2, verified in:

* Chrome  56.0.2924.87 (64-bit)
* Firefox 51.0.1 (64-bit)

Safari 10.0.2 calls the `change` event listener in both cases.
","['Type: Bug', 'Component: DOM']",2017-02-17T18:31:19Z,7,8,https://github.com/facebook/react/issues/9023,
276,facebook/react,Clear button on iOS date input does not return correct event value,"**Bug**
For iOS only.
When pressing `clear` on a date input, the `onChange` event is fired but` event.target.value` is showing the original value rather than an empty string.

**What is the current behavior?**
On Chrome and Android, when the clear button is pressed the onChange event has a value of `''`.
On iOS when the clear button is pressed the onChange event has a value of `previousValue`.

**Demo**
https://output.jsbin.com/zojuteloto/5/
Try on Chrome/Android. Then on iOS.

**What is the expected behavior?**
Value should be returned an an empty string.

**Versions**
Affects React 15+ & iOS 10. Unsure of previous versions.
","['Type: Bug', 'Component: DOM']",2017-02-07T01:29:52Z,21,5,https://github.com/facebook/react/issues/8938,
277,facebook/react,Undo behavior in controlled textareas works differently from the default behaviour in chrome,"If you control a textarea with **value**, it behaves differently when you use undo. When the textarea is controlled, you can only undo one letter at a time. This is not how undo works normally with an uncontrolled component. Undo seems to work as expected with input components.

With a controlled textarea component, you can only undo one letter at a time. The normal undo works with some kind of algorithm for how much is going to be un- or redone.

You can try the difference in this codepen:

https://codepen.io/fabsor/pen/LbmBOv

Tested with React 15.3.1 and Chrome 54 and Chrome Canary. Works as expected in Firefox and Safari. It might be a Chrome bug?","['Type: Bug', 'Component: DOM']",2016-12-07T12:33:02Z,5,20,https://github.com/facebook/react/issues/8514,
278,facebook/react,input autoFocus causes focus to be emitted before ref,"https://jsfiddle.net/nnwd2c34/

Can reproduce on Chrome, but not in IE11.
","['Type: Bug', 'Component: DOM', 'Difficulty: challenging']",2016-09-19T20:56:27Z,14,6,https://github.com/facebook/react/issues/7769,
279,facebook/react,[bug] click not disabled on <fieldset disabled><button onClick={() => alert('clicked')}><span>click me</span></button></fieldset>,"**bug**

In the following

``` jsx
const Component = () =>
        <fieldset disabled>
            <button
              onClick={() => alert('clicked by React')}
            >click me here and <span style={{color: 'red'}}>here</span></button>
        </fieldset>;
```

clicking on `click me here and` will not trigger `alert('clicked by React')` whereas clicking on the red `here` will trigger `alert('clicked by React')`.

Demo: https://jsfiddle.net/ropbvL3y/

Thanks for React, it's an incredibly well designed tool.
","['Type: Bug', 'Component: DOM']",2016-09-13T11:28:53Z,14,6,https://github.com/facebook/react/issues/7711,
280,facebook/react,IE 11 and Edge no longer prompt to remember password on controlled form,"**Do you want to request a _feature_ or report a _bug_?**
Bug (regression) IE/Edge

**What is the current behavior?**
On React > v15.2.0, Edge and IE11 do not prompt the user to save the password for the form

**Steps to reproduce**
With react 15.1.0:
https://jsfiddle.net/69z2wepo/49876/
With React 15.2.0:
https://jsfiddle.net/69z2wepo/49877/

**What is the expected behavior?**
The browser prompts the user to save their password for the form

**Which versions of React, and which browser / OS are affected by this issue? Did this work in previous versions of React?**
React > 15.2.0. It worked in React 15.2.0
IE 11, Edge
","['Type: Bug', 'Component: DOM']",2016-07-21T12:26:25Z,14,0,https://github.com/facebook/react/issues/7328,
281,facebook/react,onMouseEnter propagation in double reactroot,"I think it is bug

Now onMouseEnter event handler calls in child element when there are several reactroots. 

To reproduce - run fiddle and move mouse from white square to red and back. In console you can see log when you do it. Link - https://jsfiddle.net/47sn3j5c/ . It works wrong.

Expected behavior: handler has to call just when mouse enter to red square. See here simiar example but with one reactroot - https://jsfiddle.net/bs3rc2wp/1/ . It works right.

React 15.1.0
","['Type: Bug', 'Component: DOM']",2016-06-28T04:08:47Z,14,6,https://github.com/facebook/react/issues/7135,
282,facebook/react,Changing state in onFocus and onChange for a select multiple element does not work in Firefox,"I want to use a controlled `<select multiple={true} />` component in React. In addition to the value I also want to keep the focused state of the select in the state. To do this, I update the state with `setState` in the `onChange`, `onFocus` and `onBlur` event handlers. Unfortunately there is an issue in Firefox: Firefox will only update the value on a change event after the select has gained focus. This means that a user has to click twice on the select element to change its value when it does not have focus. I would expect the select to gain focus and change the value at the same click.

I created a jsFiddle to demonstrate the prolem: [React select multiple issue in Firefox demonstration](https://jsfiddle.net/fugf1kw9/2/)

I only see this problem in Firefox and with select multiple. In IE and Chrome it is working as expected, and in Firefox it is working as expected for other form elements (simple select, checkbox, radio, text input, textarea).

My environment:
- Firefox 46.0.1 under Win7 x64
- React 15.1.0
","['Type: Bug', 'Component: DOM']",2016-06-02T12:57:36Z,9,2,https://github.com/facebook/react/issues/6951,
283,facebook/react,Iframe load event not firing in Chrome and Safari when src is 'about:blank',"See: https://jsfiddle.net/pnct6b7r/

It will not trigger the alert in Chrome and Safari, but it will work in Firefox and even IE8.

Is this a React issue or Webkit issue? If it is a Webkit issue, should we ""fix it"" in React given that we want [consistent events across browsers](http://facebook.github.io/react/docs/events.html)?

ps: The JSFiddle was based on the isuse #5332.
","['Type: Bug', 'Component: DOM']",2016-04-18T14:35:13Z,9,7,https://github.com/facebook/react/issues/6541,
284,facebook/react,Form input name='nodeName' breaks onSubmit event handling,"It happened that I stumbled on following edge case. If you add `name='nodeName'` attribute to form's _input_, at some point of React event handling (`ChangeEventPlugin.js: shouldUseChangeEvent()`) it will call: `elem.nodeName && elem.nodeName.toLowerCase()`, but coincidentally `nodeName` property refers to _input_ and invocation fails.

Here's a [jsFiddle example](https://jsfiddle.net/tLd7xvwc/)
","['Type: Bug', 'Component: DOM']",2016-03-17T12:58:47Z,9,2,https://github.com/facebook/react/issues/6284,
285,facebook/react,onResponderGrant called before onResponderTerminate,"When a responder captures the active responder, it seems that `onResponderTerminate` is not called until after `onResponderGrant`. This seems like the wrong thing to do. Are there reasons for this behavior?
","['Type: Bug', 'Component: DOM']",2016-03-08T18:46:34Z,18,0,https://github.com/facebook/react/issues/6217,
286,facebook/react,DataTransfer's dropEffect not working on IE/Edge with not minified version react.js,"code exmaple: [Non-minified version](https://jsfiddle.net/sy7eja68/) and [Minified version](https://jsfiddle.net/sy7eja68/1/)

Both have the same code, html and js, the only difference is referenced to different version of react.js files.

There are three boxes.  Dragging the ""**drag me**"" box will show a ""**start**"" at the top, then show a ""**over**"" if it is dragged over either ""**normal drop**"" or ""**drop react**"" box, and show a ""**end**"" with a drop to the two drop boxes.

Everything works fine on my Firefox(43.0.1), and the the [Minified version](https://jsfiddle.net/sy7eja68/1/) works fine on my IE 11, and Edge(13).

The only thing dose not work is the  [Non-minified version](https://jsfiddle.net/sy7eja68/) on IE/Edge.

When dragging over the  ""**drop react**"" box, there shows **NO** ""over"".  In the F12 console, I can see lines of ""`SCRIPT16389: Unspecified error.`"". And with `console.log(ev.dataTransfer)`, I get this result: 

```
[object DataTransfer] {
   dropEffect: <Permission denied>,
   effectAllowed: ""all"",
   files: FileList {...}, 
   items: DataTransferItemList {...}, 
   types: DOMStringList {...}
}
```

I thought the `dropEffect` should also be accessible on IE/Edge with non-minified version react.js files?
","['Type: Bug', 'Browser: IE']",2015-12-21T16:28:31Z,7,1,https://github.com/facebook/react/issues/5700,
287,facebook/react,Change event fires extra times before IME composition ends,"### Extra details

* Similar discussion with extra details and reproducing analysis: https://github.com/facebook/react/issues/8683
* Previous attempt to fix it: https://github.com/facebook/react/pull/8438 (includes some unit tests, but sufficient to be confident in the fix)

------

### Original Issue


When I was trying this [example](https://jsfiddle.net/reactjs/n47gckhr/light/) from https://facebook.github.io/react/blog/2013/11/05/thinking-in-react.html, any Chinese characters inputted by Chinese pinyin input method would fire too many renders like:

![screen shot 2015-05-21 at 14 04 36](https://cloud.githubusercontent.com/assets/1091472/7742565/2c8625b0-ffc3-11e4-8ac2-d7eb22a3aef3.png)

Actually I would expect those not to fire before I confirm the Chinese character.

Then I tried another kind of input method - wubi input method, I got this:

![screen shot 2015-05-21 at 14 17 15](https://cloud.githubusercontent.com/assets/1091472/7742657/42c27bac-ffc4-11e4-8a3a-7d4550e88a59.png)

It's weird too. So I did a test [in jQuery](http://jsbin.com/yepogahobo/1/edit?html,js,console,output):

![screen shot 2015-05-21 at 14 05 12](https://cloud.githubusercontent.com/assets/1091472/7742591/71da6842-ffc3-11e4-9d7a-a8438721029c.png)

Only after I press the space bar to confirm the character, the `keyup` event would fire.

I know it might be different between the implementation of jQuery `keyup` and react `onChange` , but I would expect the way how jQuery `keyup` handles Chinese characters instead of react's `onChange`.
","['Type: Bug', 'Component: DOM']",2015-05-21T06:30:30Z,56,36,https://github.com/facebook/react/issues/3926,
288,facebook/react,getEventKey implementation inconsistent with DOM3 spec / Firefox implementation,"There are some inconsistencies between `getEventKey` and the DOM3 keyboard event spec (as well as what Firefox has implemented):
- `key` property is not correctly set for printable characters on `keydown` and `keyup` events. This works properly in Firefox, and my interpretation of the standard is that Firefox's behaviour is correct here. From the spec: _If the key generates a printable character, and there exists an appropriate Unicode code point, then the KeyboardEvent.key attribute must be a string consisting of the char value of that character._
- Enter key only fires keydown in Firefox, but fires both keydown and keypress in Chrome. This should be consistent across browsers
- CapsLock key only fires keydown when it is toggled on. When caps lock is toggled from on to off, no keydown event is fired (this may be a browser limitation in Chrome)

Repro: Test this page in Firefox and compare the result to Chrome: http://jsfiddle.net/63ycmLhe/1/
","['Type: Bug', 'Component: DOM']",2014-09-15T04:41:21Z,6,0,https://github.com/facebook/react/issues/2193,
289,facebook/react,iframe contents cause invariant violation,"When using server rendering, putting an `<img>` in an `<iframe>` seems to invariably cause an invariant violation (it can't find the image).

This is related to #1252, but not identical. In both cases, the browser isn't aware of the inner elements however, in this case, it's because browsers that support iframes are actually mutating the DOM (by replacing the contents with the document specified in the `src` attribute).
","['Type: Bug', 'Component: DOM']",2014-03-12T21:35:00Z,8,3,https://github.com/facebook/react/issues/1253,
290,facebook/react,Provide a way to handle browser-autocompleted form values on controlled components,"When there's a controlled component for form names that the user has saved in their browser (common with username/password fields), the browser will sometimes render the page with values in those fields without firing onChange events.  If the user submits the form, the component state does not reflect what is showing to the user.

In experimenting with this, it appears that the data is there on load (tested by logging this.refs.myinput.getDOMNode().value)
","['Type: Bug', 'Component: DOM']",2014-02-22T02:05:11Z,87,160,https://github.com/facebook/react/issues/1159,
